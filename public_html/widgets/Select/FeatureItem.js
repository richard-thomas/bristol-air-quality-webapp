// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"url:widgets/Select/FeatureItem.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"feature-item-row"\x3e\r\n    \x3cdiv class\x3d"feature-icon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"light-label label-node jimu-ellipsis" data-dojo-attach-point\x3d"nameNode"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"action-btn popup-menu-button" title\x3d"${nls.showActions}"\r\n     data-dojo-attach-point\x3d"actionBtn"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e'}});
define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/html dojo/_base/event dojo/on dojo/dom-geometry dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./FeatureItem.html jimu/FeatureActionManager jimu/utils jimu/symbolUtils jimu/dijit/PopupMenu jimu/featureActions/PanTo jimu/featureActions/ShowPopup".split(" "),function(g,c,e,h,k,d,l,m,n,p,q,f,r,s,t,u){return g([m,n],{baseClass:"graphic-item",templateString:p,allowExport:!1,postCreate:function(){this.inherited(arguments);var a;this.featureLayer&&
this.featureLayer.renderer&&this.featureLayer.renderer.getSymbol?a=this.featureLayer.renderer.getSymbol(this.graphic):this.graphic.symbol&&(a=this.graphic.symbol);a&&(a=r.createSymbolNode(a,{width:36,height:36}),h.place(a,this.iconNode));this.popupMenu=s.getInstance();this.nameNode.innerHTML=this.graphic.attributes[this.displayField]||this.graphic.attributes[this.objectIdField];this.nameNode.title=this.graphic.attributes[this.displayField]||this.graphic.attributes[this.objectIdField];this.own(d(this.actionBtn,
"click",c.hitch(this,this._showActions)));this.own(d(this.iconNode,"click",c.hitch(this,this._highlight)));this.own(d(this.nameNode,"click",c.hitch(this,this._highlight)))},_highlight:function(){var a=f.toFeatureSet([this.graphic]),b=new t({map:this.map});(new u({map:this.map})).onExecute(a);b.onExecute(a)},_showActions:function(a){k.stop(a);this._createActions().then(c.hitch(this,function(){var b=l.position(a.target);this.popupMenu.show(b)}))},_createActions:function(){var a=q.getInstance(),b=f.toFeatureSet([this.graphic]);
return a.getSupportedActions(b).then(c.hitch(this,function(a){e.forEach(a,function(a){a.data=b});this.allowExport||(a=e.filter(a,function(a){return 0!==a.name.indexOf("Export")}));this.popupMenu.setActions(a)}))}})});