// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
define("dojo/Evented dojo/_base/declare dojo/Deferred dojo/_base/html dojo/has jimu/utils".split(" "),function(f,b,n,l,c,d){return b([f],{declaredClass:"saveJSON",config:null,constructor:function(a){b.safeMixin(this,a)},_getDownloadUrl:function(a){return window.Blob&&window.URL&&window.URL.createObjectURL?(a=new Blob([a],{type:"text/json"}),URL.createObjectURL(a)):"data:attachment/json;charset\x3dutf-8,"+encodeURIComponent(a)},exportsJson:function(a,b){var g=JSON.stringify(b),h=new n;try{if(c("ie")&&
10>c("ie")){var e=window.top.open("about:blank","_blank");e.document.write("sep\x3d,\r\n"+g);e.document.close();e.document.execCommand("SaveAs",!0,a);e.close();this.savePrompt()}else if(10===c("ie")||this._isIE11()||this._isEdge()){var d=new Blob([g],{type:"text/json"});navigator.msSaveBlob(d,a);this.savePrompt()}else{var k=l.create("a",{href:this._getDownloadUrl(g),target:"_blank",download:a},document.body);if(c("safari")){var m=document.createEvent("MouseEvents");m.initEvent("click",!0,!0);k.dispatchEvent(m)}else k.click();
this.savePrompt();l.destroy(k)}h.resolve()}catch(f){h.reject(f)}return h},_isIE11:function(){return 11===d.has("ie")},_isEdge:function(){return d.has("edge")},savePrompt:function(){this.emit("complete",{})}})});