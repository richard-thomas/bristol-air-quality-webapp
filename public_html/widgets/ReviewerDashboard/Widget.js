// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"esri/tasks/datareviewer/DashboardTask":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/Deferred dojo/has ./_DRSBaseTask ./DashboardResult ./ReviewerFilters ../../kernel ../../request".split(" "),function(k,m,d,h,g,b,e,f,a,c){return k(b,{declaredClass:"esri.tasks.datareviewer.DashboardTask",constructor:function(a){this.onGetDashboardResultsComplete=d.hitch(this,this.onGetDashboardResultsComplete);this.onGetDashboardFieldNamesComplete=d.hitch(this,this.onGetDashboardFieldNamesComplete)},
getDashboardResults:function(a,b){var p=this._successHandler,l=this._errorHandler,v=this._appendQueryParams,r=new h,g,q;null===b||void 0===b?(q=this._url+"/Dashboard/reviewerResultsBy/"+a,g={f:"json"}):(q=this._url+"/Dashboard/reviewerResultsBy/"+a+"/filter",g={f:"json",filtersArray:b.toJSON()});q=v(q);c({callbackParamName:"callback",url:q,content:g}).then(d.hitch(this,function(a,b){if(void 0!==a.error){var c=Error();c.message=a.error.message;c.code=a.error.code;l(c,r)}else try{if(void 0===a.dashboardResults)l(null,
r);else{var n=new e;m.forEach(a.dashboardResults,function(l,a){n.fieldValues.push(l.fieldValue);n.counts.push(l.count)});n.fieldName=a.fieldName;c=new f;c.createFromJsonObject(a);n.filters=c;p({dashboardResult:n},"onGetDashboardResultsComplete",r)}}catch(v){l(v,r)}}),function(a,b){l(a,r)});return r},getDashboardFieldNames:function(){var a=this._successHandler,b=this._errorHandler,f=this._appendQueryParams,l=this._url+"/Dashboard",l=f(l),e=new h;c({callbackParamName:"callback",url:l,content:{f:"json"}}).then(d.hitch(this,
function(l,c){if(void 0!==l.error){var f=Error();f.message=l.error.message;f.code=l.error.code;b(f,e)}else try{var d=[];m.forEach(l.reviewerResultsBy,function(l,a){d.push(l.name)});a({fieldNames:d},"onGetDashboardFieldNamesComplete",e)}catch(p){b(p,e)}}),function(l,a){b(l,e)});return e},onGetDashboardResultsComplete:function(a){},onGetDashboardFieldNamesComplete:function(a){}})})},"esri/tasks/datareviewer/_DRSBaseTask":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Deferred dojo/has ../../request ../../urlUtils ../../kernel ../Task ./ReviewerSession".split(" "),
function(k,m,d,h,g,b,e,f,a,c){return k(a,{declaredClass:"esri.tasks.datareviewer.DRSBaseTask",_url:null,_queryParams:null,_reviewerMapServerUrl:null,constructor:function(a){"/"==a[a.length-1]&&(a=a.slice(0,-1));a=e.urlToObject(a);this._url=a.path;this._queryParams=a.query;a=this._url.toLowerCase().lastIndexOf("/exts/");0<a&&(this._reviewerMapServerUrl=this._url.substring(0,a));this._successHandler=m.hitch(this,this._successHandler);this._errorHandler=m.hitch(this,this._errorHandler);this._appendQueryParams=
m.hitch(this,this._appendQueryParams);this.onError=m.hitch(this,this.onError)},_appendQueryParams:function(a){if(this._queryParams)for(var b in this._queryParams)a=e.urlToObject(a).query?a+("\x26"+b+"\x3d"+this._queryParams[b]):a+("?"+b+"\x3d"+this._queryParams[b]);return a},_successHandler:function(a,b,c){b&&this[b].apply(this,[a]);c&&c.resolve(a)},_errorHandler:function(a,b){null===a&&(a=Error("Unexpected response received from server"),a.code=500);this.onError(a);b&&b.reject(a)},getReviewerMapServerUrl:function(){var a=
null;if(a=this._reviewerMapServerUrl){if(this._queryParams)for(var b in this._queryParams)a=e.urlToObject(a).query?a+("\x26"+b+"\x3d"+this._queryParams[b]):a+("?"+b+"\x3d"+this._queryParams[b]);return a}return null},getLifecycleStatusStrings:function(){var a=this._successHandler,c=this._errorHandler,f=this._appendQueryParams,l=this._url+"/Utilities/getLifecycleStatusStrings",l=f(l),e=new h;b({callbackParamName:"callback",url:l,content:{f:"json"}}).then(m.hitch(this,function(l,b){if(void 0!==l.error){var f=
Error();f.message=l.error.message;f.code=l.error.code;c(f,e)}else try{if(f=l.lifecycleStatusString,void 0===f)c(null,e);else{var p=[];d.forEach(f,function(a,l){p[a.descriptionCode]=a.descriptionString});a({lifecycleStatusStrings:p},"onGetLifecycleStatusStringsComplete",e)}}catch(g){c(g,e)}}),function(a,l){c(a,e)});return e},createReviewerSession:function(a,f){var e=this._successHandler,l=this._errorHandler,v=this._appendQueryParams,r=this._url+"/Utilities/createReviewerSession",r=v(r),d=new h;b({callbackParamName:"callback",
url:r,content:{sessionName:a,sessionProperties:f.toJsonSessionOptions(),f:"json"}}).then(m.hitch(this,function(a,b){if(void 0!==a.error){var f=Error();f.message=a.error.message;f.code=a.error.code;l(f,d)}else try{if(void 0===a.sessionAttributes)l(null,d);else{var f=a.sessionAttributes,v=new c(f.sessionId,f.sessionName,f.userName,f.versionName);e({reviewerSession:v},"onCreateReviewerSessionComplete",d)}}catch(r){l(r,d)}}),function(a,b){l(a,d)});return d},getReviewerSessions:function(){var a=this._successHandler,
f=this._errorHandler,e=this._appendQueryParams,l=this._url+"/Utilities/getReviewerSessions",l=e(l),v=new h;b({callbackParamName:"callback",url:l,content:{f:"json"}}).then(m.hitch(this,function(l,b){if(void 0!==l.error){var e=Error();e.message=l.error.message;e.code=l.error.code;f(e,v)}else try{if(e=l.sessionAttributes,void 0===e)f(null,v);else{var p=[];d.forEach(e,function(a,l){p[l]=new c(a.sessionId,a.sessionName,a.userName,a.versionName)});a({reviewerSessions:p},"onGetReviewerSessionsComplete",
v)}}catch(g){f(g,v)}}),function(a,l){f(a,v)});return v},getCustomFieldNames:function(){var a=this._successHandler,f=this._errorHandler,c="BATCHJOBCHECKGROUP CHECKTITLE FEATUREOBJECTCLASS LIFECYCLEPHASE LIFECYCLESTATUS SESSIONID SEVERITY SUBTYPE".split(" "),l=this._appendQueryParams,e=this._url+"/Dashboard",e=l(e),r=new h;b({callbackParamName:"callback",url:e,content:{f:"json"}}).then(m.hitch(this,function(l,b){if(void 0!==l.error){var e=Error();e.message=l.error.message;e.code=l.error.code;f(e,r)}else try{var v=
[];void 0===l.reviewerResultsBy&&f(null,r);d.forEach(l.reviewerResultsBy,function(a,l){-1===c.indexOf(a.name)&&v.push(a.name)});a({customFieldNames:v},"onGetCustomFieldNamesComplete",r)}catch(g){f(g,r)}}),function(a,l){f(a,r)});return r},onGetLifecycleStatusStringsComplete:function(a){},onGetReviewerSessionsComplete:function(a){},onCreateReviewerSessionComplete:function(a){},onGetCustomFieldNamesComplete:function(a){},onError:function(a){}})})},"esri/tasks/datareviewer/ReviewerSession":function(){define(["dojo/_base/declare",
"dojo/has","dojo/_base/lang","../../kernel"],function(k,m,d,h){return k(null,{declaredClass:"esri.tasks.datareviewer.ReviewerSession",sessionId:NaN,sessionName:"",userName:"",versionName:"",constructor:function(d,b,e,f){this.sessionId=d;this.sessionName=b;this.userName=e;void 0!==f&&(this.versionName=f)},toString:function(){return isNaN(this.sessionId)?null:"Session "+this.sessionId+" : "+this.sessionName}})})},"esri/tasks/datareviewer/DashboardResult":function(){define(["dojo/_base/declare","dojo/has",
"dojo/_base/lang","../../kernel"],function(k,m,d,h){return k(null,{declaredClass:"esri.tasks.datareviewer.DashboardResult",fieldName:null,fieldValues:null,counts:null,filters:null,constructor:function(){this.fieldName="";this.fieldValues=[];this.counts=[]},getCount:function(d){if(0<this.fieldValues.length&&0<this.counts.length&&this.fieldValues.length===this.counts.length)for(var b=0;b<this.fieldValues.length;b++)if(this.fieldValues[b]===d)return this.counts[b];return 0}})})},"esri/tasks/datareviewer/ReviewerFilters":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/json ../../geometry/Polygon dojo/has ../../kernel".split(" "),
function(k,m,d,h,g,b,e){return k(null,{declaredClass:"esri.tasks.datareviewer.ReviewerFilters",constructor:function(){this.singleAttributeFilters=[];this.listAttributeFilters=[];this.rangeAttributeFilters=[];this.spatialFilters=[]},addAttributeFilter:function(b,a){var c={};c.fieldName=b;d.isArray(a)?1<a.length?(c.fieldValue=a,this.listAttributeFilters.push(c)):(c.fieldValue=a[0],this.singleAttributeFilters.push(c)):(c.fieldValue=a,this.singleAttributeFilters.push(c))},addRangeFilter:function(b,a,
c){var e={},d={};d.minFieldValue=a;d.maxFieldValue=c;e.fieldName=b;e.fieldValue=d;this.rangeAttributeFilters.push(e)},addSpatialFilter:function(b){var a={};b&&("rings"in b&&"spatialReference"in b)&&(a.rings=b.rings,a.spatialReference=b.spatialReference,this.spatialFilters.push(a))},toJSON:function(){var b=[];null!==this.singleAttributeFilters&&0<this.singleAttributeFilters.length&&b.push({singleAttributeFilter:this.singleAttributeFilters});null!==this.listAttributeFilters&&0<this.listAttributeFilters.length&&
b.push({listAttributeFilter:this.listAttributeFilters});null!==this.rangeAttributeFilters&&0<this.rangeAttributeFilters.length&&b.push({rangeAttributeFilter:this.rangeAttributeFilters});null!==this.spatialFilters&&0<this.spatialFilters.length&&b.push({spatialFilter:this.spatialFilters});return 0===b.length?"":h.stringify({filtersArray:b})},getCount:function(){var b=0;null!==this.singleAttributeFilters&&0<this.singleAttributeFilters.length&&(b+=this.singleAttributeFilters.length);null!==this.listAttributeFilters&&
0<this.listAttributeFilters.length&&(b+=this.listAttributeFilters.length);null!==this.rangeAttributeFilters&&0<this.rangeAttributeFilters.length&&(b+=this.rangeAttributeFilters.length);null!==this.spatialFilters&&0<this.spatialFilters.length&&(b+=this.spatialFilters.length);return b},addReviewerFilters:function(b){if(!b)return 0;var a=0;m.forEach(b.singleAttributeFilters,function(b){this.addAttributeFilter(b.fieldName,b.fieldValue);a++});m.forEach(b.listAttributeFilters,function(b){this.addAttributeFilter(b.fieldName,
b.fieldValue);a++});m.forEach(b.rangeAttributeFilters,function(b){this.addRangeFilter(b.fieldName,b.minValue,b.maxValue);a++});m.forEach(b.spatialFilters,function(b){this.addSpatialFilter(b);a++});return a},createFromJsonObject:function(b){b&&(b.filters&&d.isArray(b.filters))&&m.forEach(b.filters,d.hitch(this,function(a){"spatialFilter"in a?m.forEach(a.spatialFilter,d.hitch(this,function(a){this.addSpatialFilter(new g(a))})):"singleAttributeFilter"in a?m.forEach(a.singleAttributeFilter,d.hitch(this,
function(a){this.addAttributeFilter(a.fieldName,a.fieldValue)})):"listAttributeFilter"in a?m.forEach(a.listAttributeFilter,d.hitch(this,function(a){this.addAttributeFilter(a.fieldName,a.fieldValue)})):"rangeAttributeFilter"in a&&m.forEach(a.rangeAttributeFilter,d.hitch(this,function(a){this.addRangeFilter(a.fieldName,a.minValue,a.maxValue)}))}))}})})},"widgets/ReviewerDashboard/ReviewerMapHelper":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/_base/Color dojo/Deferred esri/symbols/SimpleMarkerSymbol esri/symbols/SimpleLineSymbol esri/symbols/SimpleFillSymbol esri/request esri/main esri/layers/LayerDrawingOptions esri/renderers/UniqueValueRenderer".split(" "),
function(k,m,d,h,g,b,e,f,a,c,n,t){return k(null,{_drsExtensionUrl:null,_queryParams:null,_reviewerMapServerUrl:null,pointSymbol:null,lineSymbol:null,polySymbol:null,_fieldQualifier:null,_colorMapCache:null,SEVERITY_COLORS:{1:"#D80202",2:"#DF370C",3:"#E76D16",4:"#E76D16",5:"#FFEC5A"},LIFECYCLEPHASE_COLORS:{2:"#C00000",4:"#FFFF00",6:"#92D050"},DEFAULT_COLOR:"#00C5FF",defaultColor:null,constructor:function(a,l,v,r,d){a=c.urlToObject(a);this._drsExtensionUrl=a.path;this._queryParams=a.query;a=this._drsExtensionUrl.toLowerCase().lastIndexOf("/exts/");
0<a&&(this._reviewerMapServerUrl=this._drsExtensionUrl.substring(0,a));this.defaultColor=null!==d?d:new h(this.DEFAULT_COLOR);this.pointSymbol=null!==l?l:new b(b.STYLE_CIRCLE,7,null,this.defaultColor);this.lineSymbol=null!==v?v:new e(e.STYLE_SOLID,this.defaultColor,5);this.polySymbol=null!==r?r:new f(f.STYLE_SOLID,null,this.defaultColor);this._colorMapCache={}},getLayerDrawingOptions:function(b,l,f){var c=new g;if(!b)return c;var e=this._reviewerMapServerUrl+"/0";null!==this._fieldQualifier?this._generateLayerDrawingOptions(b,
l,f,c):a({url:e,content:{f:"json"},callbackParamName:"callback"}).then(d.hitch(this,function(a){var e=RegExp(/severity/i);m.forEach(a.fields,d.hitch(this,function(a){if(a.name.match(e))try{var d=a.name.split(e);this._fieldQualifier=1<d.length?d[0]:"";this._generateLayerDrawingOptions(b,l,f,c)}catch(n){this._errorHandler(n,c)}}))}),d.hitch(this,function(a){this._errorHandler(a,c)}));return c},_generateLayerDrawingOptions:function(a,l,b,c){var f,e=[];f=this._mapDashboardFieldNameToFullyQualifiedName(a.fieldName).toLowerCase();
e=a.fieldValues;l=this._updateColorMapAndCache(a.fieldName,e,l,b);a=this._createPolyRenderer(f,e,l);b=this._createLineRenderer(f,e,l);f=this._createPointRenderer(f,e,l);l={layerDrawingOptions:{layerDrawingOptionsArray:[this._createLayerDrawingOptions(0,f),this._createLayerDrawingOptions(1,b),this._createLayerDrawingOptions(2,a)],colorMap:l}};c.resolve(l)},_updateColorMapAndCache:function(a,b,f,c){if(null===f){if(0<=a.toLowerCase().indexOf("severity")||0<=a.toLowerCase().indexOf("lifecyclephase"))c=
!0;f=this._colorMapCache.hasOwnProperty(a)?this._colorMapCache[a]:this._createDefaultColorMap(a)}b=this._appendMissingValuesToColorMap(b,f,c);return this._colorMapCache[a]=b},_appendMissingValuesToColorMap:function(a,b,f){var c=0,e;for(e in b)b.hasOwnProperty(e)&&++c;for(c=0;c<a.length;c++)b.hasOwnProperty(a[c])||(b[a[c]]=f?this.defaultColor:new h(this.getColor(c)));return b},getColor:function(a){var b="#E8940C #98C000 #0CBDE8 #F2DA9A #E74327 #DECF3F #878786 #452B7F #9A8B76 #B2912F #9893da #139887".split(" ");
return 11>a?b[a]:"#"+Math.floor(16777215*Math.random()).toString(16)},_createLayerDrawingOptions:function(a,b){var c=new n;c.layerId=a;c.renderer=b;return c},_createDefaultColorMap:function(a){return 0<=a.toLowerCase().indexOf("severity")?this._getColorMap(this.SEVERITY_COLORS):0<=a.toLowerCase().indexOf("lifecyclephase")?this._getColorMap(this.LIFECYCLEPHASE_COLORS):{}},_getColorMap:function(a){var b={},c;for(c in a)b[c]=new h(a[c]);return b},_mapDashboardFieldNameToFullyQualifiedName:function(a){if(!a||
""===a)return"";"FEATUREOBJECTCLASS"===a.toUpperCase()&&(a="ORIGINTABLE");return null!==this._fieldQualifier&&0<this._fieldQualifier.length?this._fieldQualifier+a:a},_createPolyRenderer:function(a,b,c){for(var d=new t(this.polySymbol,a),n=0;n<b.length;n++){var q=b[n],g=new f;g.style=this.polySymbol.style;c.hasOwnProperty(q)?g.color=c[q]:g.color=this.defaultColor;if(null!==this.polySymbol.outline){var h=new e;h.color=g.color;h.style=this.polySymbol.outline.style;h.width=this.polySymbol.outline.width;
g.outline=h}else g.outline=new e(e.STYLE_SOLID,g.color,1);"\x3cNull\x3e"===q&&(d=new t(g,a));d.addValue(q,g)}return d},_createLineRenderer:function(a,b,c){for(var f=new t(this.lineSymbol,a),d=0;d<b.length;d++){var n=b[d],g=new e;c.hasOwnProperty(n)?g.color=c[n]:g.color=this.defaultColor;g.style=this.lineSymbol.style;g.width=this.lineSymbol.width;"\x3cNull\x3e"===n&&(f=new t(g,a));f.addValue(n,g)}return f},_createPointRenderer:function(a,l,c){for(var f=new t(this.pointSymbol,a),e=0;e<l.length;e++){var d=
l[e],n=new b;c.hasOwnProperty(d)?n.color=c[d]:n.color=this.defaultColor;n.outline=this.pointSymbol.outline;n.size=this.pointSymbol.size;n.style=this.pointSymbol.style;"\x3cNull\x3e"===d&&(f=new t(n,a));f.addValue(d,n)}return f},_errorHandler:function(a,b){null===a&&(a=Error("Unexpected response received from server"),a.code=500);b&&b.reject(a)}})})},"esri/tasks/datareviewer/ReviewerResultsTask":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Deferred dojo/json dojo/has ./_DRSBaseTask ../../request ../FeatureSet ../../layers/FeatureEditResult ../../kernel".split(" "),
function(k,m,d,h,g,b,e,f,a,c,n){return k(e,{declaredClass:"esri.tasks.datareviewer.ReviewerResultsTask",constructor:function(a){this.onGetResultsComplete=m.hitch(this,this.onGetResultsComplete);this.onWriteResultComplete=m.hitch(this,this.onWriteResultComplete);this.onWriteFeatureAsResultComplete=m.hitch(this,this.onWriteFeatureAsResultComplete);this.onGetLayerDefinitionComplete=m.hitch(this,this.onGetLayerDefinitionComplete);this.onGetBatchRunDetailsComplete=m.hitch(this,this.onGetBatchRunDetailsComplete)},
getResults:function(b,c){var l=this._successHandler,e=this._errorHandler,d=this._appendQueryParams,n=this._url+"/ReviewerResults/getResults",n=d(n),g=new h,d={queryParameters:b.toJSON(),f:"json"};null!==c&&void 0!==c&&(d.filtersArray=c.toJSON());f({callbackParamName:"callback",url:n,content:d}).then(m.hitch(this,function(b,c){if(void 0!==b.error){var f=Error();f.message=b.error.message;f.code=b.error.code;e(f,g)}else try{void 0===b.features||void 0===b.fieldAliases||void 0===b.fields?e(null,g):(f=
new a(b),l({featureSet:f},"onGetResultsComplete",g))}catch(d){e(d,g)}}),function(a,b){e(a,g)});return g},writeResult:function(a,b){var l=this._successHandler,c=this._errorHandler,e=this._appendQueryParams,d=this._url+"/ReviewerResults/writeResult",d=e(d),n=new h;f({callbackParamName:"callback",url:d,content:{reviewerAttributes:a.toJSON(),geometry:g.stringify(b.toJson()),f:"json"}}).then(m.hitch(this,function(a,b){var f=Error();if(void 0!==a.error)f.message=a.error.message,f.code=a.error.code,c(f,
n);else try{void 0!==a.result&&"error"===a.result?(f.message=a.messages,f.code=a.result,c(f,n)):"success"===a.result?l({success:!0},"onWriteResultComplete",n):c(null,n)}catch(e){c(e,n)}}),function(a,b){c(a,n)});return n},writeFeatureAsResult:function(a,b){var l=this._successHandler,c=this._errorHandler,e=this._appendQueryParams,n=this._url+"/ReviewerResults/writeFeatureAsResult",n=e(n),d=new h;f({callbackParamName:"callback",url:n,content:{reviewerAttributes:a.toJSON(),feature:g.stringify(b.toJson()),
f:"json"}}).then(m.hitch(this,function(a,b){var f=Error();if(void 0!==a.error)f.message=a.error.message,f.code=a.error.code,c(f,d);else try{void 0!==a.result&&"error"===a.result?(f.message=a.messages,f.code=a.result,c(f,d)):"success"===a.result?l({success:!0},"onWriteFeatureAsResultComplete",d):c(null,d)}catch(e){c(e,d)}}),function(a,b){c(a,d)});return d},getLayerDefinition:function(a){var b=this._successHandler,l=this._errorHandler,c=this._appendQueryParams,e=this._url+"/ReviewerResults/getLayerDefinition",
e=c(e),d=new h,c={f:"json"};if(null!==a||void 0!==a)c.filtersArray=a.toJSON();f({callbackParamName:"callback",url:e,content:c}).then(m.hitch(this,function(a,c){if(void 0!==a.error){var f=Error();f.message=a.error.message;f.code=a.error.code;l(f,d)}else try{void 0===a.whereClause?l(null,d):b({whereClause:a.whereClause},"onGetLayerDefinitionComplete",d)}catch(e){l(e,d)}}),function(a,b){l(a,d)});return d},getBatchRunDetails:function(b){var c=this._successHandler,l=this._errorHandler,e=this._appendQueryParams,
d=this._url+"/ReviewerResults/getBatchRunDetails",d=e(d),n=new h;f({callbackParamName:"callback",url:d,content:{batchRunIds:g.stringify(b),f:"json"}}).then(m.hitch(this,function(b,f){if(void 0!==b.error){var e=Error();e.message=b.error.message;e.code=b.error.code;l(e,n)}else try{void 0===b.features||void 0===b.fieldAliases||void 0===b.fields?l(null,n):(e=new a(b),c({featureSet:e},"onGetBatchRunDetailsComplete",n))}catch(d){l(d,n)}}),function(a,b){l(a,n)});return n},updateLifecycleStatus:function(a,
b,l,e){var n=this._successHandler,g=this._errorHandler,q=this._appendQueryParams,k=this._url+"/ReviewerResults/updateLifecycleStatus",k=q(k),E=new h;f({callbackParamName:"callback",url:k,content:{sessionId:a,lifecycleStatus:b,technicianName:l,filtersArray:e.toJSON(),f:"json"}}).then(m.hitch(this,function(a,b){if(void 0!==a.error){var l=Error();l.message=a.error.message;l.code=a.error.code;g(l,E)}else try{var f=[];d.forEach(a.updateResults,function(a){var b=new c;b.error=Error(a.description);b.success=
a.success;b.objectId=a.objectId;f.push(b)});n({featureEditResults:f},"onUpdateLifecycleStatusComplete",E)}catch(e){g(e,E)}}),function(a,b){g(a,E)});return E},getResultsFieldNames:function(){return"recordId objectId subtype category sessionId checktitle resourceName checkName notes severity reviewStatus correctionStatus verificationStatus reviewTechnician correctionTechnician verificationTechnician reviewDateUtc correctionDateUtc verificationDateUtc lifecycleStatus".split(" ")},onGetResultsComplete:function(a){},
onWriteResultComplete:function(a){},onWriteFeatureAsResultComplete:function(a){},onGetLayerDefinitionComplete:function(a){},onGetBatchRunDetailsComplete:function(a){},onUpdateLifecycleStatusComplete:function(a){}})})},"esri/tasks/datareviewer/ReviewerLifecycle":function(){define(["dojo/_base/declare","dojo/has","dojo/_base/lang","../../kernel"],function(k,m,d,h){return{declaredClass:"esri.tasks.datareviewer.ReviewerLifecycle",UNKNOWN:0,REVIEWED:1,RESOLVED:2,MARK_AS_EXCPETION:3,ACCEPTABLE:4,UNRESOLVED_EXCEPTION:5,
UNACCEPTABLE:6,UNRESOLVED_UNACCEPTABLE:7,UNRESOLVED_ACCEPTABLE:8,EXCEPTION:9,NEW:10,PASSED:11,FAILED:12,REVIEW:2,CORRECTION:4,VERIFICATION:6,LIFECYCLESTATUS_DESCRIPTIONS:{"0":"Unknown",1:"Reviewed",2:"Resolved",3:"Mark As Exception",4:"Acceptable",6:"Unacceptable",9:"Exception",10:"New",11:"Passed",12:"Failed"},LIFECYCLEPHASE_DESCRIPTIONS:{2:"Review",4:"Correction",6:"Verification"},getLifecycleInfo:function(d){if(null===d||0===d.length)return null;d.sort();for(var b=[],b=this._getNextStatus(d[0]),
e=1;e<d.length;e++){for(var f=this._getNextStatus(d[e]),a=[],c=0;c<f.length;c++)-1!=b.indexOf(f[c])&&a.push(f[c]);if(0<a.length)b=a;else{b.length=0;break}}d=null;0<b.length&&(d={nextLifecycleStatus:b,nextLifecyclePhase:this._getNextLifecyclePhase(b[0])});return d},toLifecycleStatusString:function(d){return isNaN(d)||!1===this.LIFECYCLESTATUS_DESCRIPTIONS.hasOwnProperty(d)?null:this.LIFECYCLESTATUS_DESCRIPTIONS[d]},toLifecyclePhaseString:function(d){return isNaN(d)||!1===this.LIFECYCLEPHASE_DESCRIPTIONS.hasOwnProperty(d)?
null:this.LIFECYCLEPHASE_DESCRIPTIONS[d]},getCurrentLifecyclePhase:function(d){if(isNaN(d)||!1===this.LIFECYCLESTATUS_DESCRIPTIONS.hasOwnProperty(d))return null;var b=-1;switch(d){case this.UNKNOWN:case this.REVIEWED:case this.UNACCEPTABLE:case this.UNRESOLVED_UNACCEPTABLE:case this.NEW:b=this.REVIEW;break;case this.RESOLVED:case this.MARK_AS_EXCPETION:b=this.CORRECTION;break;case this.ACCEPTABLE:case this.EXCEPTION:case this.UNRESOLVED_EXCEPTION:case this.UNRESOLVED_ACCEPTABLE:case this.PASSED:case this.FAILED:b=
this.VERIFICATION}return this.LIFECYCLEPHASE_DESCRIPTIONS[b]},_getNextStatus:function(d){var b=[];switch(d){case this.UNKNOWN:b.push(this.RESOLVED);b.push(this.MARK_AS_EXCPETION);b.push(this.PASSED);b.push(this.FAILED);break;case this.REVIEWED:b.push(this.RESOLVED);b.push(this.MARK_AS_EXCPETION);break;case this.NEW:b.push(this.PASSED);b.push(this.FAILED);break;case this.UNACCEPTABLE:case this.UNRESOLVED_UNACCEPTABLE:b.push(this.RESOLVED);b.push(this.MARK_AS_EXCPETION);break;case this.RESOLVED:b.push(this.ACCEPTABLE);
b.push(this.UNACCEPTABLE);break;case this.MARK_AS_EXCPETION:case this.UNRESOLVED_EXCEPTION:case this.UNRESOLVED_ACCEPTABLE:b.push(this.EXCEPTION);b.push(this.UNACCEPTABLE);break;case this.ACCEPTABLE:b.push(this.UNACCEPTABLE);break;case this.EXCEPTION:b.push(this.UNACCEPTABLE);break;case this.PASSED:b.push(this.FAILED);break;case this.FAILED:b.push(this.PASSED)}return b},_getNextLifecyclePhase:function(d){var b=-1;switch(d){case this.UNKNOWN:case this.REVIEWED:case this.UNACCEPTABLE:case this.UNRESOLVED_UNACCEPTABLE:b=
this.CORRECTION;break;case this.NEW:case this.RESOLVED:case this.MARK_AS_EXCPETION:case this.PASSED:case this.FAILED:b=this.VERIFICATION;break;case this.ACCEPTABLE:case this.EXCEPTION:case this.UNRESOLVED_EXCEPTION:case this.UNRESOLVED_ACCEPTABLE:b=this.REVIEW}return b}}})},"dojox/charting/Chart":function(){define("../main dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/dom-style dojo/dom dojo/dom-geometry dojo/dom-construct dojo/_base/Color dojo/sniff ./Element ./SimpleTheme ./Series ./axis2d/common dojox/gfx/shape dojox/gfx dojo/has!dojo-bidi?./bidi/Chart dojox/lang/functional dojox/lang/functional/fold dojox/lang/functional/reversed".split(" "),
function(k,m,d,h,g,b,e,f,a,c,n,t,p,l,v,r,y,q){function M(a,b){a&&b&&(a.min=Math.min(a.min,b.min),a.max=Math.max(a.max,b.max));return a||b}function E(a,b){var l={},c={};d.forEach(a,function(a){var b=l[a.name]=a.getSeriesStats();a.hAxis&&(c[a.hAxis]=M(c[a.hAxis],{min:b.hmin,max:b.hmax}));a.vAxis&&(c[a.vAxis]=M(c[a.vAxis],{min:b.vmin,max:b.vmax}))});d.forEach(a,function(a){var f=l[a.name];if(a.hAxis){var e=c[a.hAxis];f.hmin=e.min;f.hmax=e.max}a.vAxis&&(e=c[a.vAxis],f.vmin=e.min,f.vmax=e.max);a.initializeScalers(b,
f)})}var J=m.getObject("charting",!0,k),D=q.lambda("item.clear()"),x=q.lambda("item.purgeGroup()"),w=q.lambda("item.destroy()"),G=q.lambda("item.dirty \x3d false"),z=q.lambda("item.dirty \x3d true"),B=q.lambda("item.name"),u={l:10,t:10,r:10,b:10};k=h(c("dojo-bidi")?"dojox.charting.NonBidiChart":"dojox.charting.Chart",null,{constructor:function(a,l){l||(l={});this.margins=l.margins||u;this._customMargins=!!l.margins;this.stroke=l.stroke;this.fill=l.fill;this.delayInMs=l.delayInMs||200;this.title=l.title;
this.titleGap=l.titleGap;this.titlePos=l.titlePos;this.titleFont=l.titleFont;this.titleFontColor=l.titleFontColor;this.titleAlign=l.titleAlign;this.chartTitle=null;this.htmlLabels=!0;"htmlLabels"in l&&(this.htmlLabels=l.htmlLabels);this.theme=null;this.axes={};this.stack=[];this.plots={};this.series=[];this.runs={};this.dirty=!0;this.node=b.byId(a);var c=e.getMarginBox(a);this.surface=r.createSurface(this.node,c.w||400,c.h||300);-1==this.surface.declaredClass.indexOf("vml")&&(this._nativeClip=!0)},
destroy:function(){d.forEach(this.series,w);d.forEach(this.stack,w);q.forIn(this.axes,w);this.surface.destroy();this.chartTitle&&this.chartTitle.tagName&&f.destroy(this.chartTitle)},getCoords:function(){var a=this.node,b=g.getComputedStyle(a),b=e.getMarginBox(a,b),a=e.position(a,!0);b.x=a.x;b.y=a.y;return b},setTheme:function(a){this.theme=a.clone();this._customMargins||(this.margins=this.theme.chart.margins||u);this.dirty=!0;return this},addAxis:function(a,b){var l;l=b&&b.type||"Default";if("string"==
typeof l){if(!J.axis2d||!J.axis2d[l])throw Error("Can't find axis: "+l+" - Check require() dependencies.");l=new J.axis2d[l](this,b)}else l=new l(this,b);l.name=a;l.dirty=!0;a in this.axes&&this.axes[a].destroy();this.axes[a]=l;this.dirty=!0;return this},getAxis:function(a){return this.axes[a]},removeAxis:function(a){a in this.axes&&(this.axes[a].destroy(),delete this.axes[a],this.dirty=!0);return this},addPlot:function(a,b){var l;l=b&&b.type||"Default";if("string"==typeof l){if(!J.plot2d||!J.plot2d[l])throw Error("Can't find plot: "+
l+" - didn't you forget to dojo.require() it?");l=new J.plot2d[l](this,b)}else l=new l(this,b);l.name=a;l.dirty=!0;a in this.plots?(this.stack[this.plots[a]].destroy(),this.stack[this.plots[a]]=l):(this.plots[a]=this.stack.length,this.stack.push(l));this.dirty=!0;return this},getPlot:function(a){return this.stack[this.plots[a]]},removePlot:function(a){if(a in this.plots){var b=this.plots[a];delete this.plots[a];this.stack[b].destroy();this.stack.splice(b,1);q.forIn(this.plots,function(a,l,c){a>b&&
(c[l]=a-1)});var l=d.filter(this.series,function(b){return b.plot!=a});l.length<this.series.length&&(d.forEach(this.series,function(b){b.plot==a&&b.destroy()}),this.runs={},d.forEach(l,function(a,b){this.runs[a.plot]=b},this),this.series=l);this.dirty=!0}return this},getPlotOrder:function(){return q.map(this.stack,B)},setPlotOrder:function(a){var b={},l=q.filter(a,function(a){if(!(a in this.plots)||a in b)return!1;b[a]=1;return!0},this);l.length<this.stack.length&&q.forEach(this.stack,function(a){a=
a.name;a in b||l.push(a)});a=q.map(l,function(a){return this.stack[this.plots[a]]},this);q.forEach(a,function(a,b){this.plots[a.name]=b},this);this.stack=a;this.dirty=!0;return this},movePlotToFront:function(a){if(a in this.plots){var b=this.plots[a];if(b){var l=this.getPlotOrder();l.splice(b,1);l.unshift(a);return this.setPlotOrder(l)}}return this},movePlotToBack:function(a){if(a in this.plots){var b=this.plots[a];if(b<this.stack.length-1){var l=this.getPlotOrder();l.splice(b,1);l.push(a);return this.setPlotOrder(l)}}return this},
addSeries:function(a,b,l){b=new p(this,b,l);b.name=a;a in this.runs?(this.series[this.runs[a]].destroy(),this.series[this.runs[a]]=b):(this.runs[a]=this.series.length,this.series.push(b));this.dirty=!0;!("ymin"in b)&&"min"in b&&(b.ymin=b.min);!("ymax"in b)&&"max"in b&&(b.ymax=b.max);return this},getSeries:function(a){return this.series[this.runs[a]]},removeSeries:function(a){if(a in this.runs){var b=this.runs[a];delete this.runs[a];this.series[b].destroy();this.series.splice(b,1);q.forIn(this.runs,
function(a,l,c){a>b&&(c[l]=a-1)});this.dirty=!0}return this},updateSeries:function(a,b,l){a in this.runs&&(a=this.series[this.runs[a]],a.update(b),l?this.dirty=!0:(this._invalidateDependentPlots(a.plot,!1),this._invalidateDependentPlots(a.plot,!0)));return this},getSeriesOrder:function(a){return q.map(q.filter(this.series,function(b){return b.plot==a}),B)},setSeriesOrder:function(a){var b,l={},c=q.filter(a,function(a){if(!(a in this.runs)||a in l)return!1;var c=this.series[this.runs[a]];if(b){if(c.plot!=
b)return!1}else b=c.plot;l[a]=1;return!0},this);q.forEach(this.series,function(a){var f=a.name;!(f in l)&&a.plot==b&&c.push(f)});this.series=q.map(c,function(a){return this.series[this.runs[a]]},this).concat(q.filter(this.series,function(a){return a.plot!=b}));q.forEach(this.series,function(a,b){this.runs[a.name]=b},this);this.dirty=!0;return this},moveSeriesToFront:function(a){if(a in this.runs){var b=this.runs[a],l=this.getSeriesOrder(this.series[b].plot);if(a!=l[0])return l.splice(b,1),l.unshift(a),
this.setSeriesOrder(l)}return this},moveSeriesToBack:function(a){if(a in this.runs){var b=this.runs[a],l=this.getSeriesOrder(this.series[b].plot);if(a!=l[l.length-1])return l.splice(b,1),l.push(a),this.setSeriesOrder(l)}return this},resize:function(a,b){switch(arguments.length){case 1:e.setMarginBox(this.node,a);break;case 2:e.setMarginBox(this.node,{w:a,h:b})}var l=e.getMarginBox(this.node),c=this.surface.getDimensions();return c.width!=l.w||c.height!=l.h?(this.surface.setDimensions(l.w,l.h),this.dirty=
!0,this.render()):this},getGeometry:function(){var a={};q.forIn(this.axes,function(b){b.initialized()&&(a[b.name]={name:b.name,vertical:b.vertical,scaler:b.scaler,ticks:b.ticks})});return a},setAxisWindow:function(a,b,l,c){var f=this.axes[a];f&&(f.setWindow(b,l),d.forEach(this.stack,function(b){if(b.hAxis==a||b.vAxis==a)b.zoom=c}));return this},setWindow:function(a,b,l,c,f){"plotArea"in this||this.calculateGeometry();q.forIn(this.axes,function(f){var e,d;e=f.getScaler().bounds;d=e.span/(e.upper-e.lower);
f.vertical?(e=b,d=c/d/e):(e=a,d=l/d/e);f.setWindow(e,d)});d.forEach(this.stack,function(a){a.zoom=f});return this},zoomIn:function(a,b,l){var c=this.axes[a];if(c){var c=c.getScaler().bounds,f=Math.min(b[0],b[1]),e=Math.max(b[0],b[1]),f=b[0]<c.lower?c.lower:f,e=b[1]>c.upper?c.upper:e;this.setAxisWindow(a,(c.upper-c.lower)/(e-f),f-c.lower);l?this.delayedRender():this.render()}},calculateGeometry:function(){if(this.dirty)return this.fullGeometry();var a=d.filter(this.stack,function(a){return a.dirty||
a.hAxis&&this.axes[a.hAxis].dirty||a.vAxis&&this.axes[a.vAxis].dirty},this);E(a,this.plotArea);return this},fullGeometry:function(){this._makeDirty();d.forEach(this.stack,D);this.theme||this.setTheme(new t);d.forEach(this.series,function(a){if(!(a.plot in this.plots)){if(!J.plot2d||!J.plot2d.Default)throw Error("Can't find plot: Default - didn't you forget to dojo.require() it?");var b=new J.plot2d.Default(this,{});b.name=a.plot;this.plots[a.plot]=this.stack.length;this.stack.push(b)}this.stack[this.plots[a.plot]].addSeries(a)},
this);d.forEach(this.stack,function(a){a.assignAxes&&a.assignAxes(this.axes)},this);var a=this.dim=this.surface.getDimensions();a.width=r.normalizedLength(a.width);a.height=r.normalizedLength(a.height);q.forIn(this.axes,D);E(this.stack,a);var b=this.offsets={l:0,r:0,t:0,b:0},l=this;q.forIn(this.axes,function(a){c("dojo-bidi")&&l._resetLeftBottom(a);q.forIn(a.getOffsets(),function(a,l){b[l]=Math.max(a,b[l])})});if(this.title){this.titleGap=0==this.titleGap?0:this.titleGap||this.theme.chart.titleGap||
20;this.titlePos=this.titlePos||this.theme.chart.titlePos||"top";this.titleFont=this.titleFont||this.theme.chart.titleFont;this.titleFontColor=this.titleFontColor||this.theme.chart.titleFontColor||"black";this.titleAlign=this.titleAlign||this.theme&&this.theme.chart&&this.theme.chart.titleAlign||"middle";var f=r.normalizedLength(r.splitFontString(this.titleFont).size);b["top"==this.titlePos?"t":"b"]+=f+this.titleGap}q.forIn(this.margins,function(a,l){b[l]+=a});this.plotArea={width:a.width-b.l-b.r,
height:a.height-b.t-b.b};q.forIn(this.axes,D);E(this.stack,this.plotArea);return this},render:function(){this._delayedRenderHandle&&(clearTimeout(this._delayedRenderHandle),this._delayedRenderHandle=null);this.theme&&this.theme.clear();if(this.dirty)return this.fullRender();this.calculateGeometry();q.forEachRev(this.stack,function(a){a.render(this.dim,this.offsets)},this);q.forIn(this.axes,function(a){a.render(this.dim,this.offsets)},this);this._makeClean();return this},fullRender:function(){this.fullGeometry();
var a=this.offsets,b=this.dim,l=Math.max(0,b.width-a.l-a.r),c=Math.max(0,b.height-a.t-a.b);d.forEach(this.series,x);q.forIn(this.axes,x);d.forEach(this.stack,x);var e=this.surface.children;if(v.dispose)for(var n=0;n<e.length;++n)v.dispose(e[n]);this.chartTitle&&this.chartTitle.tagName&&f.destroy(this.chartTitle);this.surface.clear();this.chartTitle=null;this._renderChartBackground(b,a);this._renderPlotBackground(b,a,l,c);q.foldr(this.stack,function(l,c){return c.render(b,a),0},0);this._nativeClip||
this._renderChartBackground(b,a);this.title&&this._renderTitle(b,a);q.forIn(this.axes,function(l){l.render(b,a)});this._makeClean();return this},_renderTitle:function(a,b){var f="canvas"==r.renderer&&this.htmlLabels||!c("ie")&&!c("opera")&&this.htmlLabels?"html":"gfx",e=r.normalizedLength(r.splitFontString(this.titleFont).size),d=r._base._getTextBox(this.title,{font:this.titleFont}),n=this.titleAlign,v=c("dojo-bidi")&&this.isRightToLeft(),g=a.width/2;"edge"===n?(n="left",g=v?a.width-(b.r+d.w):b.l):
"middle"!=n&&(v&&(n="left"===n?"right":"left"),"left"===n?g=this.margins.l:"right"===n&&(n="left",g=a.width-(this.margins.l+d.w)));this.chartTitle=l.createText[f](this,this.surface,g,"top"==this.titlePos?e+this.margins.t:a.height-this.margins.b,n,this.title,this.titleFont,this.titleFontColor)},_renderChartBackground:function(b,l){var c=this.theme,f,e=void 0!==this.fill?this.fill:c.chart&&c.chart.fill,c=void 0!==this.stroke?this.stroke:c.chart&&c.chart.stroke;if("inherit"==e){f=this.node;for(e=new a(g.get(f,
"backgroundColor"));0==e.a&&f!=document.documentElement;)e=new a(g.get(f,"backgroundColor")),f=f.parentNode}e&&(this._nativeClip?(e=n.prototype._shapeFill(n.prototype._plotFill(e,b),{x:0,y:0,width:b.width+1,height:b.height+1}),this.surface.createRect({width:b.width+1,height:b.height+1}).setFill(e)):(e=n.prototype._plotFill(e,b,l),l.l&&(f={x:0,y:0,width:l.l,height:b.height+1},this.surface.createRect(f).setFill(n.prototype._shapeFill(e,f))),l.r&&(f={x:b.width-l.r,y:0,width:l.r+1,height:b.height+2},
this.surface.createRect(f).setFill(n.prototype._shapeFill(e,f))),l.t&&(f={x:0,y:0,width:b.width+1,height:l.t},this.surface.createRect(f).setFill(n.prototype._shapeFill(e,f))),l.b&&(f={x:0,y:b.height-l.b,width:b.width+1,height:l.b+2},this.surface.createRect(f).setFill(n.prototype._shapeFill(e,f)))));c&&this.surface.createRect({width:b.width-1,height:b.height-1}).setStroke(c)},_renderPlotBackground:function(a,b,l,c){var f=this.theme,e=f.plotarea&&f.plotarea.fill,f=f.plotarea&&f.plotarea.stroke,d={x:b.l-
1,y:b.t-1,width:l+2,height:c+2};e&&(e=n.prototype._shapeFill(n.prototype._plotFill(e,a,b),d),this.surface.createRect(d).setFill(e));f&&this.surface.createRect({x:b.l,y:b.t,width:l+1,height:c+1}).setStroke(f)},delayedRender:function(){this._delayedRenderHandle||(this._delayedRenderHandle=setTimeout(m.hitch(this,function(){this.render()}),this.delayInMs));return this},connectToPlot:function(a,b,l){return a in this.plots?this.stack[this.plots[a]].connect(b,l):null},fireEvent:function(a,b,l){if(a in this.runs){var c=
this.series[this.runs[a]].plot;c in this.plots&&(c=this.stack[this.plots[c]])&&c.fireEvent(a,b,l)}return this},_makeClean:function(){d.forEach(this.axes,G);d.forEach(this.stack,G);d.forEach(this.series,G);this.dirty=!1},_makeDirty:function(){d.forEach(this.axes,z);d.forEach(this.stack,z);d.forEach(this.series,z);this.dirty=!0},_invalidateDependentPlots:function(a,b){if(a in this.plots){var l=this.stack[this.plots[a]],c,f=b?"vAxis":"hAxis";if(l[f]){if((c=this.axes[l[f]])&&c.dependOnData())c.dirty=
!0,d.forEach(this.stack,function(a){a[f]&&a[f]==l[f]&&(a.dirty=!0)})}else l.dirty=!0}},setDir:function(a){return this},_resetLeftBottom:function(a){},formatTruncatedLabel:function(a,b,l){}});return c("dojo-bidi")?h("dojox.charting.Chart",[k,y]):k})},"dojox/charting/Element":function(){define(["dojo/_base/array","dojo/dom-construct","dojo/_base/declare","dojox/gfx","dojox/gfx/shape"],function(k,m,d,h,g){return d("dojox.charting.Element",null,{chart:null,group:null,htmlElements:null,dirty:!0,renderingOptions:null,
constructor:function(b,e){this.chart=b;this.group=null;this.htmlElements=[];this.dirty=!0;this.trailingSymbol="...";this._events=[];e&&e.renderingOptions&&(this.renderingOptions=e.renderingOptions)},purgeGroup:function(){this.destroyHtmlElements();if(this.group){this.getGroup().removeShape();var b=this.getGroup().children;if(g.dispose)for(var e=0;e<b.length;++e)g.dispose(b[e],!0);this.getGroup().rawNode&&m.empty(this.getGroup().rawNode);this.getGroup().clear();g.dispose&&g.dispose(this.getGroup(),
!0);this.getGroup()!=this.group&&(this.group.rawNode&&m.empty(this.group.rawNode),this.group.clear(),g.dispose&&g.dispose(this.group,!0));this.group=null}this.dirty=!0;this._events.length&&(k.forEach(this._events,function(b){b.shape.disconnect(b.handle)}),this._events=[]);return this},cleanGroup:function(b){this.destroyHtmlElements();b||(b=this.chart.surface);if(this.group){var e;b=this.getGroup().children;if(g.dispose)for(var f=0;f<b.length;++f)g.dispose(b[f],!0);this.getGroup().rawNode&&(e=this.getGroup().bgNode,
m.empty(this.getGroup().rawNode));this.getGroup().clear();e&&this.getGroup().rawNode.appendChild(e)}else if(this.group=b.createGroup(),this.renderingOptions&&this.group.rawNode&&"http://www.w3.org/2000/svg"==this.group.rawNode.namespaceURI)for(f in this.renderingOptions)this.group.rawNode.setAttribute(f,this.renderingOptions[f]);this.dirty=!0;return this},getGroup:function(){return this.group},destroyHtmlElements:function(){this.htmlElements.length&&(k.forEach(this.htmlElements,m.destroy),this.htmlElements=
[])},destroy:function(){this.purgeGroup()},overrideShape:function(b,e){},getTextWidth:function(b,e){return h._base._getTextBox(b,{font:e}).w||0},getTextWithLimitLength:function(b,e,f,a){if(!b||0>=b.length)return{text:"",truncated:a||!1};if(!f||0>=f)return{text:b,truncated:a||!1};var c=b.substring(0,1)+this.trailingSymbol,d=this.getTextWidth(c,e);if(f<=d)return{text:c,truncated:!0};if(this.getTextWidth(b,e)<=f)return{text:b,truncated:a||!1};a=0;for(c=b.length;a<c;){if(2>=c-a){for(;this.getTextWidth(b.substring(0,
a)+this.trailingSymbol,e)>f;)a-=1;return{text:b.substring(0,a)+this.trailingSymbol,truncated:!0}}d=a+Math.round(0.618*(c-a));this.getTextWidth(b.substring(0,d),e)<f?a=d:c=d}},getTextWithLimitCharCount:function(b,e,f,a){return!b||0>=b.length?{text:"",truncated:a||!1}:!f||0>=f||b.length<=f?{text:b,truncated:a||!1}:{text:b.substring(0,f)+this.trailingSymbol,truncated:!0}},_plotFill:function(b,e,f){if(!b||!b.type||!b.space)return b;var a=b.space,c;switch(b.type){case "linear":if("plot"===a||"shapeX"===
a||"shapeY"===a){b=h.makeParameters(h.defaultLinearGradient,b);b.space=a;if("plot"===a||"shapeX"===a)c=e.height-f.t-f.b,b.y1=f.t+c*b.y1/100,b.y2=f.t+c*b.y2/100;if("plot"===a||"shapeY"===a)c=e.width-f.l-f.r,b.x1=f.l+c*b.x1/100,b.x2=f.l+c*b.x2/100}break;case "radial":"plot"===a&&(b=h.makeParameters(h.defaultRadialGradient,b),b.space=a,a=e.width-f.l-f.r,e=e.height-f.t-f.b,b.cx=f.l+a*b.cx/100,b.cy=f.t+e*b.cy/100,b.r=b.r*Math.sqrt(a*a+e*e)/200);break;case "pattern":if("plot"===a||"shapeX"===a||"shapeY"===
a){b=h.makeParameters(h.defaultPattern,b);b.space=a;if("plot"===a||"shapeX"===a)c=e.height-f.t-f.b,b.y=f.t+c*b.y/100,b.height=c*b.height/100;if("plot"===a||"shapeY"===a)c=e.width-f.l-f.r,b.x=f.l+c*b.x/100,b.width=c*b.width/100}}return b},_shapeFill:function(b,e){if(!b||!b.space)return b;var f=b.space,a;switch(b.type){case "linear":if("shape"===f||"shapeX"===f||"shapeY"===f){b=h.makeParameters(h.defaultLinearGradient,b);b.space=f;if("shape"===f||"shapeX"===f)a=e.width,b.x1=e.x+a*b.x1/100,b.x2=e.x+
a*b.x2/100;if("shape"===f||"shapeY"===f)a=e.height,b.y1=e.y+a*b.y1/100,b.y2=e.y+a*b.y2/100}break;case "radial":"shape"===f&&(b=h.makeParameters(h.defaultRadialGradient,b),b.space=f,b.cx=e.x+e.width/2,b.cy=e.y+e.height/2,b.r=b.r*e.width/200);break;case "pattern":if("shape"===f||"shapeX"===f||"shapeY"===f){b=h.makeParameters(h.defaultPattern,b);b.space=f;if("shape"===f||"shapeX"===f)a=e.width,b.x=e.x+a*b.x/100,b.width=a*b.width/100;if("shape"===f||"shapeY"===f)a=e.height,b.y=e.y+a*b.y/100,b.height=
a*b.height/100}}return b},_pseudoRadialFill:function(b,e,f,a,c){if(!b||"radial"!==b.type||"shape"!==b.space)return b;var d=b.space;b=h.makeParameters(h.defaultRadialGradient,b);b.space=d;if(4>arguments.length)return b.cx=e.x,b.cy=e.y,b.r=b.r*f/100,b;d=5>arguments.length?a:(c+a)/2;return{type:"linear",x1:e.x,y1:e.y,x2:e.x+b.r*f*Math.cos(d)/100,y2:e.y+b.r*f*Math.sin(d)/100,colors:b.colors}}})})},"dojox/gfx/shape":function(){define("./_base dojo/_base/lang dojo/_base/declare dojo/_base/kernel dojo/_base/sniff dojo/on dojo/_base/array dojo/dom-construct dojo/_base/Color ./matrix".split(" "),
function(k,m,d,h,g,b,e,f,a,c){function n(a,b){if(!t)return a.splice(b,1);var c=a.length;if(c){for(;b<c;)a[b]=a[b+1],b++;a.length--}}var t=!!g("chrome"),p=k.shape={};p.Shape=d("dojox.gfx.shape.Shape",null,{constructor:function(){this.parentMatrix=this.parent=this.bbox=this.strokeStyle=this.fillStyle=this.matrix=this.shape=this.rawNode=null;if(g("gfxRegistry")){var a=p.register(this);this.getUID=function(){return a}}},destroy:function(){g("gfxRegistry")&&p.dispose(this);this.rawNode&&"__gfxObject__"in
this.rawNode&&(this.rawNode.__gfxObject__=null);this.rawNode=null},getNode:function(){return this.rawNode},getShape:function(){return this.shape},getTransform:function(){return this.matrix},getFill:function(){return this.fillStyle},getStroke:function(){return this.strokeStyle},getParent:function(){return this.parent},getBoundingBox:function(){return this.bbox},getTransformedBoundingBox:function(){var a=this.getBoundingBox();if(!a)return null;var b=this._getRealMatrix();return[c.multiplyPoint(b,a.x,
a.y),c.multiplyPoint(b,a.x+a.width,a.y),c.multiplyPoint(b,a.x+a.width,a.y+a.height),c.multiplyPoint(b,a.x,a.y+a.height)]},getEventSource:function(){return this.rawNode},setClip:function(a){this.clip=a},getClip:function(){return this.clip},setShape:function(a){this.shape=k.makeParameters(this.shape,a);this.bbox=null;return this},setFill:function(a){if(!a)return this.fillStyle=null,this;var b=null;if("object"==typeof a&&"type"in a)switch(a.type){case "linear":b=k.makeParameters(k.defaultLinearGradient,
a);break;case "radial":b=k.makeParameters(k.defaultRadialGradient,a);break;case "pattern":b=k.makeParameters(k.defaultPattern,a)}else b=k.normalizeColor(a);this.fillStyle=b;return this},setStroke:function(b){if(!b)return this.strokeStyle=null,this;if("string"==typeof b||m.isArray(b)||b instanceof a)b={color:b};b=this.strokeStyle=k.makeParameters(k.defaultStroke,b);b.color=k.normalizeColor(b.color);return this},setTransform:function(a){this.matrix=c.clone(a?c.normalize(a):c.identity);return this._applyTransform()},
_applyTransform:function(){return this},moveToFront:function(){var a=this.getParent();a&&(a._moveChildToFront(this),this._moveToFront());return this},moveToBack:function(){var a=this.getParent();a&&(a._moveChildToBack(this),this._moveToBack());return this},_moveToFront:function(){},_moveToBack:function(){},applyRightTransform:function(a){return a?this.setTransform([this.matrix,a]):this},applyLeftTransform:function(a){return a?this.setTransform([a,this.matrix]):this},applyTransform:function(a){return a?
this.setTransform([this.matrix,a]):this},removeShape:function(a){this.parent&&this.parent.remove(this,a);return this},_setParent:function(a,b){this.parent=a;return this._updateParentMatrix(b)},_updateParentMatrix:function(a){this.parentMatrix=a?c.clone(a):null;return this._applyTransform()},_getRealMatrix:function(){for(var a=this.matrix,b=this.parent;b;)b.matrix&&(a=c.multiply(b.matrix,a)),b=b.parent;return a}});p._eventsProcessing={on:function(a,c){return b(this.getEventSource(),a,p.fixCallback(this,
k.fixTarget,c))},connect:function(a,b,c){"on"==a.substring(0,2)&&(a=a.substring(2));return this.on(a,c?m.hitch(b,c):b)},disconnect:function(a){return a.remove()}};p.fixCallback=function(a,b,c,f){f||(f=c,c=null);if(m.isString(f)){c=c||h.global;if(!c[f])throw['dojox.gfx.shape.fixCallback: scope["',f,'"] is null (scope\x3d"',c,'")'].join("");return function(e){return b(e,a)?c[f].apply(c,arguments||[]):void 0}}return!c?function(e){return b(e,a)?f.apply(c,arguments):void 0}:function(e){return b(e,a)?f.apply(c,
arguments||[]):void 0}};m.extend(p.Shape,p._eventsProcessing);p.Container={_init:function(){this.children=[];this._batch=0},openBatch:function(){return this},closeBatch:function(){return this},add:function(a){var b=a.getParent();b&&b.remove(a,!0);this.children.push(a);return a._setParent(this,this._getRealMatrix())},remove:function(a,b){for(var c=0;c<this.children.length;++c)if(this.children[c]==a){b||(a.parent=null,a.parentMatrix=null);n(this.children,c);break}return this},clear:function(a){for(var b,
c=0;c<this.children.length;++c)b=this.children[c],b.parent=null,b.parentMatrix=null,a&&b.destroy();this.children=[];return this},getBoundingBox:function(){if(this.children){var a=null;e.forEach(this.children,function(b){var f=b.getBoundingBox();f&&((b=b.getTransform())&&(f=c.multiplyRectangle(b,f)),a?(a.x=Math.min(a.x,f.x),a.y=Math.min(a.y,f.y),a.endX=Math.max(a.endX,f.x+f.width),a.endY=Math.max(a.endY,f.y+f.height)):a={x:f.x,y:f.y,endX:f.x+f.width,endY:f.y+f.height})});a&&(a.width=a.endX-a.x,a.height=
a.endY-a.y);return a}return null},_moveChildToFront:function(a){for(var b=0;b<this.children.length;++b)if(this.children[b]==a){n(this.children,b);this.children.push(a);break}return this},_moveChildToBack:function(a){for(var b=0;b<this.children.length;++b)if(this.children[b]==a){n(this.children,b);this.children.unshift(a);break}return this}};p.Surface=d("dojox.gfx.shape.Surface",null,{constructor:function(){this._parent=this.rawNode=null;this._nodes=[];this._events=[]},destroy:function(){e.forEach(this._nodes,
f.destroy);this._nodes=[];e.forEach(this._events,function(a){a&&a.remove()});this._events=[];this.rawNode=null;if(g("ie"))for(;this._parent.lastChild;)f.destroy(this._parent.lastChild);else this._parent.innerHTML="";this._parent=null},getEventSource:function(){return this.rawNode},_getRealMatrix:function(){return null},isLoaded:!0,onLoad:function(a){},whenLoaded:function(a,c){var f=m.hitch(a,c);if(this.isLoaded)f(this);else b.once(this,"load",function(a){f(a)})}});m.extend(p.Surface,p._eventsProcessing);
p.Rect=d("dojox.gfx.shape.Rect",p.Shape,{constructor:function(a){this.shape=k.getDefault("Rect");this.rawNode=a},getBoundingBox:function(){return this.shape}});p.Ellipse=d("dojox.gfx.shape.Ellipse",p.Shape,{constructor:function(a){this.shape=k.getDefault("Ellipse");this.rawNode=a},getBoundingBox:function(){if(!this.bbox){var a=this.shape;this.bbox={x:a.cx-a.rx,y:a.cy-a.ry,width:2*a.rx,height:2*a.ry}}return this.bbox}});p.Circle=d("dojox.gfx.shape.Circle",p.Shape,{constructor:function(a){this.shape=
k.getDefault("Circle");this.rawNode=a},getBoundingBox:function(){if(!this.bbox){var a=this.shape;this.bbox={x:a.cx-a.r,y:a.cy-a.r,width:2*a.r,height:2*a.r}}return this.bbox}});p.Line=d("dojox.gfx.shape.Line",p.Shape,{constructor:function(a){this.shape=k.getDefault("Line");this.rawNode=a},getBoundingBox:function(){if(!this.bbox){var a=this.shape;this.bbox={x:Math.min(a.x1,a.x2),y:Math.min(a.y1,a.y2),width:Math.abs(a.x2-a.x1),height:Math.abs(a.y2-a.y1)}}return this.bbox}});p.Polyline=d("dojox.gfx.shape.Polyline",
p.Shape,{constructor:function(a){this.shape=k.getDefault("Polyline");this.rawNode=a},setShape:function(a,b){a&&a instanceof Array?(this.inherited(arguments,[{points:a}]),b&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])):this.inherited(arguments,[a]);return this},_normalizePoints:function(){var a=this.shape.points,b=a&&a.length;if(b&&"number"==typeof a[0]){for(var c=[],f=0;f<b;f+=2)c.push({x:a[f],y:a[f+1]});this.shape.points=c}},getBoundingBox:function(){if(!this.bbox&&this.shape.points.length){for(var a=
this.shape.points,b=a.length,c=a[0],f=c.x,e=c.y,d=c.x,n=c.y,g=1;g<b;++g)c=a[g],f>c.x&&(f=c.x),d<c.x&&(d=c.x),e>c.y&&(e=c.y),n<c.y&&(n=c.y);this.bbox={x:f,y:e,width:d-f,height:n-e}}return this.bbox}});p.Image=d("dojox.gfx.shape.Image",p.Shape,{constructor:function(a){this.shape=k.getDefault("Image");this.rawNode=a},getBoundingBox:function(){return this.shape},setStroke:function(){return this},setFill:function(){return this}});p.Text=d(p.Shape,{constructor:function(a){this.fontStyle=null;this.shape=
k.getDefault("Text");this.rawNode=a},getFont:function(){return this.fontStyle},setFont:function(a){this.fontStyle="string"==typeof a?k.splitFontString(a):k.makeParameters(k.defaultFont,a);this._setFont();return this},getBoundingBox:function(){var a=null;this.getShape().text&&(a=k._base._computeTextBoundingBox(this));return a}});p.Creator={createShape:function(a){switch(a.type){case k.defaultPath.type:return this.createPath(a);case k.defaultRect.type:return this.createRect(a);case k.defaultCircle.type:return this.createCircle(a);
case k.defaultEllipse.type:return this.createEllipse(a);case k.defaultLine.type:return this.createLine(a);case k.defaultPolyline.type:return this.createPolyline(a);case k.defaultImage.type:return this.createImage(a);case k.defaultText.type:return this.createText(a);case k.defaultTextPath.type:return this.createTextPath(a)}return null},createGroup:function(){return this.createObject(k.Group)},createRect:function(a){return this.createObject(k.Rect,a)},createEllipse:function(a){return this.createObject(k.Ellipse,
a)},createCircle:function(a){return this.createObject(k.Circle,a)},createLine:function(a){return this.createObject(k.Line,a)},createPolyline:function(a){return this.createObject(k.Polyline,a)},createImage:function(a){return this.createObject(k.Image,a)},createText:function(a){return this.createObject(k.Text,a)},createPath:function(a){return this.createObject(k.Path,a)},createTextPath:function(a){return this.createObject(k.TextPath,{}).setText(a)},createObject:function(a,b){return null}};return p})},
"dojox/charting/SimpleTheme":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/_base/Color dojox/lang/utils dojox/gfx/gradutils".split(" "),function(k,m,d,h,g,b){var e=d("dojox.charting.SimpleTheme",null,{shapeSpaces:{shape:1,shapeX:1,shapeY:1},constructor:function(b){b=b||{};var a=e.defaultTheme;m.forEach("chart plotarea axis grid series marker indicator".split(" "),function(c){this[c]=k.delegate(a[c],b[c])},this);b.seriesThemes&&b.seriesThemes.length?(this.colors=null,
this.seriesThemes=b.seriesThemes.slice(0)):(this.seriesThemes=null,this.colors=(b.colors||e.defaultColors).slice(0));this.markerThemes=null;b.markerThemes&&b.markerThemes.length&&(this.markerThemes=b.markerThemes.slice(0));this.markers=b.markers?k.clone(b.markers):k.delegate(e.defaultMarkers);this.noGradConv=b.noGradConv;this.noRadialConv=b.noRadialConv;b.reverseFills&&this.reverseFills();this._current=0;this._buildMarkerArray()},clone:function(){var b=new this.constructor({chart:this.chart,plotarea:this.plotarea,
axis:this.axis,grid:this.grid,series:this.series,marker:this.marker,colors:this.colors,markers:this.markers,indicator:this.indicator,seriesThemes:this.seriesThemes,markerThemes:this.markerThemes,noGradConv:this.noGradConv,noRadialConv:this.noRadialConv});m.forEach("clone clear next skip addMixin post getTick".split(" "),function(a){this.hasOwnProperty(a)&&(b[a]=this[a])},this);return b},clear:function(){this._current=0},next:function(b,a,c){var e=g.merge,d;if(this.colors){d=k.delegate(this.series);
var e=k.delegate(this.marker),p=new h(this.colors[this._current%this.colors.length]),l;d.stroke&&d.stroke.color?(d.stroke=k.delegate(d.stroke),l=new h(d.stroke.color),d.stroke.color=new h(p),d.stroke.color.a=l.a):d.stroke={color:p};e.stroke&&e.stroke.color?(e.stroke=k.delegate(e.stroke),l=new h(e.stroke.color),e.stroke.color=new h(p),e.stroke.color.a=l.a):e.stroke={color:p};!d.fill||d.fill.type?d.fill=p:(l=new h(d.fill),d.fill=new h(p),d.fill.a=l.a);!e.fill||e.fill.type?e.fill=p:(l=new h(e.fill),
e.fill=new h(p),e.fill.a=l.a)}else d=this.seriesThemes?e(this.series,this.seriesThemes[this._current%this.seriesThemes.length]):this.series,e=this.markerThemes?e(this.marker,this.markerThemes[this._current%this.markerThemes.length]):d;d={series:d,marker:e,symbol:e&&e.symbol||this._markers[this._current%this._markers.length]};++this._current;a&&(d=this.addMixin(d,b,a));c&&(d=this.post(d,b));return d},skip:function(){++this._current},addMixin:function(b,a,c,e){if(k.isArray(c))m.forEach(c,function(c){b=
this.addMixin(b,a,c)},this);else{var d={};"color"in c&&("line"==a||"area"==a?(k.setObject("series.stroke.color",c.color,d),k.setObject("marker.stroke.color",c.color,d)):k.setObject("series.fill",c.color,d));m.forEach("stroke outline shadow fill filter font fontColor labelWiring".split(" "),function(a){var b="marker"+a.charAt(0).toUpperCase()+a.substr(1),f=b in c;a in c&&(k.setObject("series."+a,c[a],d),f||k.setObject("marker."+a,c[a],d));f&&k.setObject("marker."+a,c[b],d)});"marker"in c&&(d.symbol=
c.marker,d.symbol=c.marker);b=g.merge(b,d)}e&&(b=this.post(b,a));return b},post:function(b,a){var c=b.series.fill,e;if(!this.noGradConv&&this.shapeSpaces[c.space]&&"linear"==c.type){if("bar"==a)e={x1:c.y1,y1:c.x1,x2:c.y2,y2:c.x2};else if(!this.noRadialConv&&"shape"==c.space&&("slice"==a||"circle"==a))e={type:"radial",cx:0,cy:0,r:100};if(e)return g.merge(b,{series:{fill:e}})}return b},getTick:function(b,a){var c=this.axis.tick,e=b+"Tick",d=g.merge;c?this.axis[e]&&(c=d(c,this.axis[e])):c=this.axis[e];
a&&(c?a[e]&&(c=d(c,a[e])):c=a[e]);return c},inspectObjects:function(b){m.forEach("chart plotarea axis grid series marker indicator".split(" "),function(a){b(this[a])},this);this.seriesThemes&&m.forEach(this.seriesThemes,b);this.markerThemes&&m.forEach(this.markerThemes,b)},reverseFills:function(){this.inspectObjects(function(e){e&&e.fill&&(e.fill=b.reverse(e.fill))})},addMarker:function(b,a){this.markers[b]=a;this._buildMarkerArray()},setMarkers:function(b){this.markers=b;this._buildMarkerArray()},
_buildMarkerArray:function(){this._markers=[];for(var b in this.markers)this._markers.push(this.markers[b])}});k.mixin(e,{defaultMarkers:{CIRCLE:"m-3,0 c0,-4 6,-4 6,0 m-6,0 c0,4 6,4 6,0",SQUARE:"m-3,-3 l0,6 6,0 0,-6 z",DIAMOND:"m0,-3 l3,3 -3,3 -3,-3 z",CROSS:"m0,-3 l0,6 m-3,-3 l6,0",X:"m-3,-3 l6,6 m0,-6 l-6,6",TRIANGLE:"m-3,3 l3,-6 3,6 z",TRIANGLE_INVERTED:"m-3,-3 l3,6 3,-6 z"},defaultColors:["#54544c","#858e94","#6e767a","#948585","#474747"],defaultTheme:{chart:{stroke:null,fill:"white",pageStyle:null,
titleGap:20,titlePos:"top",titleFont:"normal normal bold 14pt Tahoma",titleFontColor:"#333",titleAlign:"middle"},plotarea:{stroke:null,fill:"white"},axis:{stroke:{color:"#333",width:1},tick:{color:"#666",position:"center",font:"normal normal normal 7pt Tahoma",fontColor:"#333",labelGap:4},majorTick:{width:1,length:6},minorTick:{width:0.8,length:3},microTick:{width:0.5,length:1},title:{gap:15,font:"normal normal normal 11pt Tahoma",fontColor:"#333",orientation:"axis"}},series:{stroke:{width:1.5,color:"#333"},
outline:{width:0.1,color:"#ccc"},shadow:null,fill:"#ccc",font:"normal normal normal 8pt Tahoma",fontColor:"#000",labelWiring:{width:1,color:"#ccc"}},marker:{stroke:{width:1.5,color:"#333"},outline:{width:0.1,color:"#ccc"},shadow:null,fill:"#ccc",font:"normal normal normal 8pt Tahoma",fontColor:"#000"},indicator:{lineStroke:{width:1.5,color:"#333"},lineOutline:{width:0.1,color:"#ccc"},lineShadow:null,lineFill:null,stroke:{width:1.5,color:"#333"},outline:{width:0.1,color:"#ccc"},shadow:null,fill:"#ccc",
radius:3,font:"normal normal normal 10pt Tahoma",fontColor:"#000",markerFill:"#ccc",markerSymbol:"m-3,0 c0,-4 6,-4 6,0 m-6,0 c0,4 6,4 6,0",markerStroke:{width:1.5,color:"#333"},markerOutline:{width:0.1,color:"#ccc"},markerShadow:null}}});return e})},"dojox/lang/utils":function(){define(["..","dojo/_base/lang"],function(k,m){var d=m.getObject("lang.utils",!0,k),h={},g=Object.prototype.toString,b=function(b){if(b)switch(g.call(b)){case "[object Array]":return b.slice(0);case "[object Object]":return m.delegate(b)}return b};
m.mixin(d,{coerceType:function(b,f){switch(typeof b){case "number":return Number(eval("("+f+")"));case "string":return String(f);case "boolean":return Boolean(eval("("+f+")"))}return eval("("+f+")")},updateWithObject:function(e,f,a){if(!f)return e;for(var c in e)if(c in f&&!(c in h)){var n=e[c];n&&"object"==typeof n?d.updateWithObject(n,f[c],a):e[c]=a?d.coerceType(n,f[c]):b(f[c])}return e},updateWithPattern:function(e,f,a,c){if(!f||!a)return e;for(var n in a)n in f&&!(n in h)&&(e[n]=c?d.coerceType(a[n],
f[n]):b(f[n]));return e},merge:function(b,f){if(f){var a=g.call(b),c=g.call(f),n,h;switch(c){case "[object Array]":if(c==a){a=Array(Math.max(b.length,f.length));n=0;for(c=a.length;n<c;++n)a[n]=d.merge(b[n],f[n]);return a}return f.slice(0);case "[object Object]":if(c==a&&b){a=m.delegate(b);for(n in f)n in b?(c=b[n],h=f[n],h!==c&&(a[n]=d.merge(c,h))):a[n]=m.clone(f[n]);return a}return m.clone(f)}}return f}});return d})},"dojox/gfx/gradutils":function(){define(["./_base","dojo/_base/lang","./matrix",
"dojo/_base/Color"],function(k,m,d,h){function g(b,e){if(0>=b)return e[0].color;var f=e.length;if(1<=b)return e[f-1].color;for(var a=0;a<f;++a){var c=e[a];if(c.offset>=b)return a?(f=e[a-1],h.blendColors(new h(f.color),new h(c.color),(b-f.offset)/(c.offset-f.offset))):c.color}return e[f-1].color}k=k.gradutils={};k.getColor=function(b,e){var f;if(b){switch(b.type){case "linear":f=Math.atan2(b.y2-b.y1,b.x2-b.x1);f=d.rotate(-f);var a=d.project(b.x2-b.x1,b.y2-b.y1),c=d.multiplyPoint(a,e),n=d.multiplyPoint(a,
b.x1,b.y1),a=d.multiplyPoint(a,b.x2,b.y2),a=d.multiplyPoint(f,a.x-n.x,a.y-n.y).x;f=d.multiplyPoint(f,c.x-n.x,c.y-n.y).x/a;break;case "radial":f=e.x-b.cx,c=e.y-b.cy,f=Math.sqrt(f*f+c*c)/b.r}return g(f,b.colors)}return new h(b||[0,0,0,0])};k.reverse=function(b){if(b)switch(b.type){case "linear":case "radial":if(b=m.delegate(b),b.colors){for(var e=b.colors,f=e.length,a=0,c,d=b.colors=Array(e.length);a<f;++a)c=e[a],d[a]={offset:1-c.offset,color:c.color};d.sort(function(a,b){return a.offset-b.offset})}}return b};
return k})},"dojox/charting/Series":function(){define(["dojo/_base/lang","dojo/_base/declare","./Element"],function(k,m,d){return m("dojox.charting.Series",d,{constructor:function(d,g,b){k.mixin(this,b);"string"!=typeof this.plot&&(this.plot="default");this.update(g)},clear:function(){this.dyn={}},update:function(d){k.isArray(d)?this.data=d:(this.source=d,this.data=this.source.data,this.source.setSeriesObject&&this.source.setSeriesObject(this));this.dirty=!0;this.clear()}})})},"dojox/charting/axis2d/common":function(){define(["dojo/_base/lang",
"dojo/_base/window","dojo/dom-geometry","dojox/gfx","dojo/has"],function(k,m,d,h,g){var b=k.getObject("dojox.charting.axis2d.common",!0),e=function(b){b.marginLeft="0px";b.marginTop="0px";b.marginRight="0px";b.marginBottom="0px";b.paddingLeft="0px";b.paddingTop="0px";b.paddingRight="0px";b.paddingBottom="0px";b.borderLeftWidth="0px";b.borderTopWidth="0px";b.borderRightWidth="0px";b.borderBottomWidth="0px"};return k.mixin(b,{createText:{gfx:function(b,a,c,e,d,g,l,v){return a.createText({x:c,y:e,text:g,
align:d}).setFont(l).setFill(v)},html:function(b,a,c,n,k,p,l,v,r){a=m.doc.createElement("div");var y=a.style,q;b.getTextDir&&(a.dir=b.getTextDir(p));e(y);y.font=l;a.innerHTML=String(p).replace(/\s/g,"\x26nbsp;");y.color=v;y.position="absolute";y.left="-10000px";m.body().appendChild(a);var M=h.normalizedLength(h.splitFontString(l).size);r||(a.getBoundingClientRect?(q=a.getBoundingClientRect(),q=q.width||q.right-q.left):q=d.getMarginBox(a).w);"rtl"==a.dir&&(c+=r?r:q);m.body().removeChild(a);y.position=
"relative";if(r)switch(y.width=r+"px",k){case "middle":y.textAlign="center";y.left=c-r/2+"px";break;case "end":y.textAlign="right";y.left=c-r+"px";break;default:y.left=c+"px",y.textAlign="left"}else switch(k){case "middle":y.left=Math.floor(c-q/2)+"px";break;case "end":y.left=Math.floor(c-q)+"px";break;default:y.left=Math.floor(c)+"px"}y.top=Math.floor(n-M)+"px";y.whiteSpace="nowrap";r=m.doc.createElement("div");y=r.style;e(y);y.width="0px";y.height="0px";r.appendChild(a);b.node.insertBefore(r,b.node.firstChild);
g("dojo-bidi")&&b.htmlElementsRegistry.push([r,c,n,k,p,l,v]);return r}}})})},"dojox/lang/functional":function(){define(["./functional/lambda","./functional/array","./functional/object"],function(k){return k})},"dojox/lang/functional/lambda":function(){define(["../..","dojo/_base/lang","dojo/_base/array"],function(k,m,d){var h=m.getObject("lang.functional",!0,k),g={},b=1<"ab".split(/a*/).length?String.prototype.split:function(a){var b=this.split.call(this,a);(a=a.exec(this))&&0==a.index&&b.unshift("");
return b},e=function(a){var c=[],e=b.call(a,/\s*->\s*/m);if(1<e.length)for(;e.length;)a=e.pop(),c=e.pop().split(/\s*,\s*|\s+/m),e.length&&e.push("(function("+c.join(", ")+"){ return ("+a+"); })");else if(a.match(/\b_\b/))c=["_"];else{var e=a.match(/^\s*(?:[+*\/%&|\^\.=<>]|!=)/m),f=a.match(/[+\-*\/%&|\^\.=<>!]\s*$/m);if(e||f)e&&(c.push("$1"),a="$1"+a),f&&(c.push("$2"),a+="$2");else{var e=a.replace(/(?:\b[A-Z]|\.[a-zA-Z_$])[a-zA-Z_$\d]*|[a-zA-Z_$][a-zA-Z_$\d]*:|this|true|false|null|undefined|typeof|instanceof|in|delete|new|void|arguments|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|escape|eval|isFinite|isNaN|parseFloat|parseInt|unescape|dojo|dijit|dojox|window|document|'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"/g,
"").match(/([a-z_$][a-z_$\d]*)/gi)||[],g={};d.forEach(e,function(a){g.hasOwnProperty(a)||(c.push(a),g[a]=1)})}}return{args:c,body:a}},f=function(a){return a.length?function(){var b=a.length-1,e=h.lambda(a[b]).apply(this,arguments);for(--b;0<=b;--b)e=h.lambda(a[b]).call(this,e);return e}:function(a){return a}};m.mixin(h,{rawLambda:function(a){return e(a)},buildLambda:function(a){a=e(a);return"function("+a.args.join(",")+"){return ("+a.body+");}"},lambda:function(a){if("function"==typeof a)return a;
if(a instanceof Array)return f(a);if(g.hasOwnProperty(a))return g[a];var b=e(a);return g[a]=new Function(b.args,"return ("+b.body+");")},clearLambdaCache:function(){g={}}});return h})},"dojox/lang/functional/array":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","./lambda"],function(k,m,d,h){var g={};m.mixin(h,{filter:function(b,e,f){"string"==typeof b&&(b=b.split(""));f=f||k.global;e=h.lambda(e);var a=[],c,d,t;if(m.isArray(b)){d=0;for(t=b.length;d<t;++d)c=b[d],e.call(f,
c,d,b)&&a.push(c)}else if("function"==typeof b.hasNext&&"function"==typeof b.next)for(d=0;b.hasNext();)c=b.next(),e.call(f,c,d++,b)&&a.push(c);else for(d in b)d in g||(c=b[d],e.call(f,c,d,b)&&a.push(c));return a},forEach:function(b,e,f){"string"==typeof b&&(b=b.split(""));f=f||k.global;e=h.lambda(e);var a,c;if(m.isArray(b)){a=0;for(c=b.length;a<c;e.call(f,b[a],a,b),++a);}else if("function"==typeof b.hasNext&&"function"==typeof b.next)for(a=0;b.hasNext();e.call(f,b.next(),a++,b));else for(a in b)a in
g||e.call(f,b[a],a,b);return f},map:function(b,e,f){"string"==typeof b&&(b=b.split(""));f=f||k.global;e=h.lambda(e);var a,c,d;if(m.isArray(b)){a=Array(c=b.length);for(d=0;d<c;a[d]=e.call(f,b[d],d,b),++d);}else if("function"==typeof b.hasNext&&"function"==typeof b.next){a=[];for(d=0;b.hasNext();a.push(e.call(f,b.next(),d++,b)));}else for(d in a=[],b)d in g||a.push(e.call(f,b[d],d,b));return a},every:function(b,e,f){"string"==typeof b&&(b=b.split(""));f=f||k.global;e=h.lambda(e);var a,c;if(m.isArray(b)){a=
0;for(c=b.length;a<c;++a)if(!e.call(f,b[a],a,b))return!1}else if("function"==typeof b.hasNext&&"function"==typeof b.next)for(a=0;b.hasNext();){if(!e.call(f,b.next(),a++,b))return!1}else for(a in b)if(!(a in g)&&!e.call(f,b[a],a,b))return!1;return!0},some:function(b,e,f){"string"==typeof b&&(b=b.split(""));f=f||k.global;e=h.lambda(e);var a,c;if(m.isArray(b)){a=0;for(c=b.length;a<c;++a)if(e.call(f,b[a],a,b))return!0}else if("function"==typeof b.hasNext&&"function"==typeof b.next)for(a=0;b.hasNext();){if(e.call(f,
b.next(),a++,b))return!0}else for(a in b)if(!(a in g)&&e.call(f,b[a],a,b))return!0;return!1}});return h})},"dojox/lang/functional/object":function(){define(["dojo/_base/kernel","dojo/_base/lang","./lambda"],function(k,m,d){var h={};m.mixin(d,{keys:function(d){var b=[],e;for(e in d)e in h||b.push(e);return b},values:function(d){var b=[],e;for(e in d)e in h||b.push(d[e]);return b},filterIn:function(g,b,e){e=e||k.global;b=d.lambda(b);var f={},a,c;for(c in g)c in h||(a=g[c],b.call(e,a,c,g)&&(f[c]=a));
return f},forIn:function(g,b,e){e=e||k.global;b=d.lambda(b);for(var f in g)f in h||b.call(e,g[f],f,g);return e},mapIn:function(g,b,e){e=e||k.global;b=d.lambda(b);var f={},a;for(a in g)a in h||(f[a]=b.call(e,g[a],a,g));return f}});return d})},"dojox/lang/functional/fold":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/kernel","./lambda"],function(k,m,d,h){var g={};k.mixin(h,{foldl:function(b,e,f,a){"string"==typeof b&&(b=b.split(""));a=a||d.global;e=h.lambda(e);var c,n;if(k.isArray(b)){c=
0;for(n=b.length;c<n;f=e.call(a,f,b[c],c,b),++c);}else if("function"==typeof b.hasNext&&"function"==typeof b.next)for(c=0;b.hasNext();f=e.call(a,f,b.next(),c++,b));else for(c in b)c in g||(f=e.call(a,f,b[c],c,b));return f},foldl1:function(b,e,f){"string"==typeof b&&(b=b.split(""));f=f||d.global;e=h.lambda(e);var a,c,n;if(k.isArray(b)){a=b[0];c=1;for(n=b.length;c<n;a=e.call(f,a,b[c],c,b),++c);}else if("function"==typeof b.hasNext&&"function"==typeof b.next){if(b.hasNext()){a=b.next();for(c=1;b.hasNext();a=
e.call(f,a,b.next(),c++,b));}}else for(c in n=!0,b)c in g||(n?(a=b[c],n=!1):a=e.call(f,a,b[c],c,b));return a},foldr:function(b,e,f,a){"string"==typeof b&&(b=b.split(""));a=a||d.global;e=h.lambda(e);for(var c=b.length;0<c;--c,f=e.call(a,f,b[c],c,b));return f},foldr1:function(b,e,f){"string"==typeof b&&(b=b.split(""));f=f||d.global;e=h.lambda(e);for(var a=b.length,c=b[a-1],a=a-1;0<a;--a,c=e.call(f,c,b[a],a,b));return c},reduce:function(b,e,f){return 3>arguments.length?h.foldl1(b,e):h.foldl(b,e,f)},
reduceRight:function(b,e,f){return 3>arguments.length?h.foldr1(b,e):h.foldr(b,e,f)},unfold:function(b,e,f,a,c){c=c||d.global;e=h.lambda(e);f=h.lambda(f);b=h.lambda(b);for(var n=[];!b.call(c,a);n.push(e.call(c,a)),a=f.call(c,a));return n}})})},"dojox/lang/functional/reversed":function(){define(["dojo/_base/lang","dojo/_base/kernel","./lambda"],function(k,m,d){k.mixin(d,{filterRev:function(h,g,b){"string"==typeof h&&(h=h.split(""));b=b||m.global;g=d.lambda(g);for(var e=[],f,a=h.length-1;0<=a;--a)f=
h[a],g.call(b,f,a,h)&&e.push(f);return e},forEachRev:function(h,g,b){"string"==typeof h&&(h=h.split(""));b=b||m.global;g=d.lambda(g);for(var e=h.length-1;0<=e;g.call(b,h[e],e,h),--e);},mapRev:function(h,g,b){"string"==typeof h&&(h=h.split(""));b=b||m.global;g=d.lambda(g);for(var e=h.length,f=Array(e),e=e-1,a=0;0<=e;f[a++]=g.call(b,h[e],e,h),--e);return f},everyRev:function(h,g,b){"string"==typeof h&&(h=h.split(""));b=b||m.global;g=d.lambda(g);for(var e=h.length-1;0<=e;--e)if(!g.call(b,h[e],e,h))return!1;
return!0},someRev:function(h,g,b){"string"==typeof h&&(h=h.split(""));b=b||m.global;g=d.lambda(g);for(var e=h.length-1;0<=e;--e)if(g.call(b,h[e],e,h))return!0;return!1}});return d})},"dojox/charting/plot2d/Bars":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/has ./CartesianBase ./_PlotEvents ./common dojox/gfx/fx dojox/lang/utils dojox/lang/functional dojox/lang/functional/reversed".split(" "),function(k,m,d,h,g,b,e,f,a,c,n){var t=n.lambda("item.purgeGroup()"),p=function(){return!1};
return d("dojox.charting.plot2d.Bars",[g,b],{defaultParams:{gap:0,animate:null,enableCache:!1},optionalParams:{minBarSize:1,maxBarSize:1,stroke:{},outline:{},shadow:{},fill:{},filter:{},styleFunc:null,font:"",fontColor:""},constructor:function(b,c){this.opt=k.clone(k.mixin(this.opt,this.defaultParams));a.updateWithObject(this.opt,c);a.updateWithPattern(this.opt,c,this.optionalParams);this.animate=this.opt.animate;this.renderingOptions={"shape-rendering":"crispEdges"}},getSeriesStats:function(){var a=
e.collectSimpleStats(this.series,k.hitch(this,"isNullValue")),b;a.hmin-=0.5;a.hmax+=0.5;b=a.hmin;a.hmin=a.vmin;a.vmin=b;b=a.hmax;a.hmax=a.vmax;a.vmax=b;return a},createRect:function(a,b,c){var e;this.opt.enableCache&&0<a._rectFreePool.length?(e=a._rectFreePool.pop(),e.setShape(c),b.add(e)):e=b.createRect(c);this.opt.enableCache&&a._rectUsePool.push(e);return e},createLabel:function(a,b,c,e){this.opt.labels&&"outside"==this.opt.labelStyle?this.renderLabel(a,c.x+c.width+this.opt.labelOffset,c.y+c.height/
2,this._getLabel(isNaN(b.y)?b:b.y),e,"start"):this.inherited(arguments)},render:function(a,b){if(this.zoom&&!this.isDataDirty())return this.performZoom(a,b);this.dirty=this.isDirty();this.resetEvents();var e;this.dirty&&(m.forEach(this.series,t),this._eventSeries={},this.cleanGroup(),e=this.getGroup(),c.forEachRev(this.series,function(a){a.cleanGroup(e)}));var f=this.chart.theme,d=this._hScaler.scaler.getTransformerFromModel(this._hScaler),n=this._vScaler.scaler.getTransformerFromModel(this._vScaler),
g=Math.max(this._hScaler.bounds.lower,this._hAxis?this._hAxis.naturalBaseline:0),p=d(g),D=this.events(),x=this.getBarProperties(),w=this.series.length;m.forEach(this.series,function(a){a.hidden&&w--});for(var G=w,z=this.extractValues(this._vScaler),z=this.rearrangeValues(z,d,p),B=0;B<this.series.length;B++){var u=this.series[B];if(!this.dirty&&!u.dirty)f.skip(),this._reconnectEvents(u.name);else{u.cleanGroup();this.opt.enableCache&&(u._rectFreePool=(u._rectFreePool?u._rectFreePool:[]).concat(u._rectUsePool?
u._rectUsePool:[]),u._rectUsePool=[]);var s=f.next("bar",[this.opt,u]);if(u.hidden)u.dyn.fill=s.series.fill,u.dyn.stroke=s.series.stroke;else{G--;var P=Array(u.data.length);e=u.group;for(var F=m.some(u.data,function(a){return"number"==typeof a||a&&!a.hasOwnProperty("x")}),K=F?Math.max(0,Math.floor(this._vScaler.bounds.from-1)):0,H=F?Math.min(u.data.length,Math.ceil(this._vScaler.bounds.to)):u.data.length;K<H;++K){var C=u.data[K];if(!this.isNullValue(C)){var I=this.getValue(C,K,B,F),N=z[B][K],A,O;
this.opt.styleFunc||"number"!=typeof C?(A="number"!=typeof C?[C]:[],this.opt.styleFunc&&A.push(this.opt.styleFunc(C)),A=f.addMixin(s,"bar",A,!0)):A=f.post(s,"bar");if(N&&1<=x.height){var Q={x:b.l+p+Math.min(N,0),y:a.height-b.b-n(I.x+1.5)+x.gap+x.thickness*(w-G-1),width:Math.abs(N),height:x.height};A.series.shadow&&(O=k.clone(Q),O.x+=A.series.shadow.dx,O.y+=A.series.shadow.dy,O=this.createRect(u,e,O).setFill(A.series.shadow.color).setStroke(A.series.shadow),this.animate&&this._animateBar(O,b.l+p,-N));
var R=this._plotFill(A.series.fill,a,b),R=this._shapeFill(R,Q),R=this.createRect(u,e,Q).setFill(R).setStroke(A.series.stroke);R.setFilter&&A.series.filter&&R.setFilter(A.series.filter);u.dyn.fill=R.getFill();u.dyn.stroke=R.getStroke();if(D){var aa={element:"bar",index:K,run:u,shape:R,shadow:O,cx:I.y,cy:I.x+1.5,x:F?K:u.data[K].x,y:F?u.data[K]:u.data[K].y};this._connectEvents(aa);P[K]=aa}!isNaN(I.py)&&I.py>g&&(Q.x+=d(I.py),Q.width-=d(I.py));this.createLabel(e,C,Q,A);this.animate&&this._animateBar(R,
b.l+p,-Math.abs(N))}}}this._eventSeries[u.name]=P;u.dirty=!1}}}this.dirty=!1;h("dojo-bidi")&&this._checkOrientation(this.group,a,b);return this},getValue:function(a,b,c,e){e?(c="number"==typeof a?a:a.y,a=b):(c=a.y,a=a.x-1);return{y:c,x:a}},extractValues:function(a){for(var b=[],c=this.series.length-1;0<=c;--c){var e=this.series[c];if(this.dirty||e.dirty){var f=m.some(e.data,function(a){return"number"==typeof a||a&&!a.hasOwnProperty("x")}),d=f?Math.max(0,Math.floor(a.bounds.from-1)):0,f=f?Math.min(e.data.length,
Math.ceil(a.bounds.to)):e.data.length,n=b[c]=[];n.min=d;for(n.max=f;d<f;++d){var g=e.data[d];n[d]=this.isNullValue(g)?0:"number"==typeof g?g:g.y}}}return b},rearrangeValues:function(a,b,c){for(var e=0,f=a.length;e<f;++e){var d=a[e];if(d)for(var n=d.min,g=d.max;n<g;++n){var h=d[n];d[n]=this.isNullValue(h)?0:b(h)-c}}return a},isNullValue:function(a){if(null===a||"undefined"==typeof a)return!0;var b=this._hAxis?this._hAxis.isNullValue:p,c=this._vAxis?this._vAxis.isNullValue:p;return"number"==typeof a?
c(0.5)||b(a):c(isNaN(a.x)?0.5:a.x+0.5)||null===a.y||b(a.y)},getBarProperties:function(){var a=e.calculateBarSize(this._vScaler.bounds.scale,this.opt);return{gap:a.gap,height:a.size,thickness:0}},_animateBar:function(a,b,c){0==c&&(c=1);f.animateTransform(k.delegate({shape:a,duration:1200,transform:[{name:"translate",start:[b-b/c,0],end:[0,0]},{name:"scale",start:[1/c,1],end:[1,1]},{name:"original"}]},this.animate)).play()}})})},"dojox/charting/plot2d/CartesianBase":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/connect dojo/has ./Base ../scaler/primitive dojox/gfx dojox/gfx/fx dojox/lang/utils".split(" "),
function(k,m,d,h,g,b,e,f,a){var c=function(){return!1};return m("dojox.charting.plot2d.CartesianBase",g,{baseParams:{hAxis:"x",vAxis:"y",labels:!1,labelOffset:10,fixed:!0,precision:1,labelStyle:"inside",htmlLabels:!0,omitLabels:!0,labelFunc:null},constructor:function(b,c){this.axes=["hAxis","vAxis"];this.zoom=null;this.zoomQueue=[];this.lastWindow={vscale:1,hscale:1,xoffset:0,yoffset:0};this.hAxis=c&&c.hAxis||"x";this.vAxis=c&&c.vAxis||"y";this.series=[];this.opt=k.clone(this.baseParams);a.updateWithObject(this.opt,
c)},clear:function(){this.inherited(arguments);this._vAxis=this._hAxis=null;return this},cleanGroup:function(a,b){this.inherited(arguments);if(!b&&this.chart._nativeClip){var c=this.chart.offsets,e=this.chart.dim,f=Math.max(0,e.width-c.l-c.r),e=Math.max(0,e.height-c.t-c.b);this.group.setClip({x:c.l,y:c.t,width:f,height:e});this._clippedGroup||(this._clippedGroup=this.group.createGroup())}},purgeGroup:function(){this.inherited(arguments);this._clippedGroup=null},getGroup:function(){return this._clippedGroup||
this.group},setAxis:function(a){a&&(this[a.vertical?"_vAxis":"_hAxis"]=a);return this},toPage:function(a){var b=this._hAxis,c=this._vAxis,e=b.getScaler(),f=c.getScaler(),d=e.scaler.getTransformerFromModel(e),g=f.scaler.getTransformerFromModel(f),h=this.chart.getCoords(),k=this.chart.offsets,m=this.chart.dim,e=function(a){var e={};e.x=d(a[b.name])+h.x+k.l;e.y=h.y+m.height-k.b-g(a[c.name]);return e};return a?e(a):e},toData:function(a){var b=this._hAxis,c=this._vAxis,e=b.getScaler(),f=c.getScaler(),
d=e.scaler.getTransformerFromPlot(e),g=f.scaler.getTransformerFromPlot(f),h=this.chart.getCoords(),k=this.chart.offsets,m=this.chart.dim,e=function(a){var e={};e[b.name]=d(a.x-h.x-k.l);e[c.name]=g(h.y+m.height-a.y-k.b);return e};return a?e(a):e},isDirty:function(){return this.dirty||this._hAxis&&this._hAxis.dirty||this._vAxis&&this._vAxis.dirty},createLabel:function(a,b,c,f){if(this.opt.labels){var d,g=this.opt.labelFunc?this.opt.labelFunc.apply(this,[b,this.opt.fixed,this.opt.precision]):this._getLabel(isNaN(b.y)?
b:b.y);if("inside"==this.opt.labelStyle){var h=e._base._getTextBox(g,{font:f.series.font});b=c.x+c.width/2;d=c.y+c.height/2+h.h/4;if(h.w>c.width||h.h>c.height)return}else b=c.x+c.width/2,d=c.y-this.opt.labelOffset;this.renderLabel(a,b,d,g,f,"inside"==this.opt.labelStyle)}},performZoom:function(a,b){var c=this._vAxis.scale||1,e=this._hAxis.scale||1,g=a.height-b.b,h=this._hScaler.bounds,h=(h.from-h.lower)*h.scale,m=this._vScaler.bounds,m=(m.from-m.lower)*m.scale,q=c/this.lastWindow.vscale,M=e/this.lastWindow.hscale,
E=(this.lastWindow.xoffset-h)/(1==this.lastWindow.hscale?e:this.lastWindow.hscale),J=(m-this.lastWindow.yoffset)/(1==this.lastWindow.vscale?c:this.lastWindow.vscale),D=this.getGroup(),g=f.animateTransform(k.delegate({shape:D,duration:1200,transform:[{name:"translate",start:[0,0],end:[b.l*(1-M),g*(1-q)]},{name:"scale",start:[1,1],end:[M,q]},{name:"original"},{name:"translate",start:[0,0],end:[E,J]}]},this.zoom));k.mixin(this.lastWindow,{vscale:c,hscale:e,xoffset:h,yoffset:m});this.zoomQueue.push(g);
d.connect(g,"onEnd",this,function(){this.zoom=null;this.zoomQueue.shift();0<this.zoomQueue.length&&this.zoomQueue[0].play()});1==this.zoomQueue.length&&this.zoomQueue[0].play();return this},initializeScalers:function(a,c){this._hAxis?(this._hAxis.initialized()||this._hAxis.calculate(c.hmin,c.hmax,a.width),this._hScaler=this._hAxis.getScaler()):this._hScaler=b.buildScaler(c.hmin,c.hmax,a.width);this._vAxis?(this._vAxis.initialized()||this._vAxis.calculate(c.vmin,c.vmax,a.height),this._vScaler=this._vAxis.getScaler()):
this._vScaler=b.buildScaler(c.vmin,c.vmax,a.height);return this},isNullValue:function(a){if(null===a||"undefined"==typeof a)return!0;var b=this._hAxis?this._hAxis.isNullValue:c,e=this._vAxis?this._vAxis.isNullValue:c;return"number"==typeof a?b(1)||e(a):b(isNaN(a.x)?1:a.x)||null===a.y||e(a.y)}})})},"dojox/charting/plot2d/Base":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojox/gfx ../Element ./common ../axis2d/common dojo/has".split(" "),function(k,m,d,h,g,b,e,f){k=k("dojox.charting.plot2d.Base",
g,{constructor:function(a,b){b&&b.tooltipFunc&&(this.tooltipFunc=b.tooltipFunc)},clear:function(){this.series=[];this.dirty=!0;return this},setAxis:function(a){return this},assignAxes:function(a){m.forEach(this.axes,function(b){this[b]&&this.setAxis(a[this[b]])},this)},addSeries:function(a){this.series.push(a);return this},getSeriesStats:function(){return b.collectSimpleStats(this.series,d.hitch(this,"isNullValue"))},calculateAxes:function(a){this.initializeScalers(a,this.getSeriesStats());return this},
initializeScalers:function(){return this},isDataDirty:function(){return m.some(this.series,function(a){return a.dirty})},render:function(a,b){return this},renderLabel:function(a,b,f,d,g,l,v){a=e.createText[this.opt.htmlLabels&&"vml"!=h.renderer?"html":"gfx"](this.chart,a,b,f,v?v:"middle",d,g.series.font,g.series.fontColor);l&&(this.opt.htmlLabels&&"vml"!=h.renderer?a.style.pointerEvents="none":a.rawNode&&(a.rawNode.style.pointerEvents="none"));this.opt.htmlLabels&&"vml"!=h.renderer&&this.htmlElements.push(a);
return a},getRequiredColors:function(){return this.series.length},_getLabel:function(a){return b.getLabel(a,this.opt.fixed,this.opt.precision)}});f("dojo-bidi")&&k.extend({_checkOrientation:function(a,b,e){this.chart.applyMirroring(this.group,b,e)}});return k})},"dojox/charting/plot2d/common":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/Color dojox/gfx dojox/lang/functional ../scaler/common".split(" "),function(k,m,d,h,g,b){var e=k.getObject("dojox.charting.plot2d.common",!0);return k.mixin(e,
{doIfLoaded:b.doIfLoaded,makeStroke:function(b){if(!b)return b;if("string"==typeof b||b instanceof d)b={color:b};return h.makeParameters(h.defaultStroke,b)},augmentColor:function(b,a){var c=new d(b),e=new d(a);e.a=c.a;return e},augmentStroke:function(b,a){var c=e.makeStroke(b);c&&(c.color=e.augmentColor(c.color,a));return c},augmentFill:function(b,a){new d(a);return"string"==typeof b||b instanceof d?e.augmentColor(b,a):b},defaultStats:{vmin:Number.POSITIVE_INFINITY,vmax:Number.NEGATIVE_INFINITY,hmin:Number.POSITIVE_INFINITY,
hmax:Number.NEGATIVE_INFINITY},collectSimpleStats:function(b,a){for(var c=k.delegate(e.defaultStats),d=0;d<b.length;++d)for(var g=b[d],h=0;h<g.data.length;h++)if(!a(g.data[h])){if("number"==typeof g.data[h]){var h=c.vmin,l=c.vmax;m.forEach(g.data,function(b,e){if(!a(b)){var f=e+1,d=b;isNaN(d)&&(d=0);c.hmin=Math.min(c.hmin,f);c.hmax=Math.max(c.hmax,f);c.vmin=Math.min(c.vmin,d);c.vmax=Math.max(c.vmax,d)}})}else{var v=c.hmin,r=c.hmax,h=c.vmin,l=c.vmax;(!("xmin"in g)||!("xmax"in g)||!("ymin"in g)||!("ymax"in
g))&&m.forEach(g.data,function(b,e){if(!a(b)){var f="x"in b?b.x:e+1,d=b.y;isNaN(f)&&(f=0);isNaN(d)&&(d=0);c.hmin=Math.min(c.hmin,f);c.hmax=Math.max(c.hmax,f);c.vmin=Math.min(c.vmin,d);c.vmax=Math.max(c.vmax,d)}});"xmin"in g&&(c.hmin=Math.min(v,g.xmin));"xmax"in g&&(c.hmax=Math.max(r,g.xmax))}"ymin"in g&&(c.vmin=Math.min(h,g.ymin));"ymax"in g&&(c.vmax=Math.max(l,g.ymax));break}return c},calculateBarSize:function(b,a,c){c||(c=1);var e=a.gap,e=(b-2*e)/c;"minBarSize"in a&&(e=Math.max(e,a.minBarSize));
"maxBarSize"in a&&(e=Math.min(e,a.maxBarSize));e=Math.max(e,1);return{size:e,gap:(b-e*c)/2}},collectStackedStats:function(b){var a=k.clone(e.defaultStats);if(b.length){a.hmin=Math.min(a.hmin,1);a.hmax=g.foldl(b,"seed, run -\x3e Math.max(seed, run.data.length)",a.hmax);for(var c=0;c<a.hmax;++c){var d=b[0].data[c],d=d&&("number"==typeof d?d:d.y);isNaN(d)&&(d=0);a.vmin=Math.min(a.vmin,d);for(var h=1;h<b.length;++h){var m=b[h].data[c],m=m&&("number"==typeof m?m:m.y);isNaN(m)&&(m=0);d+=m}a.vmax=Math.max(a.vmax,
d)}}return a},curve:function(b,a){var c=b.slice(0);"x"==a&&(c[c.length]=c[0]);return m.map(c,function(b,e){if(0==e)return"M"+b.x+","+b.y;if(isNaN(a)){if("X"==a||"x"==a||"S"==a){var d,f=c[e-1],g=c[e],h,k,q,m=1/6;1==e?(d="x"==a?c[c.length-2]:f,m=1/3):d=c[e-2];e==c.length-1?(h="x"==a?c[1]:g,m=1/3):h=c[e+1];k=Math.sqrt((g.x-f.x)*(g.x-f.x)+(g.y-f.y)*(g.y-f.y));q=Math.sqrt((g.x-d.x)*(g.x-d.x)+(g.y-d.y)*(g.y-d.y));var E=Math.sqrt((h.x-f.x)*(h.x-f.x)+(h.y-f.y)*(h.y-f.y)),J=q*m,m=E*m;J>k/2&&m>k/2?(J=k/2,m=
k/2):J>k/2?(J=k/2,m=k/2*E/q):m>k/2&&(m=k/2,J=k/2*q/E);"S"==a&&(d==f&&(J=0),g==h&&(m=0));k=f.x+J*(g.x-d.x)/q;d=f.y+J*(g.y-d.y)/q;q=g.x-m*(h.x-f.x)/E;f=g.y-m*(h.y-f.y)/E}}else return g=b.x-c[e-1].x,"C"+(b.x-(a-1)*(g/a))+","+c[e-1].y+" "+(b.x-g/a)+","+b.y+" "+b.x+","+b.y;return"C"+(k+","+d+" "+q+","+f+" "+g.x+","+g.y)}).join(" ")},getLabel:function(e,a,c){return b.doIfLoaded("dojo/number",function(b){return(a?b.format(e,{places:c}):b.format(e))||""},function(){return a?e.toFixed(c):e.toString()})}})})},
"dojox/charting/scaler/common":function(){define(["dojo/_base/lang"],function(k){var m=function(d,b){return Math.abs(d-b)<=1E-6*(Math.abs(d)+Math.abs(b))},d=k.getObject("dojox.charting.scaler.common",!0),h={};return k.mixin(d,{doIfLoaded:function(d,b,e){if(void 0===h[d])try{h[d]=require(d)}catch(f){h[d]=null}return h[d]?b(h[d]):e()},getNumericLabel:function(g,b,e){var f="";d.doIfLoaded("dojo/number",function(a){f=(e.fixed?a.format(g,{places:0>b?-b:0}):a.format(g))||""},function(){f=e.fixed?g.toFixed(0>
b?-b:0):g.toString()});if(e.labelFunc){var a=e.labelFunc(f,g,b);if(a)return a}if(e.labels){for(var a=e.labels,c=0,h=a.length;c<h;){var k=Math.floor((c+h)/2);a[k].value<g?c=k+1:h=k}if(c<a.length&&m(a[c].value,g))return a[c].text;--c;if(0<=c&&c<a.length&&m(a[c].value,g))return a[c].text;c+=2;if(c<a.length&&m(a[c].value,g))return a[c].text}return f}})})},"dojox/charting/scaler/primitive":function(){define(["dojo/_base/lang"],function(k){var m=k.getObject("dojox.charting.scaler.primitive",!0);return k.mixin(m,
{buildScaler:function(d,h,g,b){d==h&&(d-=0.5,h+=0.5);return{bounds:{lower:d,upper:h,from:d,to:h,scale:g/(h-d),span:g},scaler:m}},buildTicks:function(d,h){return{major:[],minor:[],micro:[]}},getTransformerFromModel:function(d){var h=d.bounds.from,g=d.bounds.scale;return function(b){return(b-h)*g}},getTransformerFromPlot:function(d){var h=d.bounds.from,g=d.bounds.scale;return function(b){return b/g+h}}})})},"dojox/gfx/fx":function(){define("dojo/_base/lang ./_base ./matrix dojo/_base/Color dojo/_base/array dojo/_base/fx dojo/_base/connect dojo/sniff".split(" "),
function(k,m,d,h,g,b,e,f){function a(a,b){this.start=a;this.end=b}function c(a,b,c){this.start=a;this.end=b;this.units=c}function n(a,b){this.start=a;this.end=b;this.temp=new h}function t(a){this.values=a;this.length=a.length}function p(a,b){this.values=a;this.def=b?b:{}}function l(a,b){this.stack=a;this.original=b}function v(a,b,c,e){if(a.values)return new t(a.values);var d,f;f=a.start?m.normalizeColor(a.start):d=b?c?b[c]:b:e;a.end?a=m.normalizeColor(a.end):(d||(d=b?c?b[c]:b:e),a=d);return new n(f,
a)}var r=m.fx={};a.prototype.getValue=function(a){return(this.end-this.start)*a+this.start};c.prototype.getValue=function(a){return(this.end-this.start)*a+this.start+this.units};n.prototype.getValue=function(a){return h.blendColors(this.start,this.end,a,this.temp)};t.prototype.getValue=function(a){return this.values[Math.min(Math.floor(a*this.length),this.length-1)]};p.prototype.getValue=function(a){var b=k.clone(this.def),c;for(c in this.values)b[c]=this.values[c].getValue(a);return b};l.prototype.getValue=
function(a){var b=[];g.forEach(this.stack,function(c){if(c instanceof d.Matrix2D)b.push(c);else if("original"==c.name&&this.original)b.push(this.original);else if("matrix"==c.name){if(c.start instanceof d.Matrix2D&&c.end instanceof d.Matrix2D){var e=new d.Matrix2D,f;for(f in c.start)e[f]=(c.end[f]-c.start[f])*a+c.start[f];b.push(e)}}else c.name in d&&(e=d[c.name],"function"!=typeof e?b.push(e):(f=g.map(c.start,function(b,e){return(c.end[e]-b)*a+b}),e=e.apply(d,f),e instanceof d.Matrix2D&&b.push(e)))},
this);return b};var y=new h(0,0,0,0);r.animateStroke=function(c){c.easing||(c.easing=b._defaultEasing);var d=new b.Animation(c),f=c.shape,l;e.connect(d,"beforeBegin",d,function(){l=f.getStroke();var b=c.color,e={},d;b&&(e.color=v(b,l,"color",y));if((b=c.style)&&b.values)e.style=new t(b.values);if(b=c.width){var g=b;g.values?d=new t(g.values):(b=g.start?g.start:d=l?l.width:1,g.end?d=g.end:"number"!=typeof d&&(d=l?l.width:1),d=new a(b,d));e.width=d}if((b=c.cap)&&b.values)e.cap=new t(b.values);if(b=
c.join)b.values?e.join=new t(b.values):(d=b.start?b.start:l&&l.join||0,b=b.end?b.end:l&&l.join||0,"number"==typeof d&&"number"==typeof b&&(e.join=new a(d,b)));this.curve=new p(e,l)});e.connect(d,"onAnimate",f,"setStroke");return d};r.animateFill=function(a){a.easing||(a.easing=b._defaultEasing);var c=new b.Animation(a),d=a.shape,f;e.connect(c,"beforeBegin",c,function(){f=d.getFill();var b=a.color;b&&(this.curve=v(b,f,"",y))});e.connect(c,"onAnimate",d,"setFill");return c};r.animateFont=function(a){a.easing||
(a.easing=b._defaultEasing);var d=new b.Animation(a),f=a.shape,l;e.connect(d,"beforeBegin",d,function(){l=f.getFont();var b=a.style,e={},d,g;b&&b.values&&(e.style=new t(b.values));if((b=a.variant)&&b.values)e.variant=new t(b.values);if((b=a.weight)&&b.values)e.weight=new t(b.values);if((b=a.family)&&b.values)e.family=new t(b.values);if((b=a.size)&&b.units)d=parseFloat(b.start?b.start:f.font&&f.font.size||"0"),g=parseFloat(b.end?b.end:f.font&&f.font.size||"0"),e.size=new c(d,g,b.units);this.curve=
new p(e,l)});e.connect(d,"onAnimate",f,"setFont");return d};r.animateTransform=function(a){a.easing||(a.easing=b._defaultEasing);var c=new b.Animation(a),d=a.shape,h;e.connect(c,"beforeBegin",c,function(){h=d.getTransform();this.curve=new l(a.transform,h)});e.connect(c,"onAnimate",d,"setTransform");if("svg"===m.renderer&&(9<=f("ie")||f("ff")))var n=[e.connect(c,"onBegin",c,function(){for(var a=d.getParent();a&&a.getParent;)a=a.getParent();a&&(d.__svgContainer=a.rawNode.parentNode,d.__svgRoot=a.rawNode,
d.__svgRoot&&d.__svgRoot.getAttribute&&(d.__svgWidth=parseInt(d.__svgRoot.getAttribute("width"),10),isNaN(d.__svgWidth)&&delete d.__svgWidth))}),e.connect(c,"onAnimate",c,function(){try{if(d.__svgContainer){var a=d.__svgContainer.style.visibility;d.__svgContainer.style.visibility="visible";d.__svgContainer.style.visibility=a;var b=d.__svgWidth;if(!isNaN(b))try{d.__svgRoot.setAttribute("width",b-5E-6),d.__svgRoot.setAttribute("width",b)}catch(c){}}}catch(e){}}),e.connect(c,"onEnd",c,function(){g.forEach(n,
e.disconnect);if(d.__svgContainer){var a=d.__svgContainer;if(null==a.getAttribute("__gotVis")){a.setAttribute("__gotVis",!0);var b=d.__svgContainer.style.visibility,c=d.__svgRoot,f=d.__svgWidth;a.style.visibility="visible";setTimeout(function(){try{a.style.visibility=b;a.removeAttribute("__gotVis");a=null;try{isNaN(f)||(c.setAttribute("width",f-5E-6),c.setAttribute("width",f))}catch(e){}}catch(d){}},100)}}delete d.__svgContainer;delete d.__svgRoot;delete d.__svgWidth})];return c};return r})},"dojox/charting/plot2d/_PlotEvents":function(){define(["dojo/_base/lang",
"dojo/_base/array","dojo/_base/declare","dojo/_base/connect"],function(k,m,d,h){return d("dojox.charting.plot2d._PlotEvents",null,{constructor:function(){this._shapeEvents=[];this._eventSeries={}},destroy:function(){this.resetEvents();this.inherited(arguments)},plotEvent:function(d){},raiseEvent:function(d){this.plotEvent(d);var b=k.delegate(d);b.originalEvent=d.type;b.originalPlot=d.plot;b.type="onindirect";m.forEach(this.chart.stack,function(e){e!==this&&e.plotEvent&&(b.plot=e,e.plotEvent(b))},
this)},connect:function(d,b){this.dirty=!0;return h.connect(this,"plotEvent",d,b)},events:function(){return!!this.plotEvent.after},resetEvents:function(){this._shapeEvents.length&&(m.forEach(this._shapeEvents,function(d){d.shape.disconnect(d.handle)}),this._shapeEvents=[]);this.raiseEvent({type:"onplotreset",plot:this})},_connectSingleEvent:function(d,b){this._shapeEvents.push({shape:d.eventMask,handle:d.eventMask.connect(b,this,function(e){d.type=b;d.event=e;this.raiseEvent(d);d.event=null})})},
_connectEvents:function(d){d&&(d.chart=this.chart,d.plot=this,d.hAxis=this.hAxis||null,d.vAxis=this.vAxis||null,d.eventMask=d.eventMask||d.shape,this._connectSingleEvent(d,"onmouseover"),this._connectSingleEvent(d,"onmouseout"),this._connectSingleEvent(d,"onclick"))},_reconnectEvents:function(d){(d=this._eventSeries[d])&&m.forEach(d,this._connectEvents,this)},fireEvent:function(d,b,e,f){if((d=this._eventSeries[d])&&d.length&&e<d.length)e=d[e],e.type=b,e.event=f||null,this.raiseEvent(e),e.event=null}})})},
"dojox/charting/plot2d/Pie":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/declare ./Base ./_PlotEvents ./common dojox/gfx dojox/gfx/matrix dojox/lang/functional dojox/lang/utils dojo/has".split(" "),function(k,m,d,h,g,b,e,f,a,c,n){return d("dojox.charting.plot2d.Pie",[h,g],{defaultParams:{labels:!0,ticks:!1,fixed:!0,precision:1,labelOffset:20,labelStyle:"default",htmlLabels:!0,radGrad:"native",fanSize:5,startAngle:0},optionalParams:{radius:0,omitLabels:!1,stroke:{},outline:{},shadow:{},
fill:{},filter:{},styleFunc:null,font:"",fontColor:"",labelWiring:{}},constructor:function(a,b){this.opt=k.clone(this.defaultParams);c.updateWithObject(this.opt,b);c.updateWithPattern(this.opt,b,this.optionalParams);this.axes=[];this.run=null;this.dyn=[];this.runFilter=[]},clear:function(){this.inherited(arguments);this.dyn=[];this.run=null;return this},setAxis:function(a){return this},addSeries:function(a){this.run=a;return this},getSeriesStats:function(){return k.delegate(b.defaultStats)},getRequiredColors:function(){return this.run?
this.run.data.length:0},render:function(b,c){if(!this.dirty)return this;this.resetEvents();this.dirty=!1;this._eventSeries={};this.cleanGroup();var d=this.group,g=this.chart.theme;if(!this.run||!this.run.data.length)return this;var h=(b.width-c.l-c.r)/2,y=(b.height-c.t-c.b)/2,q=Math.min(h,y),M="font"in this.opt?this.opt.font:g.series.font,E,J=f._degToRad(this.opt.startAngle),D=J,x,w,G,z,B=this.events(),u=m.map(this.run.data,function(a,b){"number"!=typeof a&&a.hidden&&(this.runFilter.push(b),a.hidden=
!1);return m.some(this.runFilter,function(a){return a==b})?"number"==typeof a?0:{y:0,text:a.text}:a},this);this.dyn=[];"radius"in this.opt&&(q=this.opt.radius,z=q-this.opt.labelOffset);var s={cx:c.l+h,cy:c.t+y,r:q};if(this.opt.shadow||g.shadow){x=this.opt.shadow||g.shadow;var P=k.clone(s);P.cx+=x.dx;P.cy+=x.dy;d.createCircle(P).setFill(x.color).setStroke(x)}if(d.setFilter&&(this.opt.filter||g.filter))d.createCircle(s).setFill(g.series.stroke).setFilter(this.opt.filter||g.filter);if("number"==typeof u[0]){x=
a.map(u,"x ? Math.max(x, 0) : 0");if(a.every(x,"\x3c\x3d 0"))return d.createCircle(s).setStroke(g.series.stroke),this.dyn=m.map(x,function(){return{}}),this;w=a.map(x,"/this",a.foldl(x,"+",0));this.opt.labels&&(G=m.map(w,function(a){return 0<a?this._getLabel(100*a)+"%":""},this))}else{x=a.map(u,"x ? Math.max(x.y, 0) : 0");if(a.every(x,"\x3c\x3d 0"))return d.createCircle(s).setStroke(g.series.stroke),this.dyn=m.map(x,function(){return{}}),this;w=a.map(x,"/this",a.foldl(x,"+",0));this.opt.labels&&(G=
m.map(w,function(a,b){if(0>a)return"";var c=u[b];return"text"in c?c.text:this._getLabel(100*a)+"%"},this))}var F=a.map(u,function(a,b){var c=[this.opt,this.run];null!==a&&"number"!=typeof a&&c.push(a);this.opt.styleFunc&&c.push(this.opt.styleFunc(a));return g.next("slice",c,!0)},this);this.opt.labels&&(E=M?e.normalizedLength(e.splitFontString(M).size):0,x=a.foldl1(a.map(G,function(a,b){return e._base._getTextBox(a,{font:F[b].series.font}).w},this),"Math.max(a, b)")/2,0>this.opt.labelOffset&&(q=Math.min(h-
2*x,y-E)+this.opt.labelOffset),z=q-this.opt.labelOffset);var K=Array(w.length);m.some(w,function(a,e){if(0>a)return!1;var g=u[e],h=F[e],n;if(0==a)return this.dyn.push({fill:h.series.fill,stroke:h.series.stroke}),!1;if(1<=a){n=this._plotFill(h.series.fill,b,c);n=this._shapeFill(n,{x:s.cx-s.r,y:s.cy-s.r,width:2*s.r,height:2*s.r});n=this._pseudoRadialFill(n,{x:s.cx,y:s.cy},s.r);var k=d.createCircle(s).setFill(n).setStroke(h.series.stroke);this.dyn.push({fill:n,stroke:h.series.stroke});B&&(g={element:"slice",
index:e,run:this.run,shape:k,x:e,y:"number"==typeof g?g:g.y,cx:s.cx,cy:s.cy,cr:q},this._connectEvents(g),K[e]=g);return!1}var m=D+2*a*Math.PI;e+1==w.length&&(m=J+2*Math.PI);var k=m-D,r=s.cx+q*Math.cos(D),v=s.cy+q*Math.sin(D),I=s.cx+q*Math.cos(m),y=s.cy+q*Math.sin(m);n=f._degToRad(this.opt.fanSize);if(h.series.fill&&"radial"===h.series.fill.type&&"fan"===this.opt.radGrad&&k>n){var N=d.createGroup(),M=Math.ceil(k/n),x=k/M;n=this._shapeFill(h.series.fill,{x:s.cx-s.r,y:s.cy-s.r,width:2*s.r,height:2*s.r});
for(var E=0;E<M;++E){var G=0==E?r:s.cx+q*Math.cos(D+(E-0.2)*x),z=0==E?v:s.cy+q*Math.sin(D+(E-0.2)*x),C=E==M-1?I:s.cx+q*Math.cos(D+(E+1+0.2)*x),H=E==M-1?y:s.cy+q*Math.sin(D+(E+1+0.2)*x);N.createPath().moveTo(s.cx,s.cy).lineTo(G,z).arcTo(q,q,0,x>Math.PI,!0,C,H).lineTo(s.cx,s.cy).closePath().setFill(this._pseudoRadialFill(n,{x:s.cx,y:s.cy},q,D+(E+0.5)*x,D+(E+0.5)*x))}N.createPath().moveTo(s.cx,s.cy).lineTo(r,v).arcTo(q,q,0,k>Math.PI,!0,I,y).lineTo(s.cx,s.cy).closePath().setStroke(h.series.stroke);k=
N}else k=d.createPath().moveTo(s.cx,s.cy).lineTo(r,v).arcTo(q,q,0,k>Math.PI,!0,I,y).lineTo(s.cx,s.cy).closePath().setStroke(h.series.stroke),(n=h.series.fill)&&"radial"===n.type?(n=this._shapeFill(n,{x:s.cx-s.r,y:s.cy-s.r,width:2*s.r,height:2*s.r}),"linear"===this.opt.radGrad&&(n=this._pseudoRadialFill(n,{x:s.cx,y:s.cy},q,D,m))):n&&"linear"===n.type&&(n=this._plotFill(n,b,c),n=this._shapeFill(n,k.getBoundingBox())),k.setFill(n);this.dyn.push({fill:n,stroke:h.series.stroke});B&&(g={element:"slice",
index:e,run:this.run,shape:k,x:e,y:"number"==typeof g?g:g.y,cx:s.cx,cy:s.cy,cr:q},this._connectEvents(g),K[e]=g);D=m;return!1},this);if(this.opt.labels){var H=n("dojo-bidi")&&this.chart.isRightToLeft();if("default"==this.opt.labelStyle)D=J,m.some(w,function(a,c){if(0>=a)return!1;var e=F[c];if(1<=a)return this.renderLabel(d,s.cx,s.cy+E/2,G[c],e,0<this.opt.labelOffset),!0;var f=D+2*a*Math.PI;c+1==w.length&&(f=J+2*Math.PI);if(this.opt.omitLabels&&0.0010>f-D)return!1;var g=(D+f)/2,h=s.cx+z*Math.cos(g),
g=s.cy+z*Math.sin(g)+E/2;this.renderLabel(d,H?b.width-h:h,g,G[c],e,0<this.opt.labelOffset);D=f;return!1},this);else if("columns"==this.opt.labelStyle){var D=J,C=this.opt.omitLabels,I=[];m.forEach(w,function(a,b){var c=D+2*a*Math.PI;b+1==w.length&&(c=J+2*Math.PI);var e=(D+c)/2;I.push({angle:e,left:0>Math.cos(e),theme:F[b],index:b,omit:C?0.0010>c-D:!1});D=c});h=e._base._getTextBox("a",{font:M}).h;this._getProperLabelRadius(I,h,1.1*s.r);m.forEach(I,function(a,c){if(!a.omit){var f=s.cx-2*s.r,g=s.cx+2*
s.r,h=e._base._getTextBox(G[c],{font:a.theme.series.font}).w,n=s.cx+a.labelR*Math.cos(a.angle),k=s.cy+a.labelR*Math.sin(a.angle),g=a.left?f+h:g-h,f=a.left?f:g,m=d.createPath().moveTo(s.cx+s.r*Math.cos(a.angle),s.cy+s.r*Math.sin(a.angle));Math.abs(a.labelR*Math.cos(a.angle))<2*s.r-h&&m.lineTo(n,k);m.lineTo(g,k).setStroke(a.theme.series.labelWiring);this.renderLabel(d,H?b.width-h-f:f,k,G[c],a.theme,!1,"left")}},this)}}var N=0;this._eventSeries[this.run.name]=a.map(u,function(a){return 0>=a?null:K[N++]});
n("dojo-bidi")&&this._checkOrientation(this.group,b,c);return this},_getProperLabelRadius:function(a,b,c){var e,d,f=1,g=1;if(1==a.length)a[0].labelR=c;else{for(var h=0;h<a.length;h++){var n=Math.abs(Math.sin(a[h].angle));a[h].left?f>=n&&(f=n,e=a[h]):g>=n&&(g=n,d=a[h])}e.labelR=d.labelR=c;this._calculateLabelR(e,a,b);this._calculateLabelR(d,a,b)}},_calculateLabelR:function(a,b,c){for(var e=a.index,d=b.length,f=a.labelR;!(b[e%d].left^b[(e+1)%d].left);)b[(e+1)%d].omit||(f=(Math.sin(b[e%d].angle)*f+(b[e%
d].left?-c:c))/Math.sin(b[(e+1)%d].angle),f=f<a.labelR?a.labelR:f,b[(e+1)%d].labelR=f),e++;e=a.index;for(d=0==e?d-1:e-1;!(b[e].left^b[d].left);)b[d].omit||(f=(Math.sin(b[e].angle)*f+(b[e].left?c:-c))/Math.sin(b[d].angle),f=f<a.labelR?a.labelR:f,b[d].labelR=f),e--,d--,e=0>e?e+b.length:e,d=0>d?d+b.length:d}})})},"dojox/charting/action2d/Tooltip":function(){define("dijit/Tooltip dojo/_base/lang dojo/_base/declare dojo/_base/window dojo/_base/connect dojo/dom-style ./PlotAction dojox/gfx/matrix dojo/has dojo/has!dojo-bidi?../bidi/action2d/Tooltip dojox/lang/functional dojox/lang/functional/scan dojox/lang/functional/fold".split(" "),
function(k,m,d,h,g,b,e,f,a,c,n){var t=function(a,b){var c=a.run&&a.run.data&&a.run.data[a.index];return c&&"number"!=typeof c&&(c.tooltip||c.text)?c.tooltip||c.text:b.tooltipFunc?b.tooltipFunc(a):a.y},p=Math.PI/4,l=Math.PI/2;b=d(a("dojo-bidi")?"dojox.charting.action2d.NonBidiTooltip":"dojox.charting.action2d.Tooltip",e,{defaultParams:{text:t,mouseOver:!0},optionalParams:{},constructor:function(a,b,c){this.text=c&&c.text?c.text:t;this.mouseOver=c&&void 0!=c.mouseOver?c.mouseOver:!0;this.connect()},
process:function(b){if("onplotreset"===b.type||"onmouseout"===b.type)k.hide(this.aroundRect),this.aroundRect=null,"onplotreset"===b.type&&delete this.angles;else if(b.shape&&!(this.mouseOver&&"onmouseover"!==b.type||!this.mouseOver&&"onclick"!==b.type)){var c={type:"rect"},e=["after-centered","before-centered"];switch(b.element){case "marker":c.x=b.cx;c.y=b.cy;c.w=c.h=1;break;case "circle":c.x=b.cx-b.cr;c.y=b.cy-b.cr;c.w=c.h=2*b.cr;break;case "spider_circle":c.x=b.cx;c.y=b.cy;c.w=c.h=1;break;case "spider_plot":return;
case "column":e=["above-centered","below-centered"];case "bar":c=m.clone(b.shape.getShape());c.w=c.width;c.h=c.height;break;case "candlestick":c.x=b.x;c.y=b.y;c.w=b.width;c.h=b.height;break;default:if(!this.angles){var d="number"==typeof b.run.data[0]?n.map(b.run.data,"x ? Math.max(x, 0) : 0"):n.map(b.run.data,"x ? Math.max(x.y, 0) : 0");this.angles=n.map(n.scanl(d,"+",0),"* 2 * Math.PI / this",n.foldl(d,"+",0))}var d=f._degToRad(b.plot.opt.startAngle),t=(this.angles[b.index]+this.angles[b.index+
1])/2+d;c.x=b.cx+b.cr*Math.cos(t);c.y=b.cy+b.cr*Math.sin(t);c.w=c.h=1;if(d&&(0>t||t>2*Math.PI))t=Math.abs(2*Math.PI-Math.abs(t));t<p||(t<l+p?e=["below-centered","above-centered"]:t<Math.PI+p?e=["before-centered","after-centered"]:t<2*Math.PI-p&&(e=["above-centered","below-centered"]))}a("dojo-bidi")&&this._recheckPosition(b,c,e);d=this.chart.getCoords();c.x+=d.x;c.y+=d.y;c.x=Math.round(c.x);c.y=Math.round(c.y);c.w=Math.ceil(c.w);c.h=Math.ceil(c.h);this.aroundRect=c;(b=this.text(b,this.plot))&&k.show(this._format(b),
this.aroundRect,e);this.mouseOver||(this._handle=g.connect(h.doc,"onclick",this,"onClick"))}},onClick:function(){this.process({type:"onmouseout"})},_recheckPosition:function(a,b,c){},_format:function(a){return a}});return a("dojo-bidi")?d("dojox.charting.action2d.Tooltip",[b,c]):b})},"dojox/charting/action2d/PlotAction":function(){define(["dojo/_base/connect","dojo/_base/declare","./Base","dojo/fx/easing","dojox/lang/functional"],function(k,m,d,h,g){var b=h.backOut;return m("dojox.charting.action2d.PlotAction",
d,{overOutEvents:{onmouseover:1,onmouseout:1},constructor:function(e,d,a){this.anim={};a||(a={});this.duration=a.duration?a.duration:400;this.easing=a.easing?a.easing:b},connect:function(){this.handle=this.chart.connectToPlot(this.plot.name,this,"process")},disconnect:function(){this.handle&&(k.disconnect(this.handle),this.handle=null)},reset:function(){},destroy:function(){this.inherited(arguments);g.forIn(this.anim,function(b){g.forIn(b,function(b){b.action.stop(!0)})});this.anim={}}})})},"dojox/charting/action2d/Base":function(){define(["dojo/_base/lang",
"dojo/_base/declare","dojo/Evented"],function(k,m,d){return m("dojox.charting.action2d.Base",d,{constructor:function(d,g){this.chart=d;this.plot=g?k.isString(g)?this.chart.getPlot(g):g:this.chart.getPlot("default")},connect:function(){},disconnect:function(){},destroy:function(){this.disconnect()}})})},"dojo/fx/easing":function(){define(["../_base/lang"],function(k){var m={linear:function(d){return d},quadIn:function(d){return Math.pow(d,2)},quadOut:function(d){return-1*d*(d-2)},quadInOut:function(d){d*=
2;return 1>d?Math.pow(d,2)/2:-1*(--d*(d-2)-1)/2},cubicIn:function(d){return Math.pow(d,3)},cubicOut:function(d){return Math.pow(d-1,3)+1},cubicInOut:function(d){d*=2;return 1>d?Math.pow(d,3)/2:(Math.pow(d-2,3)+2)/2},quartIn:function(d){return Math.pow(d,4)},quartOut:function(d){return-1*(Math.pow(d-1,4)-1)},quartInOut:function(d){d*=2;return 1>d?Math.pow(d,4)/2:-0.5*(Math.pow(d-2,4)-2)},quintIn:function(d){return Math.pow(d,5)},quintOut:function(d){return Math.pow(d-1,5)+1},quintInOut:function(d){d*=
2;return 1>d?Math.pow(d,5)/2:(Math.pow(d-2,5)+2)/2},sineIn:function(d){return-1*Math.cos(d*(Math.PI/2))+1},sineOut:function(d){return Math.sin(d*(Math.PI/2))},sineInOut:function(d){return-1*(Math.cos(Math.PI*d)-1)/2},expoIn:function(d){return 0==d?0:Math.pow(2,10*(d-1))},expoOut:function(d){return 1==d?1:-1*Math.pow(2,-10*d)+1},expoInOut:function(d){if(0==d)return 0;if(1==d)return 1;d*=2;if(1>d)return Math.pow(2,10*(d-1))/2;--d;return(-1*Math.pow(2,-10*d)+2)/2},circIn:function(d){return-1*(Math.sqrt(1-
Math.pow(d,2))-1)},circOut:function(d){return Math.sqrt(1-Math.pow(d-1,2))},circInOut:function(d){d*=2;return 1>d?-0.5*(Math.sqrt(1-Math.pow(d,2))-1):0.5*(Math.sqrt(1-Math.pow(d-2,2))+1)},backIn:function(d){return Math.pow(d,2)*(2.70158*d-1.70158)},backOut:function(d){d-=1;return Math.pow(d,2)*(2.70158*d+1.70158)+1},backInOut:function(d){d*=2;if(1>d)return Math.pow(d,2)*(3.5949095*d-2.5949095)/2;d-=2;return(Math.pow(d,2)*(3.5949095*d+2.5949095)+2)/2},elasticIn:function(d){if(0==d||1==d)return d;d-=
1;return-1*Math.pow(2,10*d)*Math.sin((d-0.075)*2*Math.PI/0.3)},elasticOut:function(d){return 0==d||1==d?d:Math.pow(2,-10*d)*Math.sin((d-0.075)*2*Math.PI/0.3)+1},elasticInOut:function(d){if(0==d)return 0;d*=2;if(2==d)return 1;var h=0.3*1.5,g=h/4;if(1>d)return d-=1,-0.5*Math.pow(2,10*d)*Math.sin((d-g)*2*Math.PI/h);d-=1;return 0.5*Math.pow(2,-10*d)*Math.sin((d-g)*2*Math.PI/h)+1},bounceIn:function(d){return 1-m.bounceOut(1-d)},bounceOut:function(d){d<1/2.75?d=7.5625*Math.pow(d,2):d<2/2.75?d=7.5625*Math.pow(d-
1.5/2.75,2)+0.75:d<2.5/2.75?(d-=2.25/2.75,d=7.5625*Math.pow(d,2)+0.9375):(d-=2.625/2.75,d=7.5625*Math.pow(d,2)+0.984375);return d},bounceInOut:function(d){return 0.5>d?m.bounceIn(2*d)/2:m.bounceOut(2*d-1)/2+0.5}};k.setObject("dojo.fx.easing",m);return m})},"dojox/lang/functional/scan":function(){define(["dojo/_base/kernel","dojo/_base/lang","./lambda"],function(k,m,d){var h={};m.mixin(d,{scanl:function(g,b,e,f){"string"==typeof g&&(g=g.split(""));f=f||k.global;b=d.lambda(b);var a,c,n;if(m.isArray(g)){a=
Array((c=g.length)+1);a[0]=e;for(n=0;n<c;e=b.call(f,e,g[n],n,g),a[++n]=e);}else if("function"==typeof g.hasNext&&"function"==typeof g.next){a=[e];for(n=0;g.hasNext();a.push(e=b.call(f,e,g.next(),n++,g)));}else for(n in a=[e],g)n in h||a.push(e=b.call(f,e,g[n],n,g));return a},scanl1:function(g,b,e){"string"==typeof g&&(g=g.split(""));e=e||k.global;b=d.lambda(b);var f,a,c;a=!0;if(m.isArray(g)){f=Array(a=g.length);f[0]=c=g[0];for(var n=1;n<a;f[n]=c=b.call(e,c,g[n],n,g),++n);}else if("function"==typeof g.hasNext&&
"function"==typeof g.next){if(g.hasNext()){f=[c=g.next()];for(n=1;g.hasNext();f.push(c=b.call(e,c,g.next(),n++,g)));}}else for(n in g)n in h||(a?(f=[c=g[n]],a=!1):f.push(c=b.call(e,c,g[n],n,g)));return f},scanr:function(g,b,e,f){"string"==typeof g&&(g=g.split(""));f=f||k.global;b=d.lambda(b);var a=g.length,c=Array(a+1),h=a;for(c[a]=e;0<h;--h,e=b.call(f,e,g[h],h,g),c[h]=e);return c},scanr1:function(g,b,e){"string"==typeof g&&(g=g.split(""));e=e||k.global;b=d.lambda(b);var f=g.length,a=Array(f),c=g[f-
1],f=f-1;for(a[f]=c;0<f;--f,c=b.call(e,c,g[f],f,g),a[f]=c);return a}})})},"dojox/charting/action2d/MoveSlice":function(){define("dojo/_base/connect dojo/_base/declare dojo/_base/array ./PlotAction dojo/fx/easing dojox/gfx/matrix dojox/gfx/fx dojox/lang/functional dojox/lang/functional/scan dojox/lang/functional/fold".split(" "),function(k,m,d,h,g,b,e,f){return m("dojox.charting.action2d.MoveSlice",h,{defaultParams:{duration:400,easing:g.backOut,scale:1.05,shift:7},optionalParams:{},constructor:function(a,
b,e){e||(e={});this.scale="number"==typeof e.scale?e.scale:1.05;this.shift="number"==typeof e.shift?e.shift:7;this.connect()},process:function(a){if(a.shape&&"slice"==a.element&&a.type in this.overOutEvents){if(!this.angles){var c=b._degToRad(a.plot.opt.startAngle);this.angles="number"==typeof a.run.data[0]?f.map(f.scanl(a.run.data,"+",0),"* 2 * Math.PI / this",f.foldl(a.run.data,"+",0)):f.map(f.scanl(a.run.data,"a + b.y",0),"* 2 * Math.PI / this",f.foldl(a.run.data,"a + b.y",0));this.angles=d.map(this.angles,
function(a){return a+c})}var g=a.index,h,m,l,v,r;h=(this.angles[g]+this.angles[g+1])/2;var y=b.rotateAt(-h,a.cx,a.cy),q=b.rotateAt(h,a.cx,a.cy);(h=this.anim[g])?h.action.stop(!0):this.anim[g]=h={};"onmouseover"==a.type?(v=0,r=this.shift,m=1,l=this.scale):(v=this.shift,r=0,m=this.scale,l=1);h.action=e.animateTransform({shape:a.shape,duration:this.duration,easing:this.easing,transform:[q,{name:"translate",start:[v,0],end:[r,0]},{name:"scaleAt",start:[m,a.cx,a.cy],end:[l,a.cx,a.cy]},y]});"onmouseout"==
a.type&&k.connect(h.action,"onEnd",this,function(){delete this.anim[g]});h.action.play()}},reset:function(){delete this.angles}})})},"dojox/charting/axis2d/Default":function(){define("dojo/_base/lang dojo/_base/array dojo/sniff dojo/_base/declare dojo/_base/connect dojo/dom-geometry ./Invisible ../scaler/linear ./common dojox/gfx dojox/lang/utils dojox/lang/functional dojo/has!dojo-bidi?../bidi/axis2d/Default".split(" "),function(k,m,d,h,g,b,e,f,a,c,n,t,p){e=h(d("dojo-bidi")?"dojox.charting.axis2d.NonBidiDefault":
"dojox.charting.axis2d.Default",e,{defaultParams:{vertical:!1,fixUpper:"none",fixLower:"none",natural:!1,leftBottom:!0,includeZero:!1,fixed:!0,majorLabels:!0,minorTicks:!0,minorLabels:!0,microTicks:!1,rotation:0,htmlLabels:!0,enableCache:!1,dropLabels:!0,labelSizeChange:!1,position:"leftOrBottom"},optionalParams:{min:0,max:1,from:0,to:1,majorTickStep:4,minorTickStep:2,microTickStep:1,labels:[],labelFunc:null,maxLabelSize:0,maxLabelCharCount:0,trailingSymbol:null,stroke:{},majorTick:{},minorTick:{},
microTick:{},tick:{},font:"",fontColor:"",title:"",titleGap:0,titleFont:"",titleFontColor:"",titleOrientation:""},constructor:function(a,b){this.opt=k.clone(this.defaultParams);n.updateWithObject(this.opt,b);n.updateWithPattern(this.opt,b,this.optionalParams);this.opt.enableCache&&(this._textFreePool=[],this._lineFreePool=[],this._textUsePool=[],this._lineUsePool=[]);this._invalidMaxLabelSize=!0;b&&"position"in b||(this.opt.position=this.opt.leftBottom?"leftOrBottom":"rightOrTop");this.renderingOptions=
{"shape-rendering":"crispEdges"}},setWindow:function(a,b){a!=this.scale&&(this._invalidMaxLabelSize=!0);return this.inherited(arguments)},_groupLabelWidth:function(a,b,e){if(!a.length)return 0;50<a.length&&(a.length=50);k.isObject(a[0])&&(a=t.map(a,function(a){return a.text}));e&&(a=t.map(a,function(a){return 0==k.trim(a).length?"":a.substring(0,e)+this.trailingSymbol},this));a=a.join("\x3cbr\x3e");return c._base._getTextBox(a,{font:b}).w||0},_getMaxLabelSize:function(a,b,c,e,d,g){if(null==this._maxLabelSize&&
6==arguments.length){var h=this.opt;this.scaler.minMinorStep=this._prevMinMinorStep=0;var n=k.clone(h);delete n.to;delete n.from;var p=f.buildScaler(a,b,c,n,h.to-h.from);p.minMinorStep=0;this._majorStart=p.major.start;h=f.buildTicks(p,h);if(g&&h){var t=p=0,w=function(a){a.label&&this.push(a.label)},G=[];this.opt.majorLabels&&(m.forEach(h.major,w,G),p=this._groupLabelWidth(G,d,n.maxLabelCharCount),n.maxLabelSize&&(p=Math.min(n.maxLabelSize,p)));G=[];this.opt.dropLabels&&this.opt.minorLabels&&(m.forEach(h.minor,
w,G),t=this._groupLabelWidth(G,d,n.maxLabelCharCount),n.maxLabelSize&&(t=Math.min(n.maxLabelSize,t)));this._maxLabelSize={majLabelW:p,minLabelW:t,majLabelH:g,minLabelH:g}}else this._maxLabelSize=null}return this._maxLabelSize},calculate:function(a,b,e){this.inherited(arguments);this.scaler.minMinorStep=this._prevMinMinorStep;if((this._invalidMaxLabelSize||e!=this._oldSpan)&&Infinity!=a&&-Infinity!=b){this._invalidMaxLabelSize=!1;this.opt.labelSizeChange&&(this._maxLabelSize=null);this._oldSpan=e;
var d=this.opt,g=this.chart.theme.axis,h=d.rotation%360,n=this.chart.theme.axis.tick.labelGap,k=d.font||g.majorTick&&g.majorTick.font||g.tick&&g.tick.font,g=k?c.normalizedLength(c.splitFontString(k).size):0,k=this._getMaxLabelSize(a,b,e,h,k,g);"number"!=typeof n&&(n=4);if(k&&d.dropLabels){var d=Math.abs(Math.cos(h*Math.PI/180)),m=Math.abs(Math.sin(h*Math.PI/180));0>h&&(h+=360);switch(h){case 0:case 180:this.vertical?h=g:(h=k.majLabelW,g=k.minLabelW);break;case 90:case 270:this.vertical?(h=k.majLabelW,
g=k.minLabelW):h=g;break;default:var h=this.vertical?Math.min(k.majLabelW,g/d):Math.min(k.majLabelW,g/m),p=Math.sqrt(k.minLabelW*k.minLabelW+g*g),g=Math.min(p,this.vertical?g*d+k.minLabelW*m:k.minLabelW*d+g*m)}this.scaler.minMinorStep=this._prevMinMinorStep=Math.max(h,g)+n;this._skipInterval=this.scaler.minMinorStep<=this.scaler.minor.tick*this.scaler.bounds.scale?0:Math.floor((h+n)/(this.scaler.major.tick*this.scaler.bounds.scale))}else this._skipInterval=0}this.ticks=f.buildTicks(this.scaler,this.opt);
return this},getOffsets:function(){var a={l:0,r:0,t:0,b:0};if(!this.scaler)return a;var b=this.opt,e=this.chart.theme.axis,d=this.chart.theme.axis.tick.labelGap,f=b.titleFont||e.title&&e.title.font,e=0==b.titleGap?0:b.titleGap||e.title&&e.title.gap,g=this.chart.theme.getTick("major",b),h=this.chart.theme.getTick("minor",b),f=f?c.normalizedLength(c.splitFontString(f).size):0,n=b.rotation%360,k=b.position,m="rightOrTop"!==k,p=Math.abs(Math.cos(n*Math.PI/180)),t=Math.abs(Math.sin(n*Math.PI/180));this.trailingSymbol=
void 0===b.trailingSymbol||null===b.trailingSymbol?this.trailingSymbol:b.trailingSymbol;"number"!=typeof d&&(d=4);0>n&&(n+=360);var z=this._getMaxLabelSize();if(z){var B=Math.ceil(Math.max(z.majLabelW,z.minLabelW))+1,u=Math.ceil(Math.max(z.majLabelH,z.minLabelH))+1;if(this.vertical)switch(z=m?"l":"r",n){case 0:case 180:a[z]="center"===k?0:B;a.t=a.b=u/2;break;case 90:case 270:a[z]=u;a.t=a.b=B/2;break;default:45>=n||180<n&&225>=n?(a[z]=u*t/2+B*p,a[m?"t":"b"]=u*p/2+B*t,a[m?"b":"t"]=u*p/2):315<n||180>
n&&135<n?(a[z]=u*t/2+B*p,a[m?"b":"t"]=u*p/2+B*t,a[m?"t":"b"]=u*p/2):90>n||180<n&&270>n?(a[z]=u*t+B*p,a[m?"t":"b"]=u*p+B*t):(a[z]=u*t+B*p,a[m?"b":"t"]=u*p+B*t)}else switch(z=m?"b":"t",n){case 0:case 180:a[z]="center"===k?0:u;a.l=a.r=B/2;break;case 90:case 270:a[z]=B;a.l=a.r=u/2;break;default:45<=n&&90>=n||225<=n&&270>=n?(a[z]=u*p/2+B*t,a[m?"r":"l"]=u*t/2+B*p,a[m?"l":"r"]=u*t/2):90<=n&&135>=n||270<=n&&315>=n?(a[z]=u*p/2+B*t,a[m?"l":"r"]=u*t/2+B*p,a[m?"r":"l"]=u*t/2):45>n||180<n&&225>n?(a[z]=u*p+B*t,
a[m?"r":"l"]=u*t+B*p):(a[z]=u*p+B*t,a[m?"l":"r"]=u*t+B*p)}a[z]="center"===k?0:a[z]+(d+Math.max(0<g.length?g.length:0,0<h.length?h.length:0)+(b.title?f+e:0))}return a},cleanGroup:function(a){this.opt.enableCache&&this.group&&(this._lineFreePool=this._lineFreePool.concat(this._lineUsePool),this._lineUsePool=[],this._textFreePool=this._textFreePool.concat(this._textUsePool),this._textUsePool=[]);this.inherited(arguments)},createText:function(b,c,e,d,f,g,h,n,k){if(!this.opt.enableCache||"html"==b)return a.createText[b](this.chart,
c,e,d,f,g,h,n,k);0<this._textFreePool.length?(b=this._textFreePool.pop(),b.setShape({x:e,y:d,text:g,align:f}),c.add(b)):b=a.createText[b](this.chart,c,e,d,f,g,h,n);this._textUsePool.push(b);return b},createLine:function(a,b){var c;this.opt.enableCache&&0<this._lineFreePool.length?(c=this._lineFreePool.pop(),c.setShape(b),a.add(c)):c=a.createLine(b);this.opt.enableCache&&this._lineUsePool.push(c);return c},render:function(b,e){var g,h,n,k,p,t,D,x,w,G,z,B,u,s,P=this._isRtl();if(!this.dirty||!this.scaler)return this;
var F=this.opt;w=this.chart.theme.axis;var K=F.position,H="rightOrTop"!==K,C=F.rotation%360,I=0,N,A,I=this.chart.theme.axis.tick.labelGap,O=F.font||w.majorTick&&w.majorTick.font||w.tick&&w.tick.font,Q=F.titleFont||w.title&&w.title.font,R=F.fontColor||w.majorTick&&w.majorTick.fontColor||w.tick&&w.tick.fontColor||"black",aa=F.titleFontColor||w.title&&w.title.fontColor||"black";p=0==F.titleGap?0:F.titleGap||w.title&&w.title.gap||15;var X=F.titleOrientation||w.title&&w.title.orientation||"axis",S=this.chart.theme.getTick("major",
F),T=this.chart.theme.getTick("minor",F),ba=this.chart.theme.getTick("micro",F),fa="stroke"in F?F.stroke:w.stroke,L=O?c.normalizedLength(c.splitFontString(O).size):0;t=Math.abs(Math.cos(C*Math.PI/180));N=Math.abs(Math.sin(C*Math.PI/180));var Z=Q?c.normalizedLength(c.splitFontString(Q).size):0;"number"!=typeof I&&(I=4);0>C&&(C+=360);var $=this._getMaxLabelSize(),$=$&&$.majLabelW;if(this.vertical){u=b.height-e.b;s=void 0;z=e.t;B=void 0;w=(b.height-e.b+e.t)/2;G=void 0;N=L*N+($||0)*t+I+Math.max(0<S.length?
S.length:0,0<T.length?T.length:0)+Z+p;D=0;x=-1;h=g=0;p=1;t=0;n=I;k=0;switch(C){case 0:A="end";h=0.4*L;break;case 90:A="middle";g=-L;break;case 180:A="start";h=0.4*-L;break;case 270:A="middle";break;default:45>C?(A="end",h=0.4*L):90>C?(A="end",h=0.4*L):135>C?A="start":225>C?(A="start",h=0.4*-L):270>C?(A="start",g=H?0:0.4*L):315>C?(A="end",g=H?0:0.4*L):(A="end",h=0.4*L)}if(H)s=B="center"===K?b.width/2:e.l,I=X&&"away"==X?90:270,G=e.l-N+(270==I?Z:0),p=-1,n=-n;else switch(s=B=b.width-e.r,I=X&&"axis"==
X?90:270,G=b.width-e.r+N-(270==I?0:Z),A){case "start":A="end";break;case "end":A="start";break;case "middle":g+=L}}else{s=e.l;u=void 0;B=b.width-e.r;z=void 0;G=(b.width-e.r+e.l)/2;w=void 0;N=L*t+($||0)*N+I+Math.max(0<S.length?S.length:0,0<T.length?T.length:0)+Z+p;D=P?-1:1;p=h=g=x=0;t=1;n=0;k=I;switch(C){case 0:A="middle";h=L;break;case 90:A="start";g=0.4*-L;break;case 180:A="middle";break;case 270:A="end";g=0.4*L;break;default:45>C?(A="start",h=H?L:0):135>C?(A="start",g=0.4*-L):180>C?(A="start",h=
H?0:-L):225>C?(A="end",h=H?0:-L):315>C?(A="end",h=H?0.4*L:0):(A="end",h=H?L:0)}if(H)u=z="center"===K?b.height/2:b.height-e.b,I=X&&"axis"==X?180:0,w=b.height-e.b+N-(I?Z:0);else switch(u=z=e.t,I=X&&"away"==X?180:0,w=e.t-N+(I?0:Z),t=-1,k=-k,A){case "start":A="end";break;case "end":A="start";break;case "middle":h-=L}}this.cleanGroup();var Y=this.group,K=this.scaler,H=this.ticks,ca=f.getTransformerFromModel(this.scaler),U=(!F.title||!I)&&!C&&this.opt.htmlLabels&&!d("ie")&&!d("opera")?"html":"gfx",V=p*
S.length,W=t*S.length,da=this._skipInterval;Y.createLine({x1:s,y1:u,x2:B,y2:z}).setStroke(fa);F.title&&(Q=a.createText[U](this.chart,Y,G,w,"middle",F.title,Q,aa),"html"==U?this.htmlElements.push(Q):Q.setTransform(c.matrix.rotategAt(I,G,w)));if(null==H)return this.dirty=!1,this;var ga=0<H.major.length?(H.major[0].value-this._majorStart)/K.major.tick:0,ea=this.opt.majorLabels;m.forEach(H.major,function(a,b){var e=ca(a.value),d=(P?B:s)+D*e,f=u+x*e;b+=ga;this.createLine(Y,{x1:d,y1:f,x2:d+V,y2:f+W}).setStroke(S);
if(a.label&&(!da||0==(b-(1+da))%(1+da))){var l=F.maxLabelCharCount?this.getTextWithLimitCharCount(a.label,O,F.maxLabelCharCount):{text:a.label,truncated:!1},l=F.maxLabelSize?this.getTextWithLimitLength(l.text,O,F.maxLabelSize,l.truncated):l,e=this.createText(U,Y,d+(0<S.length?V:0)+n+(C?0:g),f+(0<S.length?W:0)+k+(C?0:h),A,l.text,O,R);l.truncated&&this.chart.formatTruncatedLabel(e,a.label,U);l.truncated&&this.labelTooltip(e,this.chart,a.label,l.text,O,U);"html"==U?this.htmlElements.push(e):C&&e.setTransform([{dx:g,
dy:h},c.matrix.rotategAt(C,d+(0<S.length?V:0)+n,f+(0<S.length?W:0)+k)])}},this);V=p*T.length;W=t*T.length;ea=this.opt.minorLabels&&K.minMinorStep<=K.minor.tick*K.bounds.scale;m.forEach(H.minor,function(a){var b=ca(a.value),e=(P?B:s)+D*b,d=u+x*b;this.createLine(Y,{x1:e,y1:d,x2:e+V,y2:d+W}).setStroke(T);if(ea&&a.label){var f=F.maxLabelCharCount?this.getTextWithLimitCharCount(a.label,O,F.maxLabelCharCount):{text:a.label,truncated:!1},f=F.maxLabelSize?this.getTextWithLimitLength(f.text,O,F.maxLabelSize,
f.truncated):f,b=this.createText(U,Y,e+(0<T.length?V:0)+n+(C?0:g),d+(0<T.length?W:0)+k+(C?0:h),A,f.text,O,R);f.truncated&&this.chart.formatTruncatedLabel(b,a.label,U);f.truncated&&this.labelTooltip(b,this.chart,a.label,f.text,O,U);"html"==U?this.htmlElements.push(b):C&&b.setTransform([{dx:g,dy:h},c.matrix.rotategAt(C,e+(0<T.length?V:0)+n,d+(0<T.length?W:0)+k)])}},this);V=p*ba.length;W=t*ba.length;m.forEach(H.micro,function(a){var b=ca(a.value);a=s+D*b;b=u+x*b;this.createLine(Y,{x1:a,y1:b,x2:a+V,y2:b+
W}).setStroke(ba)},this);this.dirty=!1;return this},labelTooltip:function(a,e,d,f,h,n){var m=["dijit/Tooltip"],p={type:"rect"},t=["above","below"];f=c._base._getTextBox(f,{font:h}).w||0;h=h?c.normalizedLength(c.splitFontString(h).size):0;"html"==n?(k.mixin(p,b.position(a.firstChild,!0)),p.width=Math.ceil(f),p.height=Math.ceil(h),this._events.push({shape:dojo,handle:g.connect(a.firstChild,"onmouseover",this,function(a){require(m,function(a){a.show(d,p,t)})})}),this._events.push({shape:dojo,handle:g.connect(a.firstChild,
"onmouseout",this,function(a){require(m,function(a){a.hide(p)})})})):(n=a.getShape(),e=e.getCoords(),p=k.mixin(p,{x:n.x-f/2,y:n.y}),p.x+=e.x,p.y+=e.y,p.x=Math.round(p.x),p.y=Math.round(p.y),p.width=Math.ceil(f),p.height=Math.ceil(h),this._events.push({shape:a,handle:a.connect("onmouseenter",this,function(a){require(m,function(a){a.show(d,p,t)})})}),this._events.push({shape:a,handle:a.connect("onmouseleave",this,function(a){require(m,function(a){a.hide(p)})})}))},_isRtl:function(){return!1}});return d("dojo-bidi")?
h("dojox.charting.axis2d.Default",[e,p]):e})},"dojox/charting/axis2d/Invisible":function(){define(["dojo/_base/lang","dojo/_base/declare","./Base","../scaler/linear","dojox/lang/utils"],function(k,m,d,h,g){return m("dojox.charting.axis2d.Invisible",d,{defaultParams:{vertical:!1,fixUpper:"none",fixLower:"none",natural:!1,leftBottom:!0,includeZero:!1,fixed:!0},optionalParams:{min:0,max:1,from:0,to:1,majorTickStep:4,minorTickStep:2,microTickStep:1},constructor:function(b,e){this.opt=k.clone(this.defaultParams);
g.updateWithObject(this.opt,e);g.updateWithPattern(this.opt,e,this.optionalParams)},dependOnData:function(){return!("min"in this.opt)||!("max"in this.opt)},clear:function(){delete this.scaler;delete this.ticks;this.dirty=!0;return this},initialized:function(){return"scaler"in this&&!(this.dirty&&this.dependOnData())},setWindow:function(b,e){this.scale=b;this.offset=e;return this.clear()},getWindowScale:function(){return"scale"in this?this.scale:1},getWindowOffset:function(){return"offset"in this?
this.offset:0},calculate:function(b,e,d,a){if(this.initialized())return this;var c=this.opt;this.labels=c.labels;this.scaler=(a||h).buildScaler(b,e,d,c);var g=this.scaler.bounds;"scale"in this&&(c.from=g.lower+this.offset,c.to=(g.upper-g.lower)/this.scale+c.from,!isFinite(c.from)||isNaN(c.from)||!isFinite(c.to)||isNaN(c.to)||c.to-c.from>=g.upper-g.lower?(delete c.from,delete c.to,delete this.scale,delete this.offset):(c.from<g.lower?(c.to+=g.lower-c.from,c.from=g.lower):c.to>g.upper&&(c.from+=g.upper-
c.to,c.to=g.upper),this.offset=c.from-g.lower),this.scaler=(a||h).buildScaler(b,e,d,c),1==this.scale&&0==this.offset&&(delete this.scale,delete this.offset));return this},getScaler:function(){return this.scaler},getTicks:function(){return this.ticks}})})},"dojox/charting/axis2d/Base":function(){define(["dojo/_base/declare","../Element"],function(k,m){return k("dojox.charting.axis2d.Base",m,{constructor:function(d,h){this.vertical=h&&h.vertical;this.opt={};this.opt.min=h&&h.min;this.opt.max=h&&h.max},
clear:function(){return this},initialized:function(){return!1},calculate:function(d,h,g){return this},getScaler:function(){return null},getTicks:function(){return null},getOffsets:function(){return{l:0,r:0,t:0,b:0}},render:function(d,h){this.dirty=!1;return this},isNullValue:function(d){return!1},naturalBaseline:0})})},"dojox/charting/scaler/linear":function(){define(["dojo/_base/lang","./common"],function(k,m){function d(b,d){b=b.toLowerCase();for(var a=d.length-1;0<=a;--a)if(b===d[a])return!0;return!1}
var h=k.getObject("dojox.charting.scaler.linear",!0),g=m.getNumericLabel,b=function(b,f,a,c,g,m,p){a=k.delegate(a);c||("major"==a.fixUpper&&(a.fixUpper="minor"),"major"==a.fixLower&&(a.fixLower="minor"));g||("minor"==a.fixUpper&&(a.fixUpper="micro"),"minor"==a.fixLower&&(a.fixLower="micro"));m||("micro"==a.fixUpper&&(a.fixUpper="none"),"micro"==a.fixLower&&(a.fixLower="none"));var l=d(a.fixLower,["major"])?Math.floor(a.min/c)*c:d(a.fixLower,["minor"])?Math.floor(a.min/g)*g:d(a.fixLower,["micro"])?
Math.floor(a.min/m)*m:a.min,v=d(a.fixUpper,["major"])?Math.ceil(a.max/c)*c:d(a.fixUpper,["minor"])?Math.ceil(a.max/g)*g:d(a.fixUpper,["micro"])?Math.ceil(a.max/m)*m:a.max;a.useMin&&(b=l);a.useMax&&(f=v);var r=!c||a.useMin&&d(a.fixLower,["major"])?b:Math.ceil(b/c)*c,y=!g||a.useMin&&d(a.fixLower,["major","minor"])?b:Math.ceil(b/g)*g,q=!m||a.useMin&&d(a.fixLower,["major","minor","micro"])?b:Math.ceil(b/m)*m,M=!c?0:(a.useMax&&d(a.fixUpper,["major"])?Math.round((f-r)/c):Math.floor((f-r)/c))+1,E=!g?0:(a.useMax&&
d(a.fixUpper,["major","minor"])?Math.round((f-y)/g):Math.floor((f-y)/g))+1;a=!m?0:(a.useMax&&d(a.fixUpper,["major","minor","micro"])?Math.round((f-q)/m):Math.floor((f-q)/m))+1;var J=g?Math.round(c/g):0,D=m?Math.round(g/m):0,x=c?Math.floor(Math.log(c)/Math.LN10):0,w=g?Math.floor(Math.log(g)/Math.LN10):0,G=p/(f-b);isFinite(G)||(G=1);return{bounds:{lower:l,upper:v,from:b,to:f,scale:G,span:p},major:{tick:c,start:r,count:M,prec:x},minor:{tick:g,start:y,count:E,prec:w},micro:{tick:m,start:q,count:a,prec:0},
minorPerMajor:J,microPerMinor:D,scaler:h}};return k.mixin(h,{buildScaler:function(e,d,a,c,g,h){var k={fixUpper:"none",fixLower:"none",natural:!1};c&&("fixUpper"in c&&(k.fixUpper=String(c.fixUpper)),"fixLower"in c&&(k.fixLower=String(c.fixLower)),"natural"in c&&(k.natural=Boolean(c.natural)));h=!h||3>h?3:h;"min"in c&&(e=c.min);"max"in c&&(d=c.max);c.includeZero&&(0<e&&(e=0),0>d&&(d=0));k.min=e;k.useMin=!0;k.max=d;k.useMax=!0;"from"in c&&(e=c.from,k.useMin=!1);"to"in c&&(d=c.to,k.useMax=!1);if(d<=e)return b(e,
d,k,0,0,0,a);g||(g=d-e);g=Math.floor(Math.log(g)/Math.LN10);g=c&&"majorTickStep"in c?c.majorTickStep:Math.pow(10,g);var l=0,m=0,r;if(c&&"minorTickStep"in c)l=c.minorTickStep;else{do{l=g/10;if(!k.natural||0.9<l)if(r=b(e,d,k,g,l,0,a),r.bounds.scale*r.minor.tick>h)break;l=g/5;if(!k.natural||0.9<l)if(r=b(e,d,k,g,l,0,a),r.bounds.scale*r.minor.tick>h)break;l=g/2;if(!k.natural||0.9<l)if(r=b(e,d,k,g,l,0,a),r.bounds.scale*r.minor.tick>h)break;return b(e,d,k,g,0,0,a)}while(0)}if(c&&"microTickStep"in c)m=c.microTickStep,
r=b(e,d,k,g,l,m,a);else{do{m=l/10;if(!k.natural||0.9<m)if(r=b(e,d,k,g,l,m,a),3<r.bounds.scale*r.micro.tick)break;m=l/5;if(!k.natural||0.9<m)if(r=b(e,d,k,g,l,m,a),3<r.bounds.scale*r.micro.tick)break;m=l/2;if(!k.natural||0.9<m)if(r=b(e,d,k,g,l,m,a),3<r.bounds.scale*r.micro.tick)break;m=0}while(0)}return m?r:b(e,d,k,g,l,0,a)},buildTicks:function(b,d){var a,c,h,k=b.major.start,m=b.minor.start,l=b.micro.start;if(d.microTicks&&b.micro.tick)a=b.micro.tick,c=l;else if(d.minorTicks&&b.minor.tick)a=b.minor.tick,
c=m;else if(b.major.tick)a=b.major.tick,c=k;else return null;var v=1/b.bounds.scale;if(b.bounds.to<=b.bounds.from||isNaN(v)||!isFinite(v)||0>=a||isNaN(a)||!isFinite(a))return null;for(var r=[],y=[],q=[];c<=b.bounds.to+v;)Math.abs(k-c)<a/2?(h={value:k},d.majorLabels&&(h.label=g(k,b.major.prec,d)),r.push(h),k+=b.major.tick,m+=b.minor.tick):Math.abs(m-c)<a/2?(d.minorTicks&&(h={value:m},d.minorLabels&&b.minMinorStep<=b.minor.tick*b.bounds.scale&&(h.label=g(m,b.minor.prec,d)),y.push(h)),m+=b.minor.tick):
d.microTicks&&q.push({value:l}),l+=b.micro.tick,c+=a;return{major:r,minor:y,micro:q}},getTransformerFromModel:function(b){var d=b.bounds.from,a=b.bounds.scale;return function(b){return(b-d)*a}},getTransformerFromPlot:function(b){var d=b.bounds.from,a=b.bounds.scale;return function(b){return b/a+d}}})})},"dijit/form/RadioButton":function(){define(["dojo/_base/declare","./CheckBox","./_RadioButtonMixin"],function(k,m,d){return k("dijit.form.RadioButton",[m,d],{baseClass:"dijitRadio"})})},"dijit/form/_RadioButtonMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/_base/lang dojo/query!css2 ../registry".split(" "),
function(k,m,d,h,g,b){return m("dijit.form._RadioButtonMixin",null,{type:"radio",_getRelatedWidgets:function(){var d=[];g("input[type\x3dradio]",this.focusNode.form||this.ownerDocument).forEach(h.hitch(this,function(f){f.name==this.name&&f.form==this.focusNode.form&&(f=b.getEnclosingWidget(f))&&d.push(f)}));return d},_setCheckedAttr:function(b){this.inherited(arguments);this._created&&b&&k.forEach(this._getRelatedWidgets(),h.hitch(this,function(b){b!=this&&b.checked&&b.set("checked",!1)}))},_getSubmitValue:function(b){return null==
b?"on":b},_onClick:function(b){if(this.checked||this.disabled)return b.stopPropagation(),b.preventDefault(),!1;if(this.readOnly)return b.stopPropagation(),b.preventDefault(),k.forEach(this._getRelatedWidgets(),h.hitch(this,function(a){d.set(this.focusNode||this.domNode,"checked",a.checked)})),!1;var f=!1,a;k.some(this._getRelatedWidgets(),function(b){return b.checked?(a=b,!0):!1});this.checked=!0;a&&(a.checked=!1);if(!1===this.onClick(b)||b.defaultPrevented)f=!0;this.checked=!1;a&&(a.checked=!0);
f?b.preventDefault():this.set("checked",!0);return!f}})})},"widgets/ReviewerDashboard/_build-generate_module":function(){define(["dojo/text!./Widget.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},"url:widgets/ReviewerDashboard/Widget.html":'\x3cdiv onselectstart\x3d"return false;"\x3e\r\n   \x3cdiv class\x3d"chart-content" data-dojo-attach-point\x3d"content"\x3e\r\n      \x3cdiv class\x3d"chart-tab-node" data-dojo-attach-point\x3d"selectTabNode"\x3e\r\n          \x3cdiv class\x3d\'sectionHeading\'/\x3e${nls.selectAttributeFilters}\x3c/div\x3e\r\n\r\n        \x3cdiv id\x3d"filterContainer" data-dojo-attach-point\x3d"filterContainer"\x3e  \r\n           \x3cul data-dojo-attach-point\x3d"filterList"\x3e\r\n           \x3c/ul\x3e\r\n    \r\n         \x3c/div\x3e\r\n         \r\n     \x3cdiv style\x3d\'margin:15px 10px 15px 0px;\'/\x3e\r\n        \x3cdiv class\x3d\'sectionHeading\'\x3e${nls.spatialFilterSelection}\x3c/div\x3e\r\n\r\n      \x3cdiv id\x3d"filterContainer"\x3e\r\n      \x3cul data-dojo-attach-point\x3d"spatialFilterList"\x3e\r\n        \x3cli\x3e\x3ca href\x3d"#" id\x3d"spatialFilterLink"\x3e\x3cdiv  data-dojo-attach-point\x3d"drawSpatialFilter" class\x3d\'spatialFilterLabel\'/\x3e\r\n          ${nls.drawSelectionArea}\r\n        \x3c/div\x3e\x3c/a\x3e\x3c/li\x3e\r\n        \x3cli\x3e\x3ca href\x3d"#"  id\x3d"currentMapExtentLink"\x3e\x3cdiv  data-dojo-attach-point\x3d"currentMapExtent" class\x3d\'spatialFilterLabel\'/\x3e\r\n            ${nls.currentSelection}\r\n        \x3c/div\x3e\x3c/a\x3e\x3c/li\x3e\r\n          \x3cli class\x3d\'dynamicRow\'\x3e\x3ca href\x3d"#"  id\x3d"censusBlockLink"\x3e\x3cdiv  data-dojo-attach-point\x3d"censusBlockGroup" class\x3d\'spatialFilterLabel\'/\x3e\r\n          ${nls.censusBlockGroup}\r\n        \x3c/div\x3e\x3c/a\x3e\x3c/li\x3e\r\n        \x3cli\x3e\x3ca href\x3d"#"  id\x3d"clearSpatialFilterLink" class\x3d"current"\x3e\x3cdiv  data-dojo-attach-point\x3d"clearSpatialFilter" class\x3d\'spatialFilterLabel\'/\x3e\r\n         ${nls.noSpatialFilter}\r\n        \x3c/div\x3e\x3c/a\x3e\x3c/li\x3e\r\n      \x3c/ul\x3e\r\n    \x3c/div\x3e\r\n \x3c/div\x3e\r\n    \x3cdiv style\x3d\'margin:15px 10px 15px 0px;\'/\x3e\r\n      \x3cdiv class\x3d\'sectionHeading\'\x3e${nls.reviewerSessionFilter}\x3c/div\x3e\r\n      \x3cselect data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"sessionNameSelect" style\x3d"width:90%;height:25px;margin: 10px 5px 0px 7px;"\x3e\r\n\x3coption value\x3d"All"\x3e ${nls.allSessions}\x3c/option\x3e\r\n      \x3c/select\x3e\r\n    \x3c/div\x3e\r\n     \r\n      \x3cdiv class\x3d"chart-tab-node" data-dojo-attach-point\x3d"resultsTabNode"\x3e\r\n         \x3cdiv class\x3d"results-section" data-dojo-attach-point\x3d"resultsSection" style\x3d"display:none;"\x3e\r\n            \x3cdiv class\x3d"results-header"\x3e\r\n               \x3cdiv class\x3d"sectionHeading trimContent" style\x3d"border:none !important;width:80%;" data-dojo-attach-point\x3d"chartTitle"\x3e\x3c/div\x3e\r\n               \x3cdiv style\x3d"margin-top: -26px;width: 77px;float: right; display:none;" data-dojo-attach-point\x3d"backButtonContainer" \x3e\r\n                \x3c/div\x3e\r\n               \x3cdiv class\x3d"paging-section" style\x3d"margin-top:-30px"\x3e\r\n                  \x3cul data-dojo-attach-point\x3d"pagingUl"\x3e\x3c/ul\x3e\r\n               \x3c/div\x3e\r\n            \x3cdiv class\x3d"paging-section jimu-trailing-margin4 otherBackButton" style\x3d"margin-top:-26px"\x3e\r\n            \x3cinput type\x3d"Button" value\x3d"${nls.backButton}" text\x3d"${nls.backButton}" style\x3d"width:37px;" data-dojo-attach-point\x3d"backButton"/\x3e\x3c/div\x3e\r\n            \x3c/div\x3e \r\n            \x3cdiv class\x3d"chart-section"\x3e\r\n               \r\n              \r\n                \x3cdiv id\x3d\'mainChartContainer\' class\x3d"mainChartContainer"\x3e\r\n                  \x3ctable\x3e\r\n                    \x3ctr\x3e\r\n                    \r\n                    \x3c/tr\x3e\r\n                    \x3ctr style\x3d"border 1px solid;"\x3e\r\n                      \x3ctd style\x3d"width:320px !important; height:235px;"\x3e\x3cdiv class\x3d"chart-section-item chart-container" data-dojo-attach-point\x3d"chartContainer"\x3e\x3c/td\x3e\r\n                    \x3c/tr\x3e\r\n                  \x3c/table\x3e\r\n                \x3c/div\x3e\r\n               \x3c/div\x3e\r\n               \r\n            \x3c/div\x3e\r\n      \x3c/div\x3e\r\n   \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/ReviewerDashboard/css/style.css":'.drs-widget-dashboard{position: relative; width:100%; height:100%; min-width:270px; min-height:330px;}.drs-widget-dashboard .chart-content{position: relative; width:100%; height:100%;}.drs-widget-dashboard .chart-tab-node{position: absolute !important; width: 100% !important; height: auto !important; top:0 !important; bottom: 0 !important;}.drs-widget-dashboard\x3e.jimu-tab\x3e.control{margin:-14px -14px 0 -14px;}.drs-widget-dashboard\x3e.jimu-tab\x3e.jimu-viewstack{position: absolute !important; top: 45px !important; left: 0 !important; right: 0 !important; bottom: 0 !important; height: auto !important; margin-bottom:-14px;}.drs-widget-dashboard .results-section{width:100%;}.drs-widget-dashboard .noresults-section{width:100%;}.drs-widget-dashboard .results-header{width:100%; height:30px;}.drs-widget-dashboard .chart-title{float:left; height:100%;}.drs-widget-dashboard .paging-section ul{margin:0; padding:0; height:100%; list-style:none;}.drs-widget-dashboard .paging-section ul li{float:left; height:100%;}.drs-widget-dashboard .paging-section ul li a{display: block; width:5px; height:100%; padding:0 5px; margin-left:10px; background-repeat: no-repeat; background-position: center center; background-image:url(../images/dot1.png); cursor:pointer;}.drs-widget-dashboard .paging-section ul li a:hover,.drs-widget-dashboard .paging-section ul li.selected a{background-image:url(../images/dot2.png);}.drs-widget-dashboard .chart-section{position:relative; width:100%; height:280px;}.drs-widget-dashboard .chart-section .chart-section-item{position:absolute; height:100%; top:0;}.drs-widget-dashboard .TabTheme .jimu-tab\x3e.control\x3e.tab.jimu-state-selected{border-top: 0;}.drs-widget-dashboard input[type\x3d"radio"] {margin-right: 10; margin-bottom: 20; margin-left: 20;}#filterContainer ul{margin: 0;padding: 0;list-style-type: none;}#filterContainer li {margin: 0 0 .2em 0; border-bottom: 1px solid #eef2f5; font-size: 13px;}#filterContainer a{display: block; padding: 2px 4px; margin: -1px 0 0 0px; width: 100%; height: 100%; text-decoration: none; color: #7989a0;}#filterContainer a:hover {width: 100%; height: 100%;}#filterContainer li a.current {background-color: #d3d3d3; padding: 2px 4px; margin: -1px 0 0 0px; width: 100%; height: 100%;}#filterContainer li a.current:hover {}#filterContainer li.selected a:active {background: #e2f6ff !important;}.drs-widget-dashboard .spatialFilterLabel{margin: 6px 4px;}.drs-widget-dashboard .sectionHeading{margin: 5px 0px; font-weight: bold; color: #82878B; border-bottom:1px solid #D4E5F7;}.drs-widget-dashboard .radioButtonLabel{margin:6px 5px !important;}.drs-widget-dashboard body {font: 12px Myriad,Helvetica,Tahoma,Arial,clean,sans-serif;}.drs-widget-dashboard .chart-section {margin-top: -11px;}.drs-widget-dashboard .mainChartContainer{direction: ltr;}.drs-widget-dashboard .chart-section .chart-container {margin: 0 auto; width: 78%;}.drs-widget-dashboard .paging-section {float: right; height: 100%;}[dir\x3drtl] .drs-widget-dashboard .paging-section {float: left; height: 100%;}.drs-widget-dashboard .trimContent {overflow: hidden; white-space: nowrap; -o-text-overflow: ellipsis; -ms-text-overflow: ellipsis; text-overflow: ellipsis; display: block; width: inherit;}',
"*now":function(k){k(['dojo/i18n!*preload*widgets/ReviewerDashboard/nls/Widget*["ar","bs","cs","da","de","en","el","es","et","fi","fr","he","hr","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sr","sv","th","tr","zh-cn","vi","zh-hk","zh-tw","ROOT"]'])}}});
define("dojo/_base/declare dojo/on dojo/query dojo/_base/lang dojo/_base/array dojo/_base/html dijit/_WidgetsInTemplateMixin jimu/BaseWidget esri/tasks/datareviewer/DashboardTask esri/tasks/datareviewer/ReviewerFilters ./ReviewerMapHelper esri/tasks/datareviewer/ReviewerResultsTask esri/tasks/datareviewer/DashboardResult esri/tasks/datareviewer/ReviewerLifecycle jimu/dijit/TabContainer esri/graphic esri/layers/ArcGISDynamicMapServiceLayer esri/tasks/GeometryService esri/symbols/SimpleFillSymbol esri/tasks/query esri/tasks/QueryTask esri/geometry/Extent esri/layers/FeatureLayer esri/geometry/Polygon esri/toolbars/draw dojo/dom dojox/charting/Chart dojox/charting/plot2d/Bars dojox/charting/plot2d/Pie dojox/charting/SimpleTheme dojox/charting/action2d/Tooltip dojox/charting/action2d/MoveSlice dojo/dom-class dijit/Dialog dojox/charting/axis2d/Default dijit/form/RadioButton dijit/form/Select".split(" "),function(k,
m,d,h,g,b,e,f,a,c,n,t,p,l,v,r,y,q,M,E,J,D,x,w,G,z,B,u,s,P,F,K,H,C){return k([f,e],{baseClass:"drs-widget-dashboard",name:"Dashboard",charts:null,currentChartIndex:0,dashboardTask:null,reviewerHelper:null,reviewerPointLayer:null,reviewerLineLayer:null,reviewerPolygonLayer:null,spatialFilterLayer:null,reviewerResultsTask:null,useCurrentMapExtent:!1,useSpatialFilter:!1,mapSpatialFilter:null,esriQuery:null,queryTask:null,toolbar:null,otherCategoryChartColors:null,mapClickEvent:null,tabContainer:null,
isClosed:!1,otherDashboardResult:null,dashboardResult:null,layerDrawingOptions:null,selectedFieldName:null,selectedFieldAlias:null,layerUrl:null,chartPageLevel:0,postCreate:function(){this.inherited(arguments);this.charts=[];this.otherDashboardResult=[];h.hitch(this,this._initResultsTab());this._createCharts=h.hitch(this,this._createCharts);this.dashboardTask=new a(this.config.drsSOEURL);this.reviewerResultsTask=new t(this.config.drsSOEURL);this.reviewerHelper=new n(this.config.drsSOEURL,null,null,
null,null);this.dashboardTask.getReviewerSessions().then(h.hitch(this,function(a){g.forEach(a.reviewerSessions,h.hitch(this,function(a){this.sessionNameSelect.addOption({value:a.sessionId,label:a.toString()})}));this._displayResult(null,!0)}),h.hitch(this,function(a){this._showDialog("Error",a.message)}));this.own(m(this.sessionNameSelect,"change",h.hitch(this,function(){this.chartPageLevel=0;this.showHideBackButton(!1);if(this.useCurrentMapExtent){var a=this._getMapExtent();h.hitch(this,this._displayResult(a))}else h.hitch(this,
this._displayResult(this.mapSpatialFilter,!0))})));this.own(m(this.currentMapExtent,"click",h.hitch(this,function(){h.hitch(this,this.setSpatialFilters("currentMapExtentLink","spatialFilterLink","clearSpatialFilterLink","censusBlockLink"));this.useSpatialFilter=!1;this.queryTask=null;this.useCurrentMapExtent=!0;var a=this._getMapExtent();h.hitch(this,this._displayResult(a))})));this.own(m(this.clearSpatialFilter,"click",h.hitch(this,function(){h.hitch(this,this.setSpatialFilters("clearSpatialFilterLink",
"spatialFilterLink","currentMapExtentLink","censusBlockLink"));this.useSpatialFilter=this.useCurrentMapExtent=!1;H.remove("spatialFilterLink","current");this.queryTask=null;h.hitch(this,this._displayResult())})));this.own(m(this.drawSpatialFilter,"click",h.hitch(this,function(){h.hitch(this,this.setSpatialFilters("spatialFilterLink","clearSpatialFilterLink","currentMapExtentLink","censusBlockLink"));this.map.graphics.clear();this.useCurrentMapExtent=!1;this.queryTask=null;this.useSpatialFilter=!0;
this._initDraw()})));this.own(m(this.censusBlockGroup,"click",h.hitch(this,function(){h.hitch(this,this.setSpatialFilters("censusBlockLink","clearSpatialFilterLink","currentMapExtentLink","spatialFilterLink"));this.useSpatialFilter=this.useCurrentMapExtent=!1;this.mapSpatialFilter=null;this.queryTask=new J(this.config.selectUrl);this.mapClickEvent=this.map.on("click",h.hitch(this,this._executeQuery))})));this.own(m(this.map,"extent-change",h.hitch(this,function(){if(!0===this.useCurrentMapExtent){var a=
this._getMapExtent();h.hitch(this,this._displayResult(a))}})));this.own(m(this.backButton,"click",h.hitch(this,function(){if(null!==this.dashboardResult){this.chartPageLevel-=1;0===this.chartPageLevel&&this.showHideBackButton(!1);var a;a=this._createDrilledChartData();this._createCharts(a,this.layerDrawingOptions,this.selectedFieldName)}})))},setSpatialFilters:function(a,b,c,d){null!==this.mapClickEvent&&this.mapClickEvent.remove();this._clear();this.showHideBackButton(!1);H.add(a,"current");H.remove(b,
"current");H.remove(c,"current");H.remove(d,"current")},startup:function(){this.inherited(arguments);this.tabContainer=new v({tabs:[{title:this.nls.dashboardTab,content:this.resultsTabNode},{title:this.nls.filtersTab,content:this.selectTabNode}],selected:this.nls.dashboardTab},this.content);this.tabContainer.startup();var a=this.getDashboardFieldNames();this._createRadioButtons(a);"false"===this.config.includeGeographicFilter&&(a=d(".dynamicRow",this.spatialFilterList),void 0!==a&&(null!==a&&0<a.length)&&
(a[0].style.display="none"))},onOpen:function(){null!==this.mapClickEvent&&this.mapClickEvent.remove();this.queryTask=null;this.showHideBackButton(!1);this.useSpatialFilter=this.useCurrentMapExtent=!1;H.add("clearSpatialFilterLink","current");H.remove("currentMapExtentLink","current");H.remove("spatialFilterLink","current");H.remove("censusBlockLink","current");this.sessionNameSelect.set("value","All");this._displaySpatialLayer();!0===this.isClosed&&this._displayResult(null,!0)},getDashboardFieldNames:function(){var a=
this.config.dashboardFieldNames,b=[];0<a.length&&g.forEach(a,function(a){a.isVisible&&b.push({fieldName:a.dashboardFieldName,alias:a.alias})});return b},_displaySpatialLayer:function(){this.layerUrl=this.dashboardTask.getReviewerMapServerUrl();this.spatialFilterLayer=y(this.config.selectMapUrl);this.map.addLayer(this.spatialFilterLayer);var a=[],b=this.config.selectUrl;a.push(b.substring(b.lastIndexOf("/")+1,b.length));this.spatialFilterLayer.setVisibleLayers(a)},_createRadioButtons:function(a){for(var c=
g.filter(this.config.dashboardFieldNames,function(a){return!0===a.isDefault}),d=0;d<a.length;d++){var e="\x3cli\x3e\x3clabel for\x3d'"+a[d].fieldName+"Radio'\x3e\x3ca href\x3d'#' id\x3d'"+a[d].fieldName+"'\x3e\x3cinput type\x3d'radio' name\x3d'fieldNamesRadio' value\x3d'"+a[d].fieldName+"'";c[0].dashboardFieldName.toLowerCase()===a[d].fieldName.toLowerCase()&&(e+=" checked\x3d'checked'");e+="data-dojo-type\x3d'dijit/form/RadioButton' id\x3d'"+a[d].fieldName+"Radio' class\x3d'radioButtonLabel' innerText\x3d'"+
a[d].alias+"'/\x3e";e+=a[d].alias+"\x3c/label\x3e\x3c/a\x3e\x3c/li\x3e";e=b.toDom(e);b.place(e,this.filterList);m(z.byId(a[d].fieldName+"Radio"),"change",h.hitch(this,this._radioChange));m(z.byId(a[d].fieldName),"click",h.hitch(this,this._fieldNameClick))}},_fieldNameClick:function(a){a=z.byId(a.target.id+"Radio");void 0!==a&&null!==a&&(a.checked=!0,this._radioChange())},_radioChange:function(){this.chartPageLevel=0;this.showHideBackButton(!1);var a;this.useCurrentMapExtent?a=this._getMapExtent():
!1===this.useCurrentMapExtent&&(a=this.mapSpatialFilter);h.hitch(this,this._displayResult(a,!0))},_initResultsTab:function(){this.own(m(this.pagingUl,"click",h.hitch(this,function(a){a=a.target||a.srcElement;if("a"===a.tagName.toLowerCase()){var b=d("a",this.pagingUl);a=g.indexOf(b,a);0<=a&&(this.currentChartIndex=a,this._showChart(a))}})))},_initDraw:function(){this.toolbar=new G(this.map);this.toolbar.activate(G.POLYGON);this.toolbar.on("draw-end",h.hitch(this,function(a){this._clear();var b=new M,
b=new r(a.geometry,b);this.map.graphics.add(b);this.mapSpatialFilter=a.geometry;this._displayResult(this.mapSpatialFilter)}))},_executeQuery:function(a){var b=new E;b.returnGeometry=!0;a=a.mapPoint;a=new D({xmin:a.x,ymin:a.y,xmax:a.x,ymax:a.y,spatialReference:a.spatialReference});b.geometry=a;this.queryTask.execute(b,h.hitch(this,this._handleQueryResults))},_handleQueryResults:function(a){var b=[];a=a.features;var c=new q(this.config.geometryServiceURL),d=this.map.graphics.graphics;g.forEach(a,h.hitch(this,
function(a){a.setSymbol(new M);if(0===d.length)this.map.graphics.add(a);else{var b=!1;g.forEach(d,h.hitch(this,function(c){var d=a.geometry.getExtent().getCenter().x;c.geometry.getExtent().getCenter().x===d&&(b=!0,a=c)}));b?this.map.graphics.remove(a):this.map.graphics.add(a)}}));d=this.map.graphics;g.forEach(d.graphics,h.hitch(this,function(a){b.push(a.geometry)}));1<b.length?c.union(b,h.hitch(this,function(a){this.mapSpatialFilter=a;this._updateChart(a)}),h.hitch(this,function(a){this._showDialog("Error",
a.message)})):(this.mapSpatialFilter=b[0],this._updateChart(b[0]))},_getMapExtent:function(){var a=this.map.extent,b=new w(a.spatialReference),c=a.xmin,d=a.xmax,e=a.ymin,a=a.ymax;b.addRing([[c,e],[c,a],[d,a],[d,e],[c,e]]);return b},_displayResult:function(a,e){b.setStyle(this.resultsSection,"display","block");this.tabContainer.selectTab(this.nls.dashboardTab);var f="",g;d('[name\x3d"fieldNamesRadio"]').forEach(h.hitch(this,function(a){a.checked&&(f=a.value,g=a.getAttribute("innerText"))}));if(""!==
f){this.selectedFieldName=f;this.selectedFieldAlias=g;var l=this.sessionNameSelect.get("value"),k=new c;"All"!==l&&k.addAttributeFilter("SESSIONID",parseInt(l,10));(1<=k.getCount()?this.dashboardTask.getDashboardResults(f.toLowerCase()===this.nls.phaseFieldName.toLowerCase()?this.nls.statusFieldName:f,k):this.dashboardTask.getDashboardResults(f.toLowerCase()===this.nls.phaseFieldName.toLowerCase()?this.nls.statusFieldName:f)).then(h.hitch(this,function(b){f.toLowerCase()===this.nls.phaseFieldName.toLowerCase()?
this.dashboardResult=this.getLifecyclePhaseresult(b.dashboardResult):this.dashboardResult=b.dashboardResult;this.reviewerHelper.getLayerDrawingOptions(this.dashboardResult,null,null).then(h.hitch(this,function(b){var c=this.dashboardResult;0<c.fieldValues.length?(a&&e?this._updateChart(a,b.layerDrawingOptions):a&&(null===e||void 0===e)?this._updateChart(a,this.layerDrawingOptions):void 0===a&&void 0===e?this._updateChart(null,this.layerDrawingOptions):(this.layerDrawingOptions=b.layerDrawingOptions,
this._createCharts(c,b.layerDrawingOptions,f)),e&&(null===c||null===c.filters||0===c.filters.getCount()?(this._applyUniqueValueRenderer(b.layerDrawingOptions.layerDrawingOptionsArray),this.layerDrawingOptions=b.layerDrawingOptions):this.reviewerResultsTask.getLayerDefinition(c.filters).then(h.hitch(this,function(a){this._applyUniqueValueRenderer(b.layerDrawingOptions.layerDrawingOptionsArray,a.whereClause);this.layerDrawingOptions=b.layerDrawingOptions}),h.hitch(this,function(a){this._showDialog("Error",
a.message)})))):(this._clearCharts(),this.chartTitle.innerHTML=this.nls.noResults)}),h.hitch(this,function(a){this._showDialog("Error",a.message)}))}),h.hitch(this,function(a){this._showDialog("Error",a.message)}))}},_applyUniqueValueRenderer:function(a,b){for(var c=this.map.graphicsLayerIds,d=[],e=0;e<c.length;e++){var f=this.map.graphicsLayerIds[e];("reviewerPointLayer"===f||"reviewerLineLayer"===f||"reviewerPolygonLayer"===f)&&d.push(this.map.getLayer(f))}for(e=0;e<d.length;e++)this.map.removeLayer(d[e]);
this.reviewerPointLayer=new x(this.layerUrl+"/0",{id:"reviewerPointLayer",mode:x.MODE_ONDEMAND,outFields:["*"]});this.reviewerLineLayer=new x(this.layerUrl+"/1",{id:"reviewerLineLayer",mode:x.MODE_ONDEMAND,outFields:["*"]});this.reviewerPolygonLayer=new x(this.layerUrl+"/2",{id:"reviewerPolygonLayer",mode:x.MODE_ONDEMAND,outFields:["*"]});"undefined"!==a&&3===a.length&&(this.reviewerPointLayer.setRenderer(a[0].renderer),this.reviewerLineLayer.setRenderer(a[1].renderer),this.reviewerPolygonLayer.setRenderer(a[2].renderer));
b&&(this.reviewerPointLayer.setDefinitionExpression(b),this.reviewerLineLayer.setDefinitionExpression(b),this.reviewerPolygonLayer.setDefinitionExpression(b));this.map.addLayer(this.reviewerPointLayer);this.map.addLayer(this.reviewerLineLayer);this.map.addLayer(this.reviewerPolygonLayer)},_updateChart:function(a,d){b.setStyle(this.resultsSection,"display","block");this.tabContainer.selectTab(this.nls.dashboardTab);var e=new c,f=this.sessionNameSelect.get("value");"All"!==f&&e.addAttributeFilter("SESSIONID",
parseInt(f,10));a&&e.addSpatialFilter(a);(1<=e.getCount()?this.dashboardTask.getDashboardResults(this.selectedFieldName.toLowerCase()===this.nls.phaseFieldName.toLowerCase()?this.nls.statusFieldName:this.selectedFieldName,e):this.dashboardTask.getDashboardResults(this.selectedFieldName.toLowerCase()===this.nls.phaseFieldName.toLowerCase()?this.nls.statusFieldName:this.selectedFieldName)).then(h.hitch(this,function(a){this.selectedFieldName.toLowerCase()===this.nls.phaseFieldName.toLowerCase()?this.dashboardResult=
this.getLifecyclePhaseresult(a.dashboardResult):this.dashboardResult=a.dashboardResult;0<this.dashboardResult.fieldValues.length?d?(this.layerDrawingOptions=d,this._createCharts(this.dashboardResult,d,this.selectedFieldName)):this._createCharts(this.dashboardResult,this.layerDrawingOptions,this.selectedFieldName):(this._clearCharts(),this.chartTitle.innerHTML=this.nls.noResults)}),h.hitch(this,function(a){this._showDialog("Error",a.message)}))},_createCharts:function(a,c,d){this._clearCharts(d);var e=
[],f,k,m;m=this._createOtherCategory(a);g.forEach(m.fieldValues,h.hitch(this,function(a){f=m.fieldName.toLowerCase()===this.nls.statusFieldName.toLowerCase()&&a!==this.nls.OtherCategory?l.toLifecycleStatusString(a):m.fieldName.toLowerCase()===this.nls.phaseFieldName.toLowerCase()?l.toLifecyclePhaseString(parseInt(a,10)):a;c.colorMap&&f!==this.nls.OtherCategory&&(k=c.colorMap[a].toHex());f===this.nls.OtherCategory&&(k="#000000");e.push({text:m.getCount(a),y:m.getCount(a),name:a.toString(),tooltip:f+
": "+m.getCount(a),color:k})}));var n={chartField:a.fieldName,description:"",title:d,type:"pieChart"},p=b.create("div",{"class":"chart-div",id:"pieChart",style:{width:"280px",height:"210px;"}},this.chartContainer),q=this._createPieChart(p,n,e);q.media=n;this.charts.push(q);b.setStyle(p,"display","none");n=b.create("div",{"class":"chart-div",style:{width:"320px",height:"210px;"}},this.chartContainer);a={chartField:a.fieldName,description:"",title:d,type:"barsChart"};d=this._creatBarsChart(n,e);d.media=
a;this.charts.push(d);b.setStyle(n,"display","none");a=this.charts.length;for(d=0;d<a;d++)n=b.toDom("\x3cli\x3e\x3ca title\x3d'"+this.charts[d].media.type+"'\x3e\x3c/a\x3e\x3c/li\x3e"),b.place(n,this.pagingUl);this._showChart(this.currentChartIndex)},_showChart:function(a){this.chartTitle.innerHTML="";var c=d(".chart-div",this.chartContainer);c.style({display:"none"});var e=d("li",this.pagingUl);e.removeClass("selected");if(!(0>a)){if(c=c[a])this.currentChartIndex=a,b.setStyle(c,{display:"block"});
this.chartTitle.innerHTML=this.nls.resultsBy+this.selectedFieldAlias;this.chartTitle.title=this.nls.resultsBy+this.selectedFieldAlias;(a=e[a])&&b.addClass(a,"selected")}},_creatBarsChart:function(a,b){var c=new B(a),d=[];g.forEach(b,function(a){d.push(a.name)});c.addPlot("default",{type:u,enableCache:!0,markers:!0,minBarSize:1,maxBarSize:15,label:!1});c.addAxis("x",{fixLower:"minor",fixUpper:"minor",natural:!0,includeZero:!0});c.addAxis("y",{vertical:!0,includeZero:!0,fixLower:"minor",fixUpper:"micro",
natural:!0,labels:g.map(d,function(a,b){return{value:b+1,text:a}}),maxLabelSize:40});var e=new P;e.plotarea.fill="transparent";e.chart.fill="transparent";c.setTheme(e);c.addSeries("default",b,{stroke:{color:"#FFFFFF"},fill:"#1f77b4"});new F(c,"default");c.connectToPlot("default",h.hitch(this,function(a){"onclick"===a.type&&a.run.chart.series[0].data[a.index].name===this.nls.OtherCategory&&(this.chartPageLevel+=1,this._createCharts(this.otherDashboardResult,this.layerDrawingOptions,this.selectedFieldName),
this.showHideBackButton(!0))}));c.render();return c},_createPieChart:function(a,b,c){a=new B(a);a.addPlot("default",{type:s,stroke:{color:"white"},radius:80,min:10,labelStyle:"default",htmlLabels:!0,majorLabels:!0,labelOffset:-15});var d=new P;d.plotarea.fill="transparent";d.chart.fill="transparent";a.setTheme(d);a.addSeries(b.title,c);new F(a,"default");new K(a,"default");a.render();a.connectToPlot("default",h.hitch(this,function(a){"onclick"===a.type&&a.run.chart.series[0].data[a.index].name===
this.nls.OtherCategory&&(this.chartPageLevel+=1,this._createCharts(this.otherDashboardResult,this.layerDrawingOptions,this.selectedFieldName),this.showHideBackButton(!0))}));return a},getLifecyclePhaseresult:function(a){var b=new p;b.fieldName=this.nls.phaseFieldName;var d=-1,e=-1,f=-1;g.forEach(a.fieldValues,h.hitch(this,function(c,g){var h=l.getCurrentLifecyclePhase(parseInt(c,10));h===this.nls.reviewed?(-1===d&&(d=b.fieldValues.push(2)-1),b.counts.length>d?b.counts[d]+=a.counts[g]:d=b.counts.push(a.counts[g])-
1):h===this.nls.corrected?(-1===e&&(e=b.fieldValues.push(4)-1),b.counts.length>e?b.counts[e]+=a.counts[g]:e=b.counts.push(a.counts[g])-1):h===this.nls.verified&&(-1===f&&(f=b.fieldValues.push(6)-1),b.counts.length>f?b.counts[f]+=a.counts[g]:f=b.counts.push(a.counts[g])-1)}));var k=this.sessionNameSelect.get("value"),m=new c;"All"!==k&&m.addAttributeFilter("SESSIONID",parseInt(k,10));b.filters=m;return b},_createOtherCategory:function(a){var b={},c=0,d=[],e=[],f=new p;this.otherDashboardResult=new p;
this.otherDashboardResult.fieldName=a.fieldName;if(a.fieldValues.length>this.config.numberChartSections){g.forEach(a.fieldValues,h.hitch(this,function(c,d){b[a.fieldValues[d]]=a.getCount(c)}));var l=[],k;for(k in b)l.push([k,b[k]]);l.sort(function(a,b){return b[1]-a[1]});for(k=0;k<l.length;k++)k<this.config.numberChartSections?(f.fieldValues.push(l[k][0]),f.counts.push(l[k][1])):(c+=l[k][1],d.push(l[k][0]),e.push(l[k][1]),this.otherDashboardResult.fieldValues.push(l[k][0]),this.otherDashboardResult.counts.push(l[k][1]));
f.fieldValues.push(this.nls.OtherCategory);f.counts.push(c);f.fieldName=a.fieldName;return f}return a},_createDrilledChartData:function(){var a=new p,b={},c;g.forEach(this.dashboardResult.fieldValues,h.hitch(this,function(a,c){b[this.dashboardResult.fieldValues[c]]=this.dashboardResult.getCount(a)}));var d=[],e;for(e in b)d.push([e,b[e]]);d.sort(function(a,b){return b[1]-a[1]});0===this.chartPageLevel?a=this.dashboardResult:c=this.chartPageLevel*this.config.numberChartSections;for(c=parseInt(c,10);c<
d.length;c++)a.fieldValues.push(d[c][0]),a.counts.push(d[c][1]);return a},showHideBackButton:function(a){var b=d(".otherBackButton",this.resultsTabNode);a?b.style({display:"block"}):b.style({display:"none"})},_showDialog:function(a,b){var c=new C({title:a,style:"width: 200px"});c.set("content",b);c.show()},_clearCharts:function(){this.chartTitle.innerHTML="";d(".chart-div",this.chartContainer).style({display:"none"});d("li",this.pagingUl).removeClass("selected");for(var a=0;a<this.charts.length;a++){var c=
this.charts[a];c&&c.destroy()}this.charts=[];b.empty(this.pagingUl);b.empty(this.chartContainer);b.setStyle(this.resultsSection,"display","block")},_clear:function(){null!==this.toolbar&&this.toolbar.deactivate();this.mapSpatialFilter=null;this.map.graphics.clear()},onClose:function(){for(var a=this.map.graphicsLayerIds,b=[],c=0;c<a.length;c++){var d=this.map.graphicsLayerIds[c];("reviewerPointLayer"===d||"reviewerLineLayer"===d||"reviewerPolygonLayer"===d)&&b.push(this.map.getLayer(d))}for(c=0;c<
b.length;c++)this.map.removeLayer(b[c]);this._clear();this._clearCharts();this.map.removeLayer(this.spatialFilterLayer);this.isClosed=!0}})});