// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"widgets/Geoprocessing/editorManager":function(){define("dojo/_base/array dojo/on dojo/aspect dijit/form/Select dijit/form/TextBox jimu/dijit/CheckBox jimu/dijit/URLInput jimu/utils ./editors/simpleEditors ./editors/FeatureSetEditorChooser ./editors/FeatureSetResultEditor ./editors/SelectFeatureSetFromUrl ./editors/SelectFeatureSetFromLayer ./editors/SelectFeatureSetFromFile ./editors/SelectFeatureSetFromDraw ./editors/DataFileEditor ./editors/RasterLayerEditor ./editors/RecordSetEditor".split(" "),
function(h,e,l,f,d,a,b,q,g,n,r,k,p,t,x,w,c,y){function z(m,c,a){if(m.editorName&&0>m.dataType.indexOf("GPMultiValue"))return m.editorName;if("input"===c)return"GPMultiValue:GPFeatureRecordSetLayer"===m.dataType?"UnsupportEditor":-1<m.dataType.indexOf("GPMultiValue")&&m.choiceList&&0<m.choiceList.length?"MultiValueChooser":-1<m.dataType.indexOf("GPMultiValue")&&(!m.choiceList||0===m.choiceList.length)?"MultiValueEditor":"GPLong"===m.dataType?"LongNumberTextBox":"GPDouble"===m.dataType?"DoubleNumberTextBox":
"GPString"===m.dataType?m.choiceList&&0<m.choiceList.length?"Select":"TextBox":"GPBoolean"===m.dataType?"CheckBox":"GPLinearUnit"===m.dataType?"LinerUnitEditor":"GPDate"===m.dataType?"DateTimeEditor":"GPDataFile"===m.dataType?"DataFileEditor":"GPRasterDataLayer"===m.dataType?"RasterLayerEditor":"GPRecordSet"===m.dataType?"SimpleJsonEditor":"GPFeatureRecordSetLayer"===m.dataType?"setting"===a?"FeatureSetEditorChooser":"draw"===m.featureSetMode?"SelectFeatureSetFromDraw":"layers"===m.featureSetMode?
"SelectFeatureSetFromLayer":"url"===m.featureSetMode?"SelectFeatureSetFromUrl":"file"===m.featureSetMode?"SelectFeatureSetFromFile":"UnsupportEditor":"UnsupportEditor";m="GPFeatureRecordSetLayer"===m.dataType?"FeatureSetResultEditor":"GPRecordSet"===m.dataType?"RecordSetEditor":"ShowMessage";return m}var m={},C,D=[],B;m.createEditor=function(u,v,s,E){var A;v=z(u,v,s);s={param:u,widgetUID:E?E.uid:void 0,config:E?E.config:void 0,appConfig:E?E.appConfig:void 0,map:C,nls:B,context:s,editorManager:m,style:{width:"100%"}};
"UnsupportEditor"===v?(s.message="type "+u.dataType+" is not supported for now.",A=new g.UnsupportEditor(s)):"ShowMessage"===v?(s.message="GPRecordSet"===u.dataType?"table":"GPDataFile"===u.dataType||"GPRasterDataLayer"===u.dataType?"link":"text",A=new g.UnsupportEditor(s)):"RecordSetEditor"===v?A=new y(s):"MultiValueChooser"===v?A=new g.MultiValueChooser(s):"MultiValueEditor"===v?A=new g.MultiValueEditor(s):"LongNumberTextBox"===v?A=new g.LongNumberEditor(s):"DoubleNumberTextBox"===v?A=new g.DoubleNumberEditor(s):
"Select"===v?(s.gEditor=new f({options:h.map(u.choiceList,function(m){return{label:m,value:m}}),value:void 0===u.defaultValue?"":u.defaultValue}),s.editorName="Select",A=new g.GeneralEditorWrapperEditor(s)):"TextBox"===v?(s.gEditor=new d({value:void 0===u.defaultValue?"":u.defaultValue}),A=new g.GeneralEditorWrapperEditor(s)):"CheckBox"===v?(s.gEditor=new a({checked:void 0===u.defaultValue?!1:u.defaultValue}),A=new g.GeneralEditorWrapperEditor(s)):"LinerUnitEditor"===v?A=new g.LinerUnitEditor(s):
"DateTimeEditor"===v?A=new g.DateTimeEditor(s):"URLInput"===v?(s.gEditor=new b({value:void 0===u.defaultValue?"":u.defaultValue}),A=new g.GeneralEditorWrapperEditor(s)):"ObjectUrlEditor"===v?(u.defaultValue&&"string"===typeof u.defaultValue&&(s.value=u.defaultValue),A=new g.ObjectUrlEditor(s)):"SimpleJsonEditor"===v?(u.defaultValue&&(s.value=u.defaultValue),A=new g.SimpleJsonEditor(s)):"DataFileEditor"===v?(u.defaultValue&&(s.value=u.defaultValue),A=new w(s)):"RasterLayerEditor"===v?(u.defaultValue&&
(s.value=u.defaultValue),A=new c(s)):"SelectFeatureSetFromDraw"===v?void 0===u.defaultValue?(s.message="No defaultValue property.",A=new g.UnsupportEditor(s)):(u.defaultValue&&u.defaultValue.geometryType&&(E=q.getTypeByGeometryType(u.defaultValue.geometryType),s.types=[E]),s.showClear=!0,A=new x(s)):"SelectFeatureSetFromLayer"===v?(u.defaultValue&&(s.value=u.defaultValue),A=new p(s)):"SelectFeatureSetFromUrl"===v?(s.querySetting=u.defaultValue,A=new k(s)):"SelectFeatureSetFromFile"===v?A=new t(s):
"FeatureSetEditorChooser"===v?A=new n(s):"FeatureSetResultEditor"===v?A=new r(s):"GetUrlObjectFromLayer"===v?(u.defaultValue&&(s.value=u.defaultValue),A=new g.GetUrlObjectFromLayer(s)):(s.message="wrong editorName."+v,A=new g.UnsupportEditor(s));u.editorDependParamName&&(A.dependParam=u.editorDependParamName);l.before(A,"destroy",function(){D.splice(D.indexOf(A),1)});A.dependParam&&h.forEach(D,function(m){m.param.name===A.dependParam&&A.update(m.getValue())});"SelectFeatureSetFromLayer"===v&&e(A,
"change",function(){h.forEach(D,function(m){m.dependParam===u.name&&m.update(A.getValue())})});D.push(A);return A};m.setMap=function(m){C=m};m.setNls=function(m){B=m};return m})},"widgets/Geoprocessing/editors/simpleEditors":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/html dojo/on dojo/Deferred dojo/promise/all dojo/json dijit/form/NumberTextBox dijit/form/Select dijit/form/Textarea dijit/form/DateTextBox dijit/form/TimeTextBox jimu/dijit/CheckBox jimu/dijit/URLInput jimu/utils esri/tasks/LinearUnit ../BaseEditor".split(" "),
function(h,e,l,f,d,a,b,q,g,n,r,k,p,t,x,w,c,y){var z={};z.UnsupportEditor=h(y,{baseClass:"jimu-gp-editor-base jimu-gp-editor-unsupport",editorName:"UnsupportEditor",postCreate:function(){this.inherited(arguments);f.setAttr(this.domNode,"innerHTML",w.sanitizeHTML(this.message))},getValue:function(){return null}});z.ShowMessage=h(y,{baseClass:"jimu-gp-editor-base jimu-gp-editor-message",editorName:"ShowMessage",postCreate:function(){this.inherited(arguments);f.setAttr(this.domNode,"innerHTML",w.sanitizeHTML(this.message))},
getValue:function(){return null}});z.GeneralEditorWrapperEditor=h(y,{baseClass:"jimu-gp-editor-base jimu-gp-editor-wrapper",editorName:"GeneralEditorWrapperEditor",postCreate:function(){this.inherited(arguments);f.setStyle(this.gEditor.domNode,"width","100%");"Select"===this.editorName&&f.addClass(this.gEditor.domNode,"restrict-select-width");this.gEditor.placeAt(this.domNode)},getValue:function(){return this.gEditor.getValue()}});z.LongNumberEditor=h(y,{baseClass:"jimu-gp-editor-base jimu-gp-editor-long",
editorName:"LongNumberEditor",postCreate:function(){this.inherited(arguments);this.value=this.param.defaultValue?this.param.defaultValue:NaN;this.editor=new g({value:this.value,constraints:{places:0}});this.editor.placeAt(this.domNode)},getValue:function(){var m=this.editor.getValue();return isNaN(m)?null:m}});z.DoubleNumberEditor=h(y,{baseClass:"jimu-gp-editor-base jimu-gp-editor-double",editorName:"DoubleNumberEditor",postCreate:function(){this.inherited(arguments);this.value=this.param.defaultValue?
this.param.defaultValue:NaN;this.editor=new g({value:this.value});this.editor.placeAt(this.domNode)},getValue:function(){var m=this.editor.getValue();return isNaN(m)?null:m}});z.MultiValueChooser=h(y,{baseClass:"jimu-gp-editor-base jimu-gp-editor-multivalue-chooser",editorName:"MultiValueChooser",postCreate:function(){this.inherited(arguments);this.checkBoxs=[];l.forEach(this.param.choiceList,function(m){m=new t({label:m,checked:this.param.defaultValue&&-1<this.param.defaultValue.indexOf(m)?!0:!1});
m.placeAt(this.domNode);this.checkBoxs.push(m)},this)},getValue:function(){var m=[];l.forEach(this.checkBoxs,function(c){c.checked&&m.push(c.label)},this);return m}});z.MultiValueEditor=h(y,{baseClass:"jimu-gp-editor-base jimu-gp-editor-multivalue",editorName:"MultiValueEditor",postCreate:function(){this.inherited(arguments);this.editors=[];var m=f.create("div",{"class":"input-list"},this.domNode),c=e.clone(this.param,m);c.dataType=this.param.dataType.substr(13,this.param.dataType.length);c.originParam=
this.param;setTimeout(e.hitch(this,this._initChildEditors,c,m),100);this._createAddInputNode(c,m)},_initChildEditors:function(m,c){this.param.defaultValue&&0<this.param.defaultValue.length?l.forEach(this.param.defaultValue,function(a){m.defaultValue=a;this._createSingleInputContainerNode(m,c)},this):(delete m.defaultValue,this._createSingleInputContainerNode(m,c))},getValue:function(){var m=[];l.forEach(this.editors,function(c){m.push(c.getValue())},this);return m},getGPValue:function(){var m=new a,
c=[];l.forEach(this.editors,function(m){c.push(m.getGPValue())},this);b(c).then(function(c){m.resolve(c)},function(c){m.reject(c)});return m},destroy:function(){l.forEach(this.editors,function(m){m.destroy()});this.editors=[];this.inherited(arguments)},_createSingleInputContainerNode:function(m,c){var a=f.create("div",{"class":"single-input"},c),b=this.editorManager.createEditor(m,"input",this.context,{widgetUID:this.widgetUID,config:this.config}),g=f.getContentBox(this.domNode).w-30-3;f.setStyle(b.domNode,
{display:"inline-block",width:g+"px"});b.placeAt(a);this._createRemoveInputNode(a);a.inputEditor=b;this.editors.push(b);return a},_createRemoveInputNode:function(m){var c=f.create("div",{"class":"remove",innerHTML:"-"},m);this.own(d(c,"click",e.hitch(this,function(){this.editors.splice(this.editors.indexOf(m.inputEditor),1);m.inputEditor.destroy();f.destroy(m)})));return c},_createAddInputNode:function(m,c){var a=f.create("div",{"class":"add-input"},this.domNode),b=f.create("div",{"class":"add-btn",
innerHTML:"+"},a);this.own(d(b,"click",e.hitch(this,function(){this._createSingleInputContainerNode(m,c)})));return a}});z.LinerUnitEditor=h(y,{baseClass:"jimu-gp-editor-base jimu-gp-editor-liner-unit",editorName:"LinerUnitEditor",postCreate:function(){this.inherited(arguments);this.distance=this.param.defaultValue?this.param.defaultValue.distance:0;this.units=this.param.defaultValue?this.param.defaultValue.units:"esriMeters";this.inputDijit=new g({value:this.distance});this.selectDijit=new n({value:this.units,
options:[{label:this.nls.meters,value:"esriMeters"},{label:this.nls.kilometers,value:"esriKilometers"},{label:this.nls.feet,value:"esriFeet"},{label:this.nls.miles,value:"esriMiles"},{label:this.nls.nauticalMiles,value:"esriNauticalMiles"},{label:this.nls.yards,value:"esriYards"}]});f.addClass(this.selectDijit.domNode,"restrict-select-width");this.inputDijit.placeAt(this.domNode);this.selectDijit.placeAt(this.domNode)},getValue:function(){var m=new c;m.distance=this.inputDijit.getValue();m.units=
this.selectDijit.getValue();return m}});z.DateTimeEditor=h(y,{baseClass:"jimu-gp-editor-base jimu-gp-editor-datatime",editorName:"DateTimeEditor",postCreate:function(){var m=new Date(this.param.defaultValue);this.value=this.param.defaultValue?new Date(m.getFullYear(),m.getMonth(),m.getDate(),m.getHours(),m.getMinutes(),m.getSeconds()):null;this.inherited(arguments);this.dateDijit=new k({value:this.value,style:{width:"60%"}});this.timeDijit=new p({value:this.value,style:{width:"40%"},constraints:{timePattern:"HH:mm:ss",
clickableIncrement:"T00:15:00",visibleIncrement:"T00:15:00"}});this.dateDijit.placeAt(this.domNode);this.timeDijit.placeAt(this.domNode)},startup:function(){this.dateDijit.startup();this.timeDijit.startup()},getValue:function(){var m=new Date,c=this.dateDijit.getValue(),a=this.timeDijit.getValue();return null!==c&&null!==a?(m.setFullYear(c.getFullYear()),m.setMonth(c.getMonth()),m.setDate(c.getDate()),m.setHours(a.getHours()),m.setMinutes(a.getMinutes()),m.setSeconds(a.getSeconds()),m.getTime()):
null}});z.GetUrlObjectFromLayer=h([y,n],{editorName:"GetUrlObjectFromLayer",postCreate:function(){this.options=[];l.forEach(this.map.graphicsLayerIds,function(m){m=this.map.getLayer(m);if("esri.layers.FeatureLayer"===m.declaredClass&&(!this.geometryType||m.geometryType===this.geometryType))this.options.push({label:m.label||m.title||m.name||m.id,value:m.id})},this);this.inherited(arguments);this.setValue(this.value);f.addClass(this.domNode,"jimu-gp-editor-sffl");f.addClass(this.domNode,"jimu-gp-editor-base")},
getValue:function(){return this.value},getGPValue:function(){var m,c;l.forEach(this.map.graphicsLayerIds,function(c){var a=this.map.getLayer(c);c===this.getValue()&&(m=a.url)},this);c={url:m};c=this.wrapGPValue(c);return this.wrapValueToDeferred(c)}});z.ObjectUrlEditor=h([y,x],{editorName:"ObjectUrlEditor",postCreate:function(){this.rest=!1;this.inherited(arguments);f.addClass(this.domNode,"jimu-gp-editor-ourl");f.addClass(this.domNode,"jimu-gp-editor-base")},getValue:function(){return this.value},
getGPValue:function(){var m;m=this.getValue()?{url:this.getValue()}:null;m=this.wrapGPValue(m);return this.wrapValueToDeferred(m)}});z.SimpleJsonEditor=h([y,r],{editorName:"SimpleJsonEditor",postMixInProperties:function(){this.inherited(arguments);"object"===typeof this.value&&(this.value=q.stringify(this.value))},postCreate:function(){this.inherited(arguments);f.addClass(this.domNode,"jimu-gp-editor-json");f.addClass(this.domNode,"jimu-gp-editor-base")},getValue:function(){return this.value},getGPValue:function(){var m;
m=this.getValue()?q.parse(this.getValue()):null;m=this.wrapGPValue(m);return this.wrapValueToDeferred(m)}});return z})},"dijit/form/Textarea":function(){define(["dojo/_base/declare","dojo/dom-style","./_ExpandingTextAreaMixin","./SimpleTextarea"],function(h,e,l,f){return h("dijit.form.Textarea",[f,l],{baseClass:"dijitTextBox dijitTextArea dijitExpandingTextArea",cols:"",buildRendering:function(){this.inherited(arguments);e.set(this.textbox,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",
MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"})}})})},"dijit/form/_ExpandingTextAreaMixin":function(){define("dojo/_base/declare dojo/dom-construct dojo/has dojo/_base/lang dojo/on dojo/_base/window ../Viewport".split(" "),function(h,e,l,f,d,a,b){l.add("textarea-needs-help-shrinking",function(){var b=a.body(),g=e.create("textarea",{rows:"5",cols:"20",value:" ",style:{zoom:1,fontSize:"12px",height:"96px",overflow:"hidden",visibility:"hidden",position:"absolute",border:"5px solid white",
margin:"0",padding:"0",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"}},b,"last"),d=g.scrollHeight>=g.clientHeight;b.removeChild(g);return d});return h("dijit.form._ExpandingTextAreaMixin",null,{_setValueAttr:function(){this.inherited(arguments);this.resize()},postCreate:function(){this.inherited(arguments);var a=this.textbox;a.style.overflowY="hidden";this.own(d(a,"focus, resize",f.hitch(this,"_resizeLater")))},startup:function(){this.inherited(arguments);
this.own(b.on("resize",f.hitch(this,"_resizeLater")));this._resizeLater()},_onInput:function(a){this.inherited(arguments);this.resize()},_estimateHeight:function(){var a=this.textbox;a.rows=(a.value.match(/\n/g)||[]).length+1},_resizeLater:function(){this.defer("resize")},resize:function(){function a(){var d=!1;""===b.value&&(b.value=" ",d=!0);var c=b.scrollHeight;d&&(b.value="");return c}var b=this.textbox;"hidden"==b.style.overflowY&&(b.scrollTop=0);if(!this.busyResizing){this.busyResizing=!0;if(a()||
b.offsetHeight){var d=a()+Math.max(b.offsetHeight-b.clientHeight,0),e=d+"px";e!=b.style.height&&(b.style.height=e,b.rows=1);if(l("textarea-needs-help-shrinking")){var k=a(),p=b.style.minHeight,f=4,x=b.scrollTop;b.style.minHeight=e;for(b.style.height="auto";0<d;){b.style.minHeight=Math.max(d-f,4)+"px";e=a();k-=e;d-=k;if(k<f)break;k=e;f<<=1}b.style.height=d+"px";b.style.minHeight=p;b.scrollTop=x}b.style.overflowY=a()>b.clientHeight?"auto":"hidden";"hidden"==b.style.overflowY&&(b.scrollTop=0)}else this._estimateHeight();
this.busyResizing=!1}}})})},"dijit/form/SimpleTextarea":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/sniff","./TextBox"],function(h,e,l,f){return h("dijit.form.SimpleTextarea",f,{baseClass:"dijitTextBox dijitTextArea",rows:"3",cols:"20",templateString:"\x3ctextarea ${!nameAttrSetting} data-dojo-attach-point\x3d'focusNode,containerNode,textbox' autocomplete\x3d'off'\x3e\x3c/textarea\x3e",postMixInProperties:function(){!this.value&&this.srcNodeRef&&(this.value=this.srcNodeRef.value);
this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);l("ie")&&this.cols&&e.add(this.textbox,"dijitTextAreaCols")},filter:function(d){d&&(d=d.replace(/\r/g,""));return this.inherited(arguments)},_onInput:function(d){if(this.maxLength){var a=parseInt(this.maxLength),b=this.textbox.value.replace(/\r/g,""),a=b.length-a;if(0<a){var e=this.textbox;if(e.selectionStart){var g=e.selectionStart,n=0;l("opera")&&(n=(this.textbox.value.substring(0,g).match(/\r/g)||[]).length);this.textbox.value=
b.substring(0,g-a-n)+b.substring(g-n);e.setSelectionRange(g-a,g-a)}else this.ownerDocument.selection&&(e.focus(),b=this.ownerDocument.selection.createRange(),b.moveStart("character",-a),b.text="",b.select())}}this.inherited(arguments)}})})},"dijit/form/DateTextBox":function(){define(["dojo/_base/declare","../Calendar","./_DateTimeTextBox"],function(h,e,l){return h("dijit.form.DateTextBox",l,{baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",popupClass:e,_selector:"date",maxHeight:Infinity,value:new Date("")})})},
"dijit/Calendar":function(){define("dojo/_base/array dojo/date dojo/date/locale dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/_base/kernel dojo/keys dojo/_base/lang dojo/on dojo/sniff ./CalendarLite ./_Widget ./_CssStateMixin ./_TemplatedMixin ./form/DropDownButton".split(" "),function(h,e,l,f,d,a,b,q,g,n,r,k,p,t,x,w,c){var y=f("dijit.Calendar",[p,t,x],{baseClass:"dijitCalendar",cssStateNodes:{decrementMonth:"dijitCalendarArrow",incrementMonth:"dijitCalendarArrow",previousYearLabelNode:"dijitCalendarPreviousYear",
nextYearLabelNode:"dijitCalendarNextYear"},setValue:function(c){q.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",c)},_createMonthWidget:function(){return new y._MonthDropDownButton({id:this.id+"_mddb",tabIndex:-1,onMonthSelect:n.hitch(this,"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},postCreate:function(){this.inherited(arguments);this.own(r(this.domNode,"keydown",n.hitch(this,"_onKeyDown")),
r(this.dateRowsNode,"mouseover",n.hitch(this,"_onDayMouseOver")),r(this.dateRowsNode,"mouseout",n.hitch(this,"_onDayMouseOut")),r(this.dateRowsNode,"mousedown",n.hitch(this,"_onDayMouseDown")),r(this.dateRowsNode,"mouseup",n.hitch(this,"_onDayMouseUp")))},_onMonthSelect:function(c){var m=new this.dateClassObj(this.currentFocus);m.setDate(1);m.setMonth(c);c=this.dateModule.getDaysInMonth(m);var a=this.currentFocus.getDate();m.setDate(Math.min(a,c));this._setCurrentFocusAttr(m)},_onDayMouseOver:function(c){if((c=
a.contains(c.target,"dijitCalendarDateLabel")?c.target.parentNode:c.target)&&(c.dijitDateValue&&!a.contains(c,"dijitCalendarDisabledDate")||c==this.previousYearLabelNode||c==this.nextYearLabelNode))a.add(c,"dijitCalendarHoveredDate"),this._currentNode=c},_onDayMouseOut:function(c){this._currentNode&&!(c.relatedTarget&&c.relatedTarget.parentNode==this._currentNode)&&(c="dijitCalendarHoveredDate",a.contains(this._currentNode,"dijitCalendarActiveDate")&&(c+=" dijitCalendarActiveDate"),a.remove(this._currentNode,
c),this._currentNode=null)},_onDayMouseDown:function(c){if((c=c.target.parentNode)&&c.dijitDateValue&&!a.contains(c,"dijitCalendarDisabledDate"))a.add(c,"dijitCalendarActiveDate"),this._currentNode=c},_onDayMouseUp:function(c){(c=c.target.parentNode)&&c.dijitDateValue&&a.remove(c,"dijitCalendarActiveDate")},handleKey:function(c){var m=-1,a,b=this.currentFocus;switch(c.keyCode){case g.RIGHT_ARROW:m=1;case g.LEFT_ARROW:a="day";this.isLeftToRight()||(m*=-1);break;case g.DOWN_ARROW:m=1;case g.UP_ARROW:a=
"week";break;case g.PAGE_DOWN:m=1;case g.PAGE_UP:a=c.ctrlKey||c.altKey?"year":"month";break;case g.END:b=this.dateModule.add(b,"month",1),a="day";case g.HOME:b=new this.dateClassObj(b);b.setDate(1);break;default:return!0}a&&(b=this.dateModule.add(b,a,m));this._setCurrentFocusAttr(b);return!1},_onKeyDown:function(c){this.handleKey(c)||(c.stopPropagation(),c.preventDefault())},onValueSelected:function(){},onChange:function(c){this.onValueSelected(c)},getClassForDate:function(){}});y._MonthDropDownButton=
f("dijit.Calendar._MonthDropDownButton",c,{onMonthSelect:function(){},postCreate:function(){this.inherited(arguments);this.dropDown=new y._MonthDropDown({id:this.id+"_mdd",onChange:this.onMonthSelect})},_setMonthAttr:function(c){var m=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,c);this.dropDown.set("months",m);this.containerNode.innerHTML=(6==k("ie")?"":"\x3cdiv class\x3d'dijitSpacer'\x3e"+this.dropDown.domNode.innerHTML+"\x3c/div\x3e")+"\x3cdiv class\x3d'dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'\x3e"+
m[c.getMonth()]+"\x3c/div\x3e"}});y._MonthDropDown=f("dijit.Calendar._MonthDropDown",[t,w,x],{months:[],baseClass:"dijitCalendarMonthMenu dijitMenu",templateString:"\x3cdiv data-dojo-attach-event\x3d'ondijitclick:_onClick'\x3e\x3c/div\x3e",_setMonthsAttr:function(c){this.domNode.innerHTML="";h.forEach(c,function(m,c){b.create("div",{className:"dijitCalendarMonthLabel",month:c,innerHTML:m},this.domNode)._cssState="dijitCalendarMonthLabel"},this)},_onClick:function(c){this.onChange(d.get(c.target,"month"))},
onChange:function(){}});return y})},"dijit/CalendarLite":function(){define("dojo/_base/array dojo/_base/declare dojo/cldr/supplemental dojo/date dojo/date/locale dojo/date/stamp dojo/dom dojo/dom-class dojo/_base/lang dojo/on dojo/sniff dojo/string ./_WidgetBase ./_TemplatedMixin dojo/text!./templates/Calendar.html ./a11yclick ./hccss".split(" "),function(h,e,l,f,d,a,b,q,g,n,r,k,p,t,x){var w=e("dijit.CalendarLite",[p,t],{templateString:x,dowTemplateString:'\x3cth class\x3d"dijitReset dijitCalendarDayLabelTemplate" role\x3d"columnheader" scope\x3d"col"\x3e\x3cspan class\x3d"dijitCalendarDayLabel"\x3e${d}\x3c/span\x3e\x3c/th\x3e',
dateTemplateString:'\x3ctd class\x3d"dijitReset" role\x3d"gridcell" data-dojo-attach-point\x3d"dateCells"\x3e\x3cspan class\x3d"dijitCalendarDateLabel" data-dojo-attach-point\x3d"dateLabels"\x3e\x3c/span\x3e\x3c/td\x3e',weekTemplateString:'\x3ctr class\x3d"dijitReset dijitCalendarWeekTemplate" role\x3d"row"\x3e${d}${d}${d}${d}${d}${d}${d}\x3c/tr\x3e',value:new Date(""),datePackage:"",dayWidth:"narrow",tabIndex:"0",dayOffset:-1,currentFocus:new Date,_setSummaryAttr:"gridNode",baseClass:"dijitCalendar dijitCalendarLite",
_isValidDate:function(c){return c&&!isNaN(c)&&"object"==typeof c&&c.toString()!=this.constructor.prototype.value.toString()},_getValueAttr:function(){var c=this._get("value");if(c&&!isNaN(c)){var a=new this.dateClassObj(c);a.setHours(0,0,0,0);a.getDate()<c.getDate()&&(a=this.dateModule.add(a,"hour",1));return a}return null},_setValueAttr:function(c,b){"string"==typeof c&&(c=a.fromISOString(c));c=this._patchDate(c);if(this._isValidDate(c)&&!this.isDisabledDate(c,this.lang)){if(this._set("value",c),
this.set("currentFocus",c),this._markSelectedDates([c]),this._created&&(b||"undefined"==typeof b))this.onChange(this.get("value"))}else this._set("value",null),this._markSelectedDates([])},_patchDate:function(c){c&&(c=new this.dateClassObj(c),c.setHours(1,0,0,0));return c},_setText:function(c,a){for(;c.firstChild;)c.removeChild(c.firstChild);c.appendChild(c.ownerDocument.createTextNode(a))},_populateGrid:function(){var c=new this.dateClassObj(this.currentFocus);c.setDate(1);var c=this._patchDate(c),
a=c.getDay(),b=this.dateModule.getDaysInMonth(c),m=this.dateModule.getDaysInMonth(this.dateModule.add(c,"month",-1)),d=new this.dateClassObj,k=0<=this.dayOffset?this.dayOffset:l.getFirstDayOfWeek(this.lang);k>a&&(k-=7);if(!this.summary){var g=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,c);this.gridNode.setAttribute("summary",g[c.getMonth()])}this._date2cell={};h.forEach(this.dateCells,function(g,v){var s=v+k,e=new this.dateClassObj(c),p="dijitCalendar",n=0;s<a?(s=m-a+s+1,
n=-1,p+="Previous"):s>=a+b?(s=s-a-b+1,n=1,p+="Next"):(s=s-a+1,p+="Current");n&&(e=this.dateModule.add(e,"month",n));e.setDate(s);this.dateModule.compare(e,d,"date")||(p="dijitCalendarCurrentDate "+p);this.isDisabledDate(e,this.lang)?(p="dijitCalendarDisabledDate "+p,g.setAttribute("aria-disabled","true")):(p="dijitCalendarEnabledDate "+p,g.removeAttribute("aria-disabled"),g.setAttribute("aria-selected","false"));(n=this.getClassForDate(e,this.lang))&&(p=n+" "+p);g.className=p+"Month dijitCalendarDateTemplate";
p=e.valueOf();this._date2cell[p]=g;g.dijitDateValue=p;this._setText(this.dateLabels[v],e.getDateLocalized?e.getDateLocalized(this.lang):e.getDate())},this)},_populateControls:function(){var c=new this.dateClassObj(this.currentFocus);c.setDate(1);this.monthWidget.set("month",c);var a=c.getFullYear()-1,b=new this.dateClassObj;h.forEach(["previous","current","next"],function(c){b.setFullYear(a++);this._setText(this[c+"YearLabelNode"],this.dateLocaleModule.format(b,{selector:"year",locale:this.lang}))},
this)},goToToday:function(){this.set("value",new this.dateClassObj)},constructor:function(c){this.dateModule=c.datePackage?g.getObject(c.datePackage,!1):f;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=c.datePackage?g.getObject(c.datePackage+".locale",!1):d},_createMonthWidget:function(){return w._MonthWidget({id:this.id+"_mddb",lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},buildRendering:function(){var c=this.dowTemplateString,a=this.dateLocaleModule.getNames("days",
this.dayWidth,"standAlone",this.lang),d=0<=this.dayOffset?this.dayOffset:l.getFirstDayOfWeek(this.lang);this.dayCellsHtml=k.substitute([c,c,c,c,c,c,c].join(""),{d:""},function(){return a[d++%7]});c=k.substitute(this.weekTemplateString,{d:this.dateTemplateString});this.dateRowsHtml=[c,c,c,c,c,c].join("");this.dateCells=[];this.dateLabels=[];this.inherited(arguments);b.setSelectable(this.domNode,!1);c=new this.dateClassObj(this.currentFocus);this.monthWidget=this._createMonthWidget();this.set("currentFocus",
c,!1)},postCreate:function(){this.inherited(arguments);this._connectControls()},_connectControls:function(){var c=g.hitch(this,function(c,a,m){this[c].dojoClick=!0;return n(this[c],"click",g.hitch(this,function(){this._setCurrentFocusAttr(this.dateModule.add(this.currentFocus,a,m))}))});this.own(c("incrementMonth","month",1),c("decrementMonth","month",-1),c("nextYearLabelNode","year",1),c("previousYearLabelNode","year",-1))},_setCurrentFocusAttr:function(c,a){var b=this.currentFocus,m=this._getNodeByDate(b);
c=this._patchDate(c);this._set("currentFocus",c);if(!this._date2cell||0!=this.dateModule.difference(b,c,"month"))this._populateGrid(),this._populateControls(),this._markSelectedDates([this.value]);b=this._getNodeByDate(c);b.setAttribute("tabIndex",this.tabIndex);(this.focused||a)&&b.focus();m&&m!=b&&(r("webkit")?m.setAttribute("tabIndex","-1"):m.removeAttribute("tabIndex"))},focus:function(){this._setCurrentFocusAttr(this.currentFocus,!0)},_onDayClick:function(c){c.stopPropagation();c.preventDefault();
for(c=c.target;c&&!c.dijitDateValue;c=c.parentNode);c&&!q.contains(c,"dijitCalendarDisabledDate")&&this.set("value",c.dijitDateValue)},_getNodeByDate:function(c){return(c=this._patchDate(c))&&this._date2cell?this._date2cell[c.valueOf()]:null},_markSelectedDates:function(c){function a(c,m){q.toggle(m,"dijitCalendarSelectedDate",c);m.setAttribute("aria-selected",c?"true":"false")}h.forEach(this._selectedCells||[],g.partial(a,!1));this._selectedCells=h.filter(h.map(c,this._getNodeByDate,this),function(c){return c});
h.forEach(this._selectedCells,g.partial(a,!0))},onChange:function(){},isDisabledDate:function(){},getClassForDate:function(){}});w._MonthWidget=e("dijit.CalendarLite._MonthWidget",p,{_setMonthAttr:function(c){var a=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,c),b=6==r("ie")?"":"\x3cdiv class\x3d'dijitSpacer'\x3e"+h.map(a,function(c){return"\x3cdiv\x3e"+c+"\x3c/div\x3e"}).join("")+"\x3c/div\x3e";this.domNode.innerHTML=b+"\x3cdiv class\x3d'dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'\x3e"+
a[c.getMonth()]+"\x3c/div\x3e"}});return w})},"dijit/form/_DateTimeTextBox":function(){define("dojo/date dojo/date/locale dojo/date/stamp dojo/_base/declare dojo/_base/lang ./RangeBoundTextBox ../_HasDropDown dojo/text!./templates/DropDownBox.html".split(" "),function(h,e,l,f,d,a,b,q){new Date("X");return f("dijit.form._DateTimeTextBox",[a,b],{templateString:q,hasDownArrow:!0,cssStateNodes:{_buttonNode:"dijitDownArrowButton"},_unboundedConstraints:{},pattern:e.regexp,datePackage:"",postMixInProperties:function(){this.inherited(arguments);
this._set("type","text")},compare:function(a,b){var d=this._isInvalidDate(a),k=this._isInvalidDate(b);if(d||k)return d&&k?0:!d?1:-1;var d=this.format(a,this._unboundedConstraints),k=this.format(b,this._unboundedConstraints),e=this.parse(d,this._unboundedConstraints),f=this.parse(k,this._unboundedConstraints);return d==k?0:h.compare(e,f,this._selector)},autoWidth:!0,format:function(a,b){return!a?"":this.dateLocaleModule.format(a,b)},parse:function(a,b){return this.dateLocaleModule.parse(a,b)||(this._isEmpty(a)?
null:void 0)},serialize:function(a,b){a.toGregorian&&(a=a.toGregorian());return l.toISOString(a,b)},dropDownDefaultValue:new Date,value:new Date(""),_blankValue:null,popupClass:"",_selector:"",constructor:function(a){a=a||{};this.dateModule=a.datePackage?d.getObject(a.datePackage,!1):h;this.dateClassObj=this.dateModule.Date||Date;this.dateClassObj instanceof Date||(this.value=new this.dateClassObj(this.value));this.dateLocaleModule=a.datePackage?d.getObject(a.datePackage+".locale",!1):e;this._set("pattern",
this.dateLocaleModule.regexp);this._invalidDate=this.constructor.prototype.value.toString()},buildRendering:function(){this.inherited(arguments);this.hasDownArrow||(this._buttonNode.style.display="none");this.hasDownArrow||(this._buttonNode=this.domNode,this.baseClass+=" dijitComboBoxOpenOnClick")},_setConstraintsAttr:function(a){a.selector=this._selector;a.fullYear=!0;var b=l.fromISOString;"string"==typeof a.min&&(a.min=b(a.min),this.dateClassObj instanceof Date||(a.min=new this.dateClassObj(a.min)));
"string"==typeof a.max&&(a.max=b(a.max),this.dateClassObj instanceof Date||(a.max=new this.dateClassObj(a.max)));this.inherited(arguments);this._unboundedConstraints=d.mixin({},this.constraints,{min:null,max:null})},_isInvalidDate:function(a){return!a||isNaN(a)||"object"!=typeof a||a.toString()==this._invalidDate},_setValueAttr:function(a,b,d){void 0!==a&&("string"==typeof a&&(a=l.fromISOString(a)),this._isInvalidDate(a)&&(a=null),a instanceof Date&&!(this.dateClassObj instanceof Date)&&(a=new this.dateClassObj(a)));
this.inherited(arguments,[a,b,d]);this.value instanceof Date&&(this.filterString="");!1!==b&&this.dropDown&&this.dropDown.set("value",a,!1)},_set:function(a,b){if("value"==a){b instanceof Date&&!(this.dateClassObj instanceof Date)&&(b=new this.dateClassObj(b));var d=this._get("value");if(d instanceof this.dateClassObj&&0==this.compare(b,d))return}this.inherited(arguments)},_setDropDownDefaultValueAttr:function(a){this._isInvalidDate(a)&&(a=new this.dateClassObj);this._set("dropDownDefaultValue",a)},
openDropDown:function(a){this.dropDown&&this.dropDown.destroy();var b=d.isString(this.popupClass)?d.getObject(this.popupClass,!1):this.popupClass,e=this,k=this.get("value");this.dropDown=new b({onChange:function(a){e.set("value",a,!0)},id:this.id+"_popup",dir:e.dir,lang:e.lang,value:k,textDir:e.textDir,currentFocus:!this._isInvalidDate(k)?k:this.dropDownDefaultValue,constraints:e.constraints,filterString:e.filterString,datePackage:e.datePackage,isDisabledDate:function(a){return!e.rangeCheck(a,e.constraints)}});
this.inherited(arguments)},_getDisplayedValueAttr:function(){return this.textbox.value},_setDisplayedValueAttr:function(a,b){this._setValueAttr(this.parse(a,this.constraints),b,a)}})})},"dijit/form/TimeTextBox":function(){define(["dojo/_base/declare","dojo/keys","dojo/_base/lang","../_TimePicker","./_DateTimeTextBox"],function(h,e,l,f,d){return h("dijit.form.TimeTextBox",d,{baseClass:"dijitTextBox dijitComboBox dijitTimeTextBox",popupClass:f,_selector:"time",value:new Date(""),maxHeight:-1,openDropDown:function(a){this.inherited(arguments);
this.dropDown.on("input",l.hitch(this,function(){this.set("value",this.dropDown.get("value"),!1)}))},_onInput:function(){this.inherited(arguments);var a=this.get("displayedValue");this.filterString=a&&!this.parse(a,this.constraints)?a.toLowerCase():"";this._opened&&this.closeDropDown();this.openDropDown()}})})},"dijit/_TimePicker":function(){define("dojo/_base/array dojo/date dojo/date/locale dojo/date/stamp dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/_base/kernel dojo/keys dojo/_base/lang dojo/sniff dojo/query dojo/mouse dojo/on ./_WidgetBase ./form/_ListMouseMixin".split(" "),
function(h,e,l,f,d,a,b,q,g,n,r,k,p,t,x,w){return d("dijit._TimePicker",[x,w],{baseClass:"dijitTimePicker",pickerMin:"T00:00:00",pickerMax:"T23:59:59",clickableIncrement:"T00:15:00",visibleIncrement:"T01:00:00",value:new Date,_visibleIncrement:2,_clickableIncrement:1,_totalIncrements:10,constraints:{},serialize:f.toISOString,buildRendering:function(){this.inherited(arguments);this.timeMenu=this.containerNode=this.domNode},setValue:function(c){q.deprecated("dijit._TimePicker:setValue() is deprecated.  Use set('value', ...) instead.",
"","2.0");this.set("value",c)},_setValueAttr:function(c){this._set("value",c);this._showText()},_setFilterStringAttr:function(c){this._set("filterString",c);this._showText()},isDisabledDate:function(){return!1},_getFilteredNodes:function(c,a,b,m){c=this.ownerDocument.createDocumentFragment();for(a=0;a<this._maxIncrement;a++)(b=this._createOption(a))&&c.appendChild(b);return c},_showText:function(){var c=f.fromISOString;this.domNode.innerHTML="";this._clickableIncrementDate=c(this.clickableIncrement);
this._visibleIncrementDate=c(this.visibleIncrement);var a=3600*this._clickableIncrementDate.getHours()+60*this._clickableIncrementDate.getMinutes()+this._clickableIncrementDate.getSeconds(),b=3600*this._visibleIncrementDate.getHours()+60*this._visibleIncrementDate.getMinutes()+this._visibleIncrementDate.getSeconds();(this.value||this.currentFocus).getTime();this._refDate=c(this.pickerMin);this._refDate.setFullYear(1970,0,1);this._clickableIncrement=1;this._visibleIncrement=b/a;c=c(this.pickerMax);
c.setFullYear(1970,0,1);c=0.0010*(c.getTime()-this._refDate.getTime());this._maxIncrement=Math.ceil((c+1)/a);a=this._getFilteredNodes();!a.firstChild&&this.filterString?(this.filterString="",this._showText()):this.domNode.appendChild(a)},constructor:function(){this.constraints={}},postMixInProperties:function(){this.inherited(arguments);this._setConstraintsAttr(this.constraints)},_setConstraintsAttr:function(c){for(var a in{clickableIncrement:1,visibleIncrement:1,pickerMin:1,pickerMax:1})a in c&&
(this[a]=c[a]);c.locale||(c.locale=this.lang)},_createOption:function(c){var a=new Date(this._refDate),d=this._clickableIncrementDate;a.setHours(a.getHours()+d.getHours()*c,a.getMinutes()+d.getMinutes()*c,a.getSeconds()+d.getSeconds()*c);"time"==this.constraints.selector&&a.setFullYear(1970,0,1);var m=l.format(a,this.constraints);if(this.filterString&&0!==m.toLowerCase().indexOf(this.filterString))return null;d=this.ownerDocument.createElement("div");d.className=this.baseClass+"Item";d.date=a;d.idx=
c;b.create("div",{"class":this.baseClass+"ItemInner",innerHTML:m},d);m=1>c%this._visibleIncrement&&-1<c%this._visibleIncrement;c=!m&&!(c%this._clickableIncrement);m?d.className+=" "+this.baseClass+"Marker":c&&(d.className+=" "+this.baseClass+"Tick");this.isDisabledDate(a)&&(d.className+=" "+this.baseClass+"ItemDisabled");this.value&&!e.compare(this.value,a,this.constraints.selector)&&(d.selected=!0,d.className+=" "+this.baseClass+"ItemSelected",this._selectedDiv=d,m?d.className+=" "+this.baseClass+
"MarkerSelected":c&&(d.className+=" "+this.baseClass+"TickSelected"),this._highlightOption(d,!0));return d},onOpen:function(){this.inherited(arguments);this.set("selected",this._selectedDiv)},_onOptionSelected:function(c,a){var b=c.target.date||c.target.parentNode.date;b&&!this.isDisabledDate(b)&&(this._set("value",b),this.emit("input"),a&&(this._highlighted_option=null,this.set("value",b),this.onChange(b)))},onChange:function(){},_highlightOption:function(c,b){if(c){if(b)this._highlighted_option&&
this._highlightOption(this._highlighted_option,!1),this._highlighted_option=c;else{if(this._highlighted_option!==c)return;this._highlighted_option=null}a.toggle(c,this.baseClass+"ItemHover",b);a.contains(c,this.baseClass+"Marker")?a.toggle(c,this.baseClass+"MarkerHover",b):a.toggle(c,this.baseClass+"TickHover",b)}},handleKey:function(c){if(c.keyCode==g.DOWN_ARROW)return this.selectNextNode(),this._onOptionSelected({target:this._highlighted_option},!1),c.stopPropagation(),c.preventDefault(),!1;if(c.keyCode==
g.UP_ARROW)return this.selectPreviousNode(),this._onOptionSelected({target:this._highlighted_option},!1),c.stopPropagation(),c.preventDefault(),!1;if(c.keyCode==g.ENTER||c.keyCode===g.TAB){if(!this._keyboardSelected&&c.keyCode===g.TAB)return!0;this._highlighted_option&&this._onOptionSelected({target:this._highlighted_option},!0);return c.keyCode===g.TAB}},onHover:function(c){this._highlightOption(c,!0)},onUnhover:function(c){this._highlightOption(c,!1)},onSelect:function(c){this._highlightOption(c,
!0)},onDeselect:function(c){this._highlightOption(c,!1)},onClick:function(c){this._onOptionSelected({target:c},!0)}})})},"esri/tasks/LinearUnit":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(h,e,l,f){return h(null,{declaredClass:"esri.tasks.LinearUnit",constructor:function(d){d&&e.mixin(this,d)},distance:0,units:null,toJson:function(){var d={};this.distance&&(d.distance=this.distance);this.units&&(d.units=this.units);return d}})})},"widgets/Geoprocessing/BaseEditor":function(){define(["dojo/_base/declare",
"dojo/Deferred","dijit/_WidgetBase","dijit/_TemplatedMixin"],function(h,e,l){return h([l],{baseClass:"jimu-gp-editor-base",editorName:"BaseEditor",dependParam:"",postCreate:function(){this.inherited(arguments)},getValue:function(){},getGPValue:function(){var f=new e;f.resolve(this.getValue());return f},wrapGPValue:function(e){if(!e)return e;e.toJson||(e.toJson=function(){return e});return e},wrapValueToDeferred:function(f){var d=new e;d.resolve(f);return d},update:function(e){}})})},"widgets/Geoprocessing/editors/FeatureSetEditorChooser":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/html dojo/on dojo/text!./FeatureSetEditorChooser.html dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin jimu/dijit/SymbolChooser jimu/dijit/CheckBox jimu/utils esri/symbols/jsonUtils ../BaseEditor dijit/form/RadioButton".split(" "),
function(h,e,l,f,d,a,b,q,g,n,r,k){return h([k,a,b],{baseClass:"jimu-gp-editor-base jimu-gp-editor-fsec",templateString:d,editorName:"FeatureSetEditorChooser",postCreate:function(){this.inherited(arguments);this.value={};this.featureSetUrl.set("placeholder",this.nls.urlPlaceholder);this.visibleCheckbox=new g({checked:"url"===this.param.featureSetMode&&this.param.showUrlContent,label:this.nls.showLayerContent,onChange:e.hitch(this,this._viewLayerContent)});this.visibleCheckbox.placeAt(this.visibleCheckboxDiv);
"url"===this.param.featureSetMode&&this.param.featureSetUrl&&this.featureSetUrl.setValue(this.param.featureSetUrl);this.param.featureSetMode&&(l.setAttr(this[this.param.featureSetMode+"Mode"],"checked",!0),f.emit(this[this.param.featureSetMode+"Mode"],"click",{cancelable:!0,bubble:!0}))},getValue:function(){this.featureSetUrl.value&&(this.value.featureSetUrl=this.featureSetUrl.value);this.symbolChooser&&"block"===l.getStyle(this.symbolChooserSection,"display")&&(this.value.symbol=this.symbolChooser.getSymbol().toJson());
"url"===this.value.featureSetMode&&(this.value.showUrlContent=this.visibleCheckbox.getValue());return this.value},_onDrawModeSelect:function(){this._showSymbolChooser();l.setStyle(this.urlOptionsDiv,"display","none");this.value.featureSetMode="draw"},_showSymbolChooser:function(){if(!this.param.defaultValue||!this.param.defaultValue.geometryType)l.setStyle(this.symbolChooserSection,"display","none");else{if(!this.symbolChooser){var a={};this.param.symbol?a.symbol=r.fromJson(this.param.symbol):a.type=
n.getSymbolTypeByGeometryType(this.param.defaultValue.geometryType);this.symbolChooser=new q(a,this.symbolChooserNode);this.symbolChooser.startup()}l.setStyle(this.symbolChooserSection,"display","block")}},_onLayersModeSelect:function(){l.setStyle(this.symbolChooserSection,"display","none");l.setStyle(this.urlOptionsDiv,"display","none");this.value.featureSetMode="layers"},_onFileModeSelect:function(){l.setStyle(this.symbolChooserSection,"display","none");l.setStyle(this.urlOptionsDiv,"display","none");
this.value.featureSetMode="file"},_onUrlModeSelect:function(){l.setStyle(this.urlOptionsDiv,"display","");this.visibleCheckbox.getValue()?this._showSymbolChooser():l.setStyle(this.symbolChooserSection,"display","none");this.value.featureSetMode="url"},_viewLayerContent:function(a){a?this._showSymbolChooser():l.setStyle(this.symbolChooserSection,"display","none")}})})},"dijit/form/RadioButton":function(){define(["dojo/_base/declare","./CheckBox","./_RadioButtonMixin"],function(h,e,l){return h("dijit.form.RadioButton",
[e,l],{baseClass:"dijitRadio"})})},"dijit/form/_RadioButtonMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/_base/lang dojo/query!css2 ../registry".split(" "),function(h,e,l,f,d,a){return e("dijit.form._RadioButtonMixin",null,{type:"radio",_getRelatedWidgets:function(){var b=[];d("input[type\x3dradio]",this.focusNode.form||this.ownerDocument).forEach(f.hitch(this,function(d){d.name==this.name&&d.form==this.focusNode.form&&(d=a.getEnclosingWidget(d))&&b.push(d)}));return b},
_setCheckedAttr:function(a){this.inherited(arguments);this._created&&a&&h.forEach(this._getRelatedWidgets(),f.hitch(this,function(a){a!=this&&a.checked&&a.set("checked",!1)}))},_getSubmitValue:function(a){return null==a?"on":a},_onClick:function(a){if(this.checked||this.disabled)return a.stopPropagation(),a.preventDefault(),!1;if(this.readOnly)return a.stopPropagation(),a.preventDefault(),h.forEach(this._getRelatedWidgets(),f.hitch(this,function(a){l.set(this.focusNode||this.domNode,"checked",a.checked)})),
!1;var d=!1,e;h.some(this._getRelatedWidgets(),function(a){return a.checked?(e=a,!0):!1});this.checked=!0;e&&(e.checked=!1);if(!1===this.onClick(a)||a.defaultPrevented)d=!0;this.checked=!1;e&&(e.checked=!0);d?a.preventDefault():this.set("checked",!0);return!d}})})},"widgets/Geoprocessing/editors/FeatureSetResultEditor":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/text!./FeatureSetResultEditor.html dijit/_TemplatedMixin ../BaseEditor ./FeatureSetRendererEditor jimu/dijit/PopupConfig jimu/dijit/TabContainer jimu/dijit/CheckBox".split(" "),
function(h,e,l,f,d,a,b,q,g,n,r){return h([b,a],{baseClass:"jimu-gp-editor-base jimu-gp-editor-fsrse",editorName:"FeatureSetResultEditor",templateString:d,featureSetRendererEditor:null,popupConfig:null,tab:null,args:null,constructor:function(a){this.args=e.mixin({},a)},postCreate:function(){this.inherited(arguments);this.tab=new n({tabs:[{title:this.nls.renderer,content:this.rendererTab},{title:this.nls.popup,content:this.popupConfigTab}],isNested:!0});this.tab.placeAt(this.domNode);this.tab.startup();
this.featureSetRendererEditor=new q(this.args);this.featureSetRendererEditor.placeAt(this.rendererTab);this.featureSetRendererEditor.startup();var a={};if(this.args&&this.args.param){this.args.param.defaultValue&&(a.fields=e.clone(this.args.param.defaultValue.fields));var b=this.args.param.popup;if(b){var d=l.map(b.fields,function(a){return a.name});a.fields=l.map(a.fields,function(a){var e=0<=l.indexOf(d,a.name);a.visible=e;var c;l.some(b.fields,function(b){if(b.name===a.name)return c=b.alias,!0});
c&&(a.alias=c);return a});a.title=b.title}}this.popupConfig=new g(a);this.popupConfig.placeAt(this.popupConfigTab);this.popupConfig.startup();this.own(f(this.popupConfig,"noVisibleField",e.hitch(this,function(){this.enablePopup.setValue(!1);this.enablePopup.setStatus(!1)})));this.own(f(this.popupConfig,"hasVisibleField",e.hitch(this,function(){this.enablePopup.setStatus(!0)})));this.enablePopup=new r({checked:!this.args.param.popup||this.args.param.popup&&this.args.param.popup.enablePopup},this.enablePopupNode);
this.enablePopup.startup()},destroy:function(){this.featureSetRendererEditor&&(this.featureSetRendererEditor.destroy(),this.featureSetRendererEditor=null);this.popupConfig&&(this.popupConfig.destroy(),this.popupConfig=null);this.inherited(arguments)},getValue:function(){var a={renderer:null,popup:this.popupConfig.getConfig()};a.popup.enablePopup=this.enablePopup.checked?!0:!1;var b=this.featureSetRendererEditor.getValue();b&&(a.renderer=b.renderer);return a}})})},"widgets/Geoprocessing/editors/FeatureSetRendererEditor":function(){define("dojo/_base/declare dojo/_base/array esri/renderers/jsonUtils jimu/dijit/RendererChooser ../BaseEditor ./simpleEditors".split(" "),
function(h,e,l,f,d,a){return h([d],{baseClass:"jimu-gp-editor-base jimu-gp-editor-fsre",editorName:"FeatureSetRendererEditor",postCreate:function(){this.inherited(arguments);var b={};if(this.param.renderer)b.renderer=l.fromJson(this.param.renderer);else if(b.type=this._getSymbolType(),!b.type){(new a.UnsupportEditor({message:this.nls.unSupportGeometryType})).placeAt(this.domNode);return}b.fields=e.map(this.param.defaultValue.fields,function(a){return a.name});this.renderer=new f(b);this.renderer.placeAt(this.domNode)},
getValue:function(){return this.renderer?{renderer:this.renderer.getRenderer().toJson()}:null},_getSymbolType:function(){switch(this.param.defaultValue.geometryType){case "esriGeometryPoint":case "esriGeometryMultipoint":return"marker";case "esriGeometryPolyline":return"line";case "esriGeometryPolygon":return"fill"}}})})},"jimu/dijit/RendererChooser":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/RendererChooser.html dojo/_base/lang dojo/_base/html dojo/_base/array dojo/on dojo/query dojox/gfx dojo/_base/Color jimu/symbolUtils jimu/rendererUtils esri/renderers/SimpleRenderer esri/renderers/UniqueValueRenderer esri/renderers/ClassBreaksRenderer esri/symbols/jsonUtils esri/symbols/SimpleMarkerSymbol dijit/form/Select dijit/form/ComboBox dijit/form/NumberSpinner dijit/form/NumberTextBox jimu/dijit/SymbolChooser".split(" "),
function(h,e,l,f,d,a,b,q,g,n,r,k,p,t,x,w,c,y,z){return h([e,l,f],{templateString:d,baseClass:"jimu-renderer-chooser",declaredClass:"jimu.dijit.RendererChooser",renderer:null,type:null,nls:null,fields:null,_uniqueColors:{color1:"#fce138 #fff799 #fcd27e #f1983c #a553b7 #b1a9d0 #6ecffc #4c81cd #fc6f84 #fc3e5a #69f488 #48885c".split(" "),color2:"#102432 #144d59 #ffc754 #ea9010 #a54e1d #661510 #d8341a #b31515 #4a0932 #8c213f #18382e #2c6954".split(" "),color3:"#be9626 #607100 #00734c #704489 #01acca #024e76 #f09100 #ea311f #c6004b #7570b3 #666666 #333333".split(" "),
color4:"#fffa00 #f5cb11 #9fd40c #46e29c #32b8a6 #7ff2fa #ad00f2 #c461ea #eb7200 #e8a784 #bf2e2e #6c7000".split(" "),color5:"#191921 #11495c #78b1c2 #454f4b #8f8f82 #99dbbc #87b051 #f7ec88 #ebdcc1 #dbb658 #c43541 #75351e".split(" "),color6:"#332424 #751555 #d47013 #d68989 #211173 #82aad6 #7bfaeb #6ec9a8 #6b6408 #e9da40 #ccc54a #1fc235".split(" ")},_classBreaksColors:{color1:["#eaf0fd","#03519e"],color2:["#ebf9e7","#046e2e"],color3:["#f5f5f5","#2a2a2a"],color4:["#ffeddd","#a83a00"],color5:["#f2eef6",
"#582890"],color6:["#ffe3d7","#a71713"],color7:["#ecf7fb","#006d2a"],color8:["#edf8fa","#83067e"],color9:["#eef9e8","#0167af"],color10:["#fff1d7","#b80201"],color11:["#f0eef6","#015b90"],color12:["#f5eff7","#006dfa"],color13:["#f1eef7","#9c0042"],color14:["#ffebe2","#7d0078"],color15:["#ffffc9","#016a35"],color16:["#ffffcb","#253197"],color17:["#fffed1","#9e3601"],color18:["#ffffad","#c20120"],color19:["#a9620d","#038772"],color20:["#d3168c","#46ae1b"],color21:["#7c2d96","#048936"],color22:["#eb6300",
"#603b9b"],color23:["#cc0117","#0471b2"],color24:["#ce0118","#424242"],color25:["#db1a10","#287cba"],color26:["#da1baf","#03983e"],color27:["#db1a10","#2483bb"]},_selectedUniqueValueTr:null,_selectedClassBreakTr:null,_isDrawing:!1,_jimuUrl:window.location.protocol+"//"+window.location.host+require.toUrl("jimu"),postMixInProperties:function(){this.fields||(this.fields=[]);this.nls=window.jimuNls.rendererChooser;this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._initFields();
this.own(g(this.rendererSelect,"change",a.hitch(this,this._onRendererSelectChange)));this.own(g(this.btnDefaultSym,"click",a.hitch(this,this._showDefaultSymbol)));this.own(g(this.defaultSymbolChooser,"change",a.hitch(this,this._onDefaultSymbolChange)));this.own(g(this.selectedSymbolChooser,"change",a.hitch(this,this._onSelectedSymbolChange)));this._bindUniqueSettingEvents();this._bindClassBreaksEvents();this.renderer?this.showByRenderer(this.renderer):this.type&&this.showByType(this.type);this._onRendererSelectChange()},
getRenderer:function(){var a=null,c=this.rendererSelect.get("value");if("simple"===c)a=this._getSimpleRenderer();else if("unique"===c)a=this._getUniqueValueRenderer();else if("color"===c||"size"===c)a=this._getClassBreaksRenderer();return a},reset:function(){this.type=this.renderer=null;b.setStyle(this.domNode,"display","none")},showByRenderer:function(a){this.reset();b.setStyle(this.domNode,"display","block");this.renderer=a;this.type=null;this._setDefaultSymbol(this.renderer&&(this.renderer.defaultSymbol||
this.renderer.symbol));this._updateRendererSelect();t.isSimpleRenderer(this.renderer)?this.rendererSelect.set("value","simple"):t.isUniqueValueRenderer(this.renderer)?this._showUniqueValueRenderer(this.renderer):t.isClassBreaksRenderer(this.renderer)?this._showClassBreaksRenderer(this.renderer):this.showByType(this.type);(a=this.defaultSymbolChooser.getSymbol())&&this._onDefaultSymbolChange(a)},showByType:function(a){this.reset();this.type=this.renderer=null;"marker"!==a&&"line"!==a&&"fill"!==a||
(b.setStyle(this.domNode,"display","block"),this.type=a,this.defaultSymbolChooser.showByType(a),this._updateRendererSelect(),(a=this.defaultSymbolChooser.getSymbol())&&this._onDefaultSymbolChange(a))},_setDefaultSymbol:function(a){this.type=null;a&&(p.isSimpleMarkerSymbol(a)||p.isPictureMarkerSymbol(a)?this.type="marker":p.isSimpleLineSymbol(a)?this.type="line":p.isSimpleFillSymbol(a)&&(this.type="fill"),this.type&&this.defaultSymbolChooser.showBySymbol(a))},_onDefaultSymbolChange:function(a){b.empty(this.defaultSymPreviewDiv);
if(a){var c=null;(c=p.isSimpleLineSymbol(a)||p.isCartographicLineSymbol(a)?p.createSymbolNode(a,{width:80,height:30}):p.createSymbolNode(a))&&b.place(c,this.defaultSymPreviewDiv)}},_updateRendererSelect:function(){var a=this.rendererSelect.getOptions("size");"marker"===this.type?a||this.rendererSelect.addOption({value:"size",label:"Size"}):("line"===this.type||"fill"===this.type)&&a&&this.rendererSelect.removeOption(a)},_initFields:function(){if(this.fields&&0<this.fields.length){var c="";q.forEach(this.fields,
a.hitch(this,function(a){a&&"string"===typeof a&&(c||(c=a),this._addField(a))}));c&&!this.fieldComboBox.get("displayedValue")&&this.fieldComboBox.set("displayedValue",c)}},_addField:function(a){this.fieldComboBox.get("store").add({name:a})},_onRendererSelectChange:function(){var a=this.rendererSelect.get("value");"simple"===a?(b.setStyle(this.fieldSelectTr,"display","none"),b.setStyle(this.colorBlockTr,"display","none"),b.setStyle(this.colorBarTr,"display","none"),b.setStyle(this.domainTr,"display",
"none"),b.setStyle(this.classCountTr,"display","none"),b.setStyle(this.uniqueSetting,"display","none"),b.setStyle(this.classBreaksSetting,"display","none"),b.setStyle(this.defaultSymPreview,"display","none"),b.setStyle(this.symbolSizeDomainTr,"display","none")):"unique"===a?(b.setStyle(this.fieldSelectTr,"display","table-row"),b.setStyle(this.colorBlockTr,"display","table-row"),b.setStyle(this.colorBarTr,"display","none"),b.setStyle(this.domainTr,"display","none"),b.setStyle(this.classCountTr,"display",
"none"),b.setStyle(this.uniqueSetting,"display","block"),b.setStyle(this.classBreaksSetting,"display","none"),b.setStyle(this.defaultSymPreview,"display","block"),b.setStyle(this.symbolSizeDomainTr,"display","none"),this._updateUniqueValueDivVisibility()):"color"===a?(b.setStyle(this.fieldSelectTr,"display","table-row"),b.setStyle(this.colorBlockTr,"display","none"),b.setStyle(this.classCountTr,"display","table-row"),b.setStyle(this.domainTr,"display","table-row"),b.setStyle(this.colorBarTr,"display",
"table-row"),b.setStyle(this.uniqueSetting,"display","none"),b.setStyle(this.defaultSymPreview,"display","block"),b.setStyle(this.symbolSizeDomainTr,"display","none"),this._updateClassBreaksSettingVisibility()):"size"===a&&(b.setStyle(this.fieldSelectTr,"display","table-row"),b.setStyle(this.colorBlockTr,"display","none"),b.setStyle(this.colorBarTr,"display","none"),b.setStyle(this.domainTr,"display","table-row"),b.setStyle(this.classCountTr,"display","table-row"),b.setStyle(this.uniqueSetting,"display",
"none"),b.setStyle(this.defaultSymPreview,"display","block"),b.setStyle(this.symbolSizeDomainTr,"display","table-row"),this._updateClassBreaksSettingVisibility())},_showDefaultSymbol:function(){b.setStyle(this.defaultSymSection,"display","block");b.setStyle(this.selectedSymSection,"display","none")},_showSelectedSymbol:function(a){b.setStyle(this.defaultSymSection,"display","none");b.setStyle(this.selectedSymSection,"display","block");var c=this.rendererSelect.get("value");if("simple"===c)b.setStyle(this.uniqueSelectedSymInfoSet,
"display","none"),b.setStyle(this.classBreaksSelectedInfoSet,"display","none");else if("unique"===c)b.setStyle(this.uniqueSelectedSymInfoSet,"display","block"),b.setStyle(this.classBreaksSelectedInfoSet,"display","none");else if("color"===c||"size"===c)b.setStyle(this.uniqueSelectedSymInfoSet,"display","none"),b.setStyle(this.classBreaksSelectedInfoSet,"display","block");this.selectedSymbolChooser.showBySymbol(a)},_onSelectedSymbolChange:function(a){var c=this.rendererSelect.get("value");"unique"===
c?this._onUniqueSelectedSymbolChange(a):"color"===c?this._onClassBreakSelectedSymbolChange(a):"size"===c&&this._onClassBreakSelectedSymbolChange(a)},_cloneSymbol:function(a){if(!a)return null;a=a.toJson();return y.fromJson(a)},_drawSymbolPreview:function(c,d){var e=this._cloneSymbol(d);b.empty(c);var k=80,u=30;if("simplemarkersymbol"===e.type)u=k=Math.min(e.size+12,125);else if("picturemarkersymbol"===e.type){if(!e.url||"http://"===e.url||-1===e.url.indexOf("http://")&&-1===e.url.indexOf("https://")&&
-1===e.url.indexOf("data:"))return;u=k=Math.min(Math.max(e.width,e.height),125)}else if("simplelinesymbol"===e.type||"cartographiclinesymbol"===e.type)k=190,u=20;60<k&&(k=60);var v=r.createSurface(c,k,u);if("vml"===r.renderer){var s=v.getEventSource();b.setStyle(s,"position","relative");b.setStyle(s.parentNode,"position","relative")}var s=null,s=y.getShapeDescriptors(e),p;try{p=v.createShape(s.defaultShape).setFill(s.fill).setStroke(s.stroke)}catch(g){v.clear();v.destroy();return}var e=v.getDimensions(),
e={dx:e.width/2,dy:e.height/2},f=p.getBoundingBox(),s=f.width,f=f.height;if(s>k||f>u)k=((k<u?k:u)-5)/(s>f?s:f),a.mixin(e,{xx:k,yy:k});p.applyTransform(e);return v},_getSimpleRenderer:function(){var a=this.defaultSymbolChooser.getSymbol();return new x(a)},_bindUniqueSettingEvents:function(){this.own(g(this.btnAddUniqueValue,"click",a.hitch(this,this._onAddUniqueValue)));this.own(g(this.uniqueSelectedValue,"change",a.hitch(this,this._onUniqueSelectedValueChange)));this.own(g(this.uniqueSelectedLabel,
"change",a.hitch(this,this._onUniqueSelectedLabelChange)));this.own(g(this.uniqueColorSelect,"change",a.hitch(this,this._onUniqueColorSelectChange)))},_showUniqueValueRenderer:function(c){this.rendererSelect.set("value","unique");this.fieldComboBox.set("displayedValue",c.attributeField);b.empty(this.uniqueSysTbody);q.forEach(c.infos,a.hitch(this,function(a){this._addUniqueValueTr(a.symbol,a.value,a.label||a.value)}))},_getUniqueValueRenderer:function(){var c=this.defaultSymbolChooser.getSymbol(),
b=this.fieldComboBox.get("value"),d=new w(c,b),c=n(".unique-symbol-tr",this.uniqueSysTbody);q.forEach(c,a.hitch(this,function(a){d.addValue({value:a.value,symbol:a.symbol,label:a.label,description:a.label})}));return d},_onUniqueColorSelectChange:function(){var c=this._getSelectedUniqueColors(),b=n(".unique-symbol-tr",this.uniqueSysTbody);q.forEach(b,a.hitch(this,function(a,b){if(a.symbol&&!p.isPictureMarkerSymbol(a.symbol)){a.symbol.setColor(c[b%c.length]);var d=n(".symbol-div",a)[0];this._drawSymbolPreview(d,
a.symbol);this._selectedUniqueValueTr===a&&this._showSelectedSymbol(a.symbol)}}))},_onUniqueSelectedValueChange:function(){var a=this._selectedUniqueValueTr;a&&(a.value=this.uniqueSelectedValue.value,a.label=this.uniqueSelectedLabel.value,n(".label-div",a)[0].innerHTML=a.label)},_onUniqueSelectedLabelChange:function(){var a=this._selectedUniqueValueTr;a&&(a.label=this.uniqueSelectedLabel.value,n(".label-div",a)[0].innerHTML=a.label)},_onUniqueSelectedSymbolChange:function(a){var c=this._selectedUniqueValueTr;
c&&(c.symbol=a,(c=n(".symbol-div",c)[0])&&this._drawSymbolPreview(c,a))},_onAddUniqueValue:function(){var c=a.trim(this.uniqueEditValue.value);if(c){var b=n(".unique-symbol-tr",this.uniqueSysTbody),d=this._getSelectedUniqueColors(),b=this._getUniqueSymbol(d[b.length%d.length]);this._addUniqueValueTr(b,c,c)}this.uniqueEditValue.value=""},_addUniqueValueTr:function(c,d,e){d=a.trim(d);var k=b.toDom('\x3ctr class\x3d"unique-symbol-tr"\x3e\x3ctd class\x3d"symbol-td"\x3e\x3cdiv class\x3d"symbol-div"\x3e\x3c/div\x3e\x3c/td\x3e\x3ctd class\x3d"edit-td"\x3e\x3cdiv wrap class\x3d"label-div"\x3e\x3c/div\x3e\x3c/td\x3e\x3ctd class\x3d"delete-td"\x3e\x3cdiv class\x3d"delete-div jimu-icon jimu-icon-delete"\x3e\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e');
b.place(k,this.uniqueSysTbody);this._updateUniqueSymTableStyle();var u=n(".symbol-div",k)[0],v=n(".label-div",k)[0],s=n(".delete-div",k)[0];v.innerHTML=d;this.own(g(k,"click",a.hitch(this,function(){this._selectUniqueValueTr(k)})));this.own(g(s,"click",a.hitch(this,function(a){a.stopPropagation();this._selectedUniqueValueTr===k&&(this._selectedUniqueValueTr=null);b.destroy(k);this._updateUniqueSymTableStyle();this._updateUniqueValueDivVisibility()})));this._drawSymbolPreview(u,c);k.symbol=c;k.value=
d;k.label=e;this._selectUniqueValueTr(k);b.setStyle(this.uniqueValueDiv,"display","block")},_selectUniqueValueTr:function(a){n(".unique-symbol-tr",this.uniqueSysTbody).removeClass("selected");b.addClass(a,"selected");this._selectedUniqueValueTr=a;this.uniqueSelectedValue.value=a.value;this.uniqueSelectedLabel.value=a.label;this._showSelectedSymbol(a.symbol)},_updateUniqueSymTableStyle:function(){},_getSelectedUniqueColors:function(){var c=this.uniqueColorSelect.get("value");return q.map(this._uniqueColors[c],
a.hitch(this,function(a){return new k(a)}))},_getUniqueSymbol:function(a){var c=null;if("marker"===this.type)c=new z({style:"esriSMSCircle",color:[0,0,128,128],name:"Circle",outline:{color:[191,151,39,255],width:1},type:"esriSMS",size:18}),c.setColor(a);else if("line"===this.type||"fill"===this.type)c=this.defaultSymbolChooser.getSymbol(),c=y.fromJson(c.toJson()),c.setColor(a);return c},_updateUniqueValueDivVisibility:function(){var a=0===n(".unique-symbol-tr",this.uniqueSysTbody).length?"none":"block";
b.setStyle(this.uniqueValueDiv,"display",a)},_bindClassBreaksEvents:function(){this.own(g(this.minDomain,"change",a.hitch(this,this._updateClassBreaksTable)));this.own(g(this.maxDomain,"change",a.hitch(this,this._updateClassBreaksTable)));this.own(g(this.classCount,"change",a.hitch(this,this._updateClassBreaksTable)));this.own(g(this.selectedFrom,"change",a.hitch(this,this._onSelectedRangeChange)));this.own(g(this.selectedTo,"change",a.hitch(this,this._onSelectedRangeChange)));this.own(g(this.classBreakSelectedLabel,
"change",a.hitch(this,this._onClassBreakSelectedLabelChange)));this.own(g(this.classBreaksColorSelect,"change",a.hitch(this,this._updateClassBreaksTable)));this.own(g(this.minSymbolSize,"change",a.hitch(this,this._updateClassBreaksTable)));this.own(g(this.maxSymbolSize,"change",a.hitch(this,this._updateClassBreaksTable)))},_showClassBreaksRenderer:function(c){this._isDrawing=!0;this.rendererSelect.set("value","color");var d=Infinity,e=-Infinity;this.fieldComboBox.set("displayedValue",c.attributeField);
this.classCount.set("value",c.infos.length);b.empty(this.classBreaksTbody);q.forEach(c.infos,a.hitch(this,function(a){var c=a.minValue,b=a.maxValue;this._addClassBreaksTr(a.symbol,c,b,a.label?a.label:a.minValue+" \u2014\u2014 "+a.maxValue);d=Math.min(d,c);e=Math.max(e,b)}));this.minDomain.set("value",d);this.maxDomain.set("value",e);if("marker"===this.type){var k=Infinity,u=-Infinity;q.forEach(c.infos,a.hitch(this,function(a){a=a.symbol;a=p.isPictureMarkerSymbol(a)?a.width:a.size;k=Math.min(a,k);
u=Math.max(a,u)}));this.minSymbolSize.set("value",k);this.maxSymbolSize.set("value",u);this.minSymSize!==this.maxSymSize&&this.rendererSelect.set("value","size")}var v=this;setTimeout(function(){v._isDrawing=!1},1E3)},_getClassBreaksRenderer:function(){var b=this.defaultSymbolChooser.getSymbol(),d=this.fieldComboBox.get("value"),e=new c(b,d),b=n(".class-breaks-tr",this.classBreaksTbody);q.forEach(b,a.hitch(this,function(a){e.addBreak({minValue:a.from,maxValue:a.to,symbol:a.symbol,label:a.label})}));
return e},_onClassBreakSelectedSymbolChange:function(a){var c=this._selectedClassBreakTr;c&&(c.symbol=a,c=n(".symbol-div",c)[0],this._drawSymbolPreview(c,a))},_onSelectedRangeChange:function(){var a=parseFloat(this.selectedFrom.get("value")),c=parseFloat(this.selectedTo.get("value"));if(a>c){var b=a,a=c,c=b;this.selectedFrom.set("value",a);this.selectedTo.set("value",c)}if(b=this._selectedClassBreakTr)b.from=a,b.to=c,a=a+" \u2014 "+c,b.label=a,this.classBreakSelectedLabel.value=a,n(".label-div",b)[0].innerHTML=
a},_onClassBreakSelectedLabelChange:function(){var a=this._selectedClassBreakTr;if(a){var c=this.classBreakSelectedLabel.value;a.label=c;n(".label-div",a)[0].innerHTML=c}},_updateClassBreaksTable:function(){if(!this._isDrawing){b.setStyle(this.classBreaksSetting,"display","none");b.empty(this.classBreaksTbody);var a=parseFloat(this.minDomain.get("value")),c=parseFloat(this.maxDomain.get("value"));if(a>c){var d=a,a=c,c=d;this.minDomain.set("value",a);this.maxDomain.set("value",c)}else if(a===c)return;
var e=parseFloat(this.minSymbolSize.get("value")),k=parseFloat(this.maxSymbolSize.get("value"));e>k&&(d=e,e=k,k=d,this.minSymbolSize.set("value",e),this.maxSymbolSize.set("value",k));var d=parseInt(this.classCount.get("value"),10),v=(c-a)/d,c=[],s;for(s=0;s<=d;s++){var p=a+v*s,p=parseFloat(p.toFixed(4));c.push(p)}s=this.rendererSelect.get("value");a=[];"color"===s?a=this._createColorClassBreaksSymbols(d):"size"===s&&(a=this._createSizeClassBreaksSymbols(d,e,k));for(s=0;s<d;s++)e=c[s],k=c[s+1],this._addClassBreaksTr(a[s],
e,k,e+" \u2014 "+k);this._updateClassBreaksSettingVisibility()}},_selectClassBreaksTr:function(a){n(".class-breaks-tr",this.classBreaksTbody).removeClass("selected");b.addClass(a,"selected");this._selectedClassBreakTr=a;var c=a.symbol,d=parseFloat(a.from),e=parseFloat(a.to);a=a.label;this.selectedFrom.set("value",d);this.selectedTo.set("value",e);this.classBreakSelectedLabel.value=a;this._showSelectedSymbol(c)},_addClassBreaksTr:function(c,d,e,k){var u=b.toDom('\x3ctr class\x3d"class-breaks-tr"\x3e\x3ctd class\x3d"symbol-td"\x3e\x3cdiv class\x3d"symbol-div"\x3e\x3c/div\x3e\x3c/td\x3e\x3ctd class\x3d"label-td"\x3e\x3cdiv wrap class\x3d"label-div"\x3e\x3c/div\x3e\x3c/td\x3e\x3ctd class\x3d"delete-td"\x3e\x3cdiv class\x3d"delete-div jimu-icon jimu-icon-delete"\x3e\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e');
b.place(u,this.classBreaksTbody);u.symbol=c;u.from=d;u.to=e;u.label=k;d=n(".symbol-div",u)[0];e=n(".label-div",u)[0];var v=n(".delete-div",u)[0];this._drawSymbolPreview(d,c);e.innerHTML=k;this.own(g(u,"click",a.hitch(this,function(){this._selectClassBreaksTr(u)})));this.own(g(v,"click",a.hitch(this,function(a){a.stopPropagation();this._selectClassBreaksTr===u&&(this._selectClassBreaksTr=null);b.destroy(u);this._updateClassBreaksSettingVisibility()})));this._updateClassBreaksTableStyle();this._showDefaultSymbol();
b.setStyle(this.classBreaksSetting,"display","block")},_updateClassBreaksTableStyle:function(){},_updateClassBreaksSettingVisibility:function(){var a=0===n(".class-breaks-tr",this.classBreaksTbody).length?"none":"block";b.setStyle(this.classBreaksSetting,"display",a)},_createColorClassBreaksSymbols:function(a){for(var c=[],b=this._createClassBreaksColors(a),d=0;d<a;d++){var e=b[d],k=null;if("marker"===this.type)k=new z({style:"esriSMSCircle",color:[0,0,128,128],name:"Circle",outline:{color:[191,151,
39,255],width:1},type:"esriSMS",size:18}),k.setColor(e);else if("line"===this.type||"fill"===this.type)k=this.defaultSymbolChooser.getSymbol(),k=y.fromJson(k.toJson()),k.setColor(e);c.push(k)}return c},_createClassBreaksColors:function(a){for(var c=[],b=this.classBreaksColorSelect.get("value"),d=this._classBreaksColors[b],b=new k(d[0]),e=new k(d[1]),d=Math.floor((e.r-b.r)/a),v=Math.floor((e.g-b.g)/a),e=Math.floor((e.b-b.b)/a),p=0;p<a;p++){var f=new k([b.r+d*p,b.g+v*p,b.b+e*p,255]);c.push(f)}return c},
_createSizeClassBreaksSymbols:function(a,c,b){var d=this.defaultSymbolChooser.getSymbol(),e=[];b=(b-c)/(a-1);for(var k=0;k<a;k++){var s=Math.round(c+b*k),f=d.toJson(),f=y.fromJson(f);p.isPictureMarkerSymbol(f)?(f.setWidth(s),f.setHeight(s)):f.setSize(s);e.push(f)}return e}})})},"jimu/rendererUtils":function(){define(["esri/renderers/jsonUtils"],function(h){return{cloneRenderer:function(e){if(!e)return null;var l=null;try{var f=e.toJson(),l=h.fromJson(f)}catch(d){console.error(d)}return l},isSimpleRenderer:function(e){return e&&
"esri.renderer.SimpleRenderer"===e.declaredClass},isUniqueValueRenderer:function(e){return e&&"esri.renderer.UniqueValueRenderer"===e.declaredClass},isClassBreaksRenderer:function(e){return e&&"esri.renderer.ClassBreaksRenderer"===e.declaredClass},isDotDensityRenderer:function(e){return e&&"esri.renderer.DotDensityRenderer"===e.declaredClass},isScaleDependentRenderer:function(e){return e&&"esri.renderer.ScaleDependentRenderer"===e.declaredClass},isTemporalRenderer:function(e){return e&&"esri.renderer.TemporalRenderer"===
e.declaredClass}}})},"jimu/dijit/PopupConfig":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/PopupConfig.html dojo/_base/lang dojo/_base/html dojo/_base/array dojo/Evented esri/request dijit/MenuItem jimu/dijit/SimpleTable dijit/form/TextBox dijit/form/DropDownButton dijit/TooltipDialog dijit/Menu".split(" "),function(h,e,l,f,d,a,b,q,g,n,r,k){return h([e,l,f,g],{_def:null,declaredClass:"jimu.dijit.PopupConfig",baseClass:"jimu-dijit-popup-config",
templateString:d,url:null,title:null,fields:null,config:null,showTitle:!0,postMixInProperties:function(){this.nls=window.jimuNls.popupConfig},postCreate:function(){this.inherited(arguments);this._initFieldsTable();this.clear();this.showTitle?(b.setStyle(this.titleTR,"display",""),this.title&&this.titleTextBox.set("value",this.title)):b.setStyle(this.titleTR,"display","none");this.fields?this.setFields(this.fields):this.url&&this.setUrl(this.url)},getConfig:function(){var b={title:a.trim(this.titleTextBox.get("value")),
fields:[]},d=this.fieldsTable.getRows();q.forEach(d,a.hitch(this,function(a){var d=this.fieldsTable.getRowData(a);d.visibility&&b.fields.push({name:d.name,alias:d.alias,type:a.fieldType})}));return b},setUrl:function(b){if("string"===typeof b)return this.url=b=a.trim(b),this.clear(),this._requestLayerInfo(b)},setFields:function(a){a instanceof Array&&this._setFields(a)},clear:function(){this.fieldsTable.clear();this._resetMenu();this._addEmptyMenuItem()},_initFieldsTable:function(){b.empty(this.fieldsTableTd);
var d=[{name:"visibility",title:this.nls.visibility,type:"checkbox",onChange:a.hitch(this,this._onFieldVisibleChange)},{name:"name",title:this.nls.name,type:"text",editable:!1},{name:"alias",title:this.nls.alias,type:"text",editable:!0},{name:"actions",title:this.nls.actions,type:"actions",actions:["up","down"]}];this.fieldsTable=new k({fields:d});this.fieldsTable.placeAt(this.fieldsTableTd)},_onFieldVisibleChange:function(){var a=this.fieldsTable.getRows();q.every(a,function(a){return!1===this.fieldsTable.getRowData(a).visibility},
this)?this.emit("noVisibleField"):this.emit("hasVisibleField")},_resetMenu:function(){var b=this.menu.getChildren();q.forEach(b,a.hitch(this,function(a){this.menu.removeChild(a)}))},_addEmptyMenuItem:function(){var d=new r({label:this.nls.noField,onClick:a.hitch(this,function(){var a=this.menu.getParent();b.setStyle(a.domNode.parentNode,"display","none")})});this.menu.addChild(d)},_setFields:function(b){this._resetMenu();this.fields=q.filter(b,function(a){return"esriFieldTypeGeometry"!==a.type});
0<this.fields.length?q.forEach(this.fields,a.hitch(this,function(a){this._addMenuItem(a);this._addRow(a)})):this._addEmptyMenuItem()},_requestLayerInfo:function(b){this._def&&this._def.cancel();this._def=n({url:b,content:{f:"json"},handleAs:"json",callbackParamName:"callback"});this._def.then(a.hitch(this,function(a){a&&a.fields&&this._setFields(a.fields)}),a.hitch(this,function(a){console.error("request layer info failed",a)}));return this._def},_addMenuItem:function(d){var e=new r({label:d.name+
" {"+d.name+"}",onClick:a.hitch(this,function(){var a=this.titleTextBox.get("value")+"${"+d.name+"}";this.titleTextBox.set("value",a);a=this.menu.getParent();b.setStyle(a.domNode.parentNode,"display","none")})});this.menu.addChild(e)},_addRow:function(a){var b=this.fieldsTable.addRow({visibility:!1!==a.visible,name:a.name,alias:a.alias||a.name});b.success&&(b.tr.fieldType=a.type)}})})},"widgets/Geoprocessing/editors/SelectFeatureSetFromUrl":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin jimu/dijit/CheckBox jimu/dijit/LoadingIndicator jimu/dijit/Message esri/tasks/query esri/layers/GraphicsLayer esri/SpatialReference esri/tasks/QueryTask esri/symbols/jsonUtils esri/renderers/SimpleRenderer ./BaseFeatureSetEditor dojo/text!./SelectFeatureSetFromUrl.html jimu/dijit/URLInput".split(" "),
function(h,e,l,f,d,a,b,q,g,n,r,k,p,t,x,w){return h([x,f,d],{baseClass:"jimu-gp-editor-base jimu-gp-editor-url",templateString:w,editorName:"SelectFeatureSetFromUrl",postCreate:function(){this.inherited(arguments);this.inputLayer=new n;if(this.param.symbol){var c=new t(p.fromJson(this.param.symbol));this.inputLayer.setRenderer(c)}this.map.addLayer(this.inputLayer);this.param.featureSetUrl&&this.featureSetUrl.set("value",this.param.featureSetUrl);this.param.showUrlContent&&(this.visibleCheckbox=new a({checked:!1,
label:this.nls.showLayerContent,onChange:e.hitch(this,this.viewLayerContent)}),this.visibleCheckbox.placeAt(this.visibleCheckboxDiv));this.loading=new b({hidden:!0},this.loadingNode);this.loading.startup()},viewLayerContent:function(a){a?this.featureSetUrl.isValid()?(this._showLoading(),a=new g,a.geometry=this.map.extent,a.spatialRelationship=g.SPATIAL_REL_INTERSECTS,a.returnGeometry=!0,a.outFields=["*"],a.outSpatialReference=new r(this.map.spatialReference.wkid),this.queryTask=new k(this.getValue()),
this.queryTask.execute(a,e.hitch(this,this._addToLayer),e.hitch(this,this._queryError))):new q({message:this.nls.invalidUrl}):this.inputLayer.clear()},_showLoading:function(){this.visibleCheckbox.setStatus(!1);this.loading.show()},_hideLoading:function(){this.visibleCheckbox.setStatus(!0);this.loading.hide()},_queryError:function(a){this._hideLoading();new q({message:a.message})},_addToLayer:function(a){l.forEach(a.features,function(a){this.inputLayer.add(a)},this);this._hideLoading()},destroy:function(){this.inputLayer.clear();
this.map.removeLayer(this.inputLayer)},getValue:function(){return 0===this.activeViewIndex?this.featureSetUrl.get("value"):this.getFeatureSet()},getGPValue:function(){if(0===this.activeViewIndex){var a=new g;a.where="1\x3d1";a.returnGeometry=!0;a.outFields=["*"];a.outSpatialReference=new r(this.querySetting.spatialReference.wkid);this.queryTask=new k(this.getValue());return this.queryTask.execute(a)}return this.wrapValueToDeferred(this.getFeatureSet())}})})},"widgets/Geoprocessing/editors/BaseFeatureSetEditor":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/html dojo/on jimu/dijit/ViewStack ../BaseEditor ./SelectFeatureSetFromSelection".split(" "),
function(h,e,l,f,d,a,b){return h([a],{editorName:"BaseFeatureSetEditor",viewStack:null,activeViewIndex:0,postCreate:function(){this.inherited(arguments);this.viewStack=new d({viewType:"dom",views:[this.inputNode,this.featuresetNode]});l.place(this.viewStack.domNode,this.domNode);this.viewStack.startup();this.switchView(0)},switchView:function(a){this.activeViewIndex=a;this.viewStack.switchView(a)},setFeatureSet:function(a,d){a.features&&0<a.features.length&&(l.empty(this.featuresetNode),this.featuresetDijit=
new b({featureset:a,nls:this.nls}),l.place(this.featuresetDijit.domNode,this.featuresetNode),this.featuresetDijit.startup(),this.own(f(this.featuresetDijit,"close",e.hitch(this,function(){this.switchView(0)}))),this.switchView(1))},getFeatureSet:function(){return this.featuresetDijit?this.featuresetDijit.getValue():null}})})},"widgets/Geoprocessing/editors/SelectFeatureSetFromSelection":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/Evented dijit/_TemplatedMixin ../BaseEditor".split(" "),
function(h,e,l,f,d,a){return h([a,d,f],{baseClass:"jimu-gp-editor-selection",templateString:'\x3cdiv\x3e\x3cdiv class\x3d"label"\x3e${nls.useSelectedFeatureset}\x3c/div\x3e\x3cdiv class\x3d"icon" data-dojo-attach-point\x3d"closeBtn" title\x3d"${nls.closeSelectedFeatureset}"\x3e\x3cdiv class\x3d"feature-action icon-close"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',editorName:"SelectFeatureSetFromSelection",postCreate:function(){this.inherited(arguments);this.own(l(this.closeBtn,"click",e.hitch(this,
function(){this.emit("close")})))},getValue:function(){return this.featureset},getGPValue:function(){return this.wrapValueToDeferred(this.featureset)}})})},"widgets/Geoprocessing/editors/SelectFeatureSetFromLayer":function(){define("dojo/_base/declare dojo/Deferred dojo/_base/lang dijit/_TemplatedMixin jimu/dijit/SpatialFilterByFeatures jimu/utils ./BaseFeatureSetEditor dojo/text!./SelectFeatureSetFromLayer.html esri/tasks/query".split(" "),function(h,e,l,f,d,a,b,q,g){return h([b,f],{templateString:q,
editorName:"SelectFeatureSetFromLayer",postCreate:function(){this.inherited(arguments);this.spatialFilterByFeatures=new d({map:this.map,types:this.param.defaultValue&&this.param.defaultValue.geometryType?[a.getTypeByGeometryType(this.param.defaultValue.geometryType)]:["point","polyline","polygon"]});this.spatialFilterByFeatures.placeAt(this.layerChooseNode);this.spatialFilterByFeatures.startup()},getGPValue:function(){if(0===this.activeViewIndex){var a=new e;this.spatialFilterByFeatures.getFeatureSet(!0).then(l.hitch(this,
function(b){a.resolve(b)}),l.hitch(this,function(b){if(b&&b.type===d.NONE_SELECTED_FEATURES_NOT_DRAW_SHAPES){var e=this.spatialFilterByFeatures.getSelectedLayer();e&&e.url?(b=new g,b.where="1\x3d1",e.queryFeatures(b).then(l.hitch(this,function(b){a.resolve(b)}),l.hitch(this,function(b){a.reject(b)}))):a.reject(b)}else a.reject(b)}));return a}return this.wrapValueToDeferred(this.getFeatureSet())}})})},"jimu/dijit/SpatialFilterByFeatures":function(){define("dojo/_base/array dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/SpatialFilterByFeatures.html dojo/on dojo/Evented dojo/Deferred dojo/_base/html dojo/_base/lang jimu/utils jimu/Query jimu/dijit/CheckBox jimu/dijit/FeaturelayerChooserFromMap jimu/dijit/LayerChooserFromMapWithDropbox jimu/dijit/SearchDistance jimu/LayerInfos/LayerInfos esri/graphic esri/symbols/jsonUtils esri/layers/GraphicsLayer esri/renderers/SimpleRenderer esri/geometry/geometryEngine jimu/dijit/FeatureSetChooserForSingleLayer".split(" "),
function(h,e,l,f,d,a,b,q,g,n,r,k,p,t,x,w,c,y,z,m,C,D,B,u){e=e([l,f,d,q],{baseClass:"jimu-dijit-spatial-filter-features",templateString:a,_bufferLayer:null,_defaultRelationship:"SPATIAL_REL_INTERSECTS",drawBox:null,selectionRadio:null,_selectionHandle:null,layerInfosObj:null,_layerAllFeaturesCache:null,map:null,types:null,enableBuffer:!1,distance:0,unit:"",showLoading:!1,ignoredFeaturelayerIds:null,postMixInProperties:function(){this.inherited(arguments);this.nls=window.jimuNls.spatialFilterByFeatures;
this.ignoredFeaturelayerIds||(this.ignoredFeaturelayerIds=[]);this._layerAllFeaturesCache={}},postCreate:function(){this.inherited(arguments);this.selectionRadio=new t({label:this.nls.selectedFeatures});this.selectionRadio.placeAt(this.selectionOptionDiv);this.selectionRadio.setStatus(!1);this.own(b(this.selectionRadio,"change",r.hitch(this,this._onRadioChanged)));n.setStyle(this.domNode,"position","relative");var a=m.fromJson({style:"esriSFSSolid",color:[79,129,189,77],type:"esriSFS",outline:{style:"esriSLSSolid",
color:[54,93,141,255],width:1.5,type:"esriSLS"}}),a=new D(a);this._bufferLayer=new C;this._bufferLayer.setRenderer(a);this.map.addLayer(this._bufferLayer);a=new x({createMapResponse:this.map.webMapResponse,types:this.types,showLayerFromFeatureSet:!0,onlyShowVisible:!1,updateWhenLayerInfosIsShowInMapChanged:!0,ignoredFeaturelayerIds:this.ignoredFeaturelayerIds});this.layerChooserFromMapWithDropbox=new w({layerChooser:a});this.layerChooserFromMapWithDropbox.placeAt(this.layerSelectDiv);this.own(b(this.layerChooserFromMapWithDropbox,
"selection-change",r.hitch(this,this._onLayerChanged)));this.layerInfosObj=y.getInstanceSync();this.own(b(this.layerInfosObj,"layerInfosIsShowInMapChanged",r.hitch(this,this._onLayerInfosIsShowInMapChanged)));this.searchDistance=new c({tip:window.jimuNls.searchDistance.applySearchDistanceToFeatures,distance:this.distance,unit:this.unit});this.searchDistance.placeAt(this.searchDistanceDiv);this.enableBuffer?(this.searchDistance.enable(),this.own(b(this.searchDistance,"change",r.hitch(this,this._onSearchDistanceChange)))):
(this.searchDistance.disable(),n.setStyle(this.searchDistanceDiv,"display","none"));this._onLayerChanged()},reset:function(a){a&&(this.searchDistance.reset(),this.searchDistance.setDistance(this.distance),this.searchDistance.setUnit(this.unit));this.clearAllGraphics()},hideTempLayers:function(){this._bufferLayer&&this._bufferLayer.hide();this.drawBox&&this.drawBox.hideLayer();this.featureSetChooserForSingleLayer&&this.featureSetChooserForSingleLayer.hideMiddleFeatureLayer()},showTempLayers:function(){this._bufferLayer&&
this._bufferLayer.show();this.drawBox&&this.drawBox.showLayer();this.featureSetChooserForSingleLayer&&this.featureSetChooserForSingleLayer.showMiddleFeatureLayer()},disable:function(a){a&&this._hideAllLayers()},enable:function(){this._showAllLayers()},deactivate:function(){this.featureSetChooserForSingleLayer&&this.featureSetChooserForSingleLayer.deactivate()},clearAllGraphics:function(){this._clearBufferLayer();this.featureSetChooserForSingleLayer&&this.featureSetChooserForSingleLayer.clearAllGraphics()},
setSelectedLayer:function(a){return this.layerChooserFromMapWithDropbox.setSelectedLayer(a)},getSelectedLayer:function(){return this._getSelectedLayerInfomation().layer},checkSelectedFeaturesRadio:function(){this.selectionRadio.getValue()||this.selectionRadio.check()},uncheckSelectedFeaturesRadio:function(){this.selectionRadio.getValue()&&this.selectionRadio.uncheck()},getGeometryInfo:function(a){var c=new g,b={status:null,geometry:null};this._updateBuffer();if(0===this._getSelectedLayerInfomation().type)return b.status=
-1,c.resolve(b),c;if(0>this.searchDistance.getData().status)return b.status=-2,c.resolve(b),c;this._getFeatures(a).then(r.hitch(this,function(){b.geometry=this._updateBuffer();b.status=b.geometry?1:0;c.resolve(b)}),r.hitch(this,function(a){c.reject(a)}));return c},getFeatureSet:function(a){var c=new g,b=null,d=this._getSelectedLayerInfomation().layer;d?this._getFeatures(a).then(r.hitch(this,function(a){b=k.getFeatureSetByLayerAndFeatures(d,a);c.resolve(b)}),r.hitch(this,function(a){c.reject(a)})):
c.resolve(b);return c},_getFeatures:function(){var a=new g,c=[],b=this._getSelectedLayerInfomation(),d=b.type;0===d?a.resolve(c):this.selectionRadio.getStatus()&&this.selectionRadio.getValue()?(c=b.layer.getSelectedFeatures(),a.resolve(c)):this.featureSetChooserForSingleLayer.isLoading()?a=this.featureSetChooserForSingleLayer.getFeatures():(c=this.featureSetChooserForSingleLayer.syncGetFeatures(),0<c.length?a.resolve(c):3===d?(c=b.layer.graphics,a.resolve(c)):a=this._getAllFeaturesFromFeaturelayer(b.layer));
return a},_getAllFeaturesFromFeaturelayer:function(a){var c=new g;if(this._layerAllFeaturesCache[a.id])c.resolve(this._layerAllFeaturesCache[a.id]);else{var b=k.getFeatureLayerDefinition(a);b||(b={currentVersion:a.currentVersion,fields:r.clone(a.fields)});var d={};d.url=a.url;d.layerInfo=b;d.spatialReference=this.map.spatialReference;d.where="1\x3d1";d.geometry=null;d.outFields=[];this.emit("loading");(new p(d)).getFeatures().then(r.hitch(this,function(b){this.emit("unloading");0<b.status?(b=b.features||
[],this._layerAllFeaturesCache[a.id]=b,c.resolve(b)):c.reject("Can't get all features from featureLayer "+a.id)}),r.hitch(this,function(a){this.emit("unloading");c.reject(a)}))}return c},_syncGetFeatures:function(){var a=[],c=this._getSelectedLayerInfomation(),b=c.type;0!==b&&(this.selectionRadio.getStatus()&&this.selectionRadio.getValue()?a=c.layer.getSelectedFeatures():(a=this.featureSetChooserForSingleLayer.syncGetFeatures(),0===a.length&&(3===b?a=c.layer.graphics:(c=this._layerAllFeaturesCache[c.layer.id])&&
(a=c))));return a},isLoading:function(){return this.featureSetChooserForSingleLayer&&this.featureSetChooserForSingleLayer.isLoading()},_onLoading:function(){this.showLoading&&this.loading.show();this.emit("loading")},_onUnloading:function(){this.loading.hide();this.emit("unloading")},_showAllLayers:function(){this._bufferLayer&&this._bufferLayer.show()},_hideAllLayers:function(){this._bufferLayer&&this._bufferLayer.hide()},_onRadioChanged:function(){this.selectionRadio.getValue()&&this.featureSetChooserForSingleLayer&&
(this.featureSetChooserForSingleLayer.deactivate(),this.featureSetChooserForSingleLayer.clearAllGraphics());this._updateBuffer()},_getSelectedLayerInfomation:function(){var a=0,c=null,b=null,d=this.layerChooserFromMapWithDropbox.getSelectedItems();0<d.length&&(c=d[0]);c&&(b=c.layerInfo.layerObject,a=b.url?0<=this.map.graphicsLayerIds.indexOf(b.id)?1:2:3);return{type:a,layerItem:c,layer:b}},_onLayerChanged:function(){this.clearAllGraphics();this._clearSelectionHandle();this._updateSelectedFeaturesCount();
this.featureSetChooserForSingleLayer&&this.featureSetChooserForSingleLayer.destroy();this.featureSetChooserForSingleLayer=null;var a=this._getSelectedLayerInfomation();0<a.type&&(this.featureSetChooserForSingleLayer=new u({map:this.map,featureLayer:a.layer,updateSelection:!1}),this._selectionHandle=b(a.layer,"selection-complete",r.hitch(this,function(){var a=this.selectionRadio.getStatus()&&this.selectionRadio.getValue();this._updateSelectedFeaturesCount();a&&this._updateBuffer()})),this.own(b(this.featureSetChooserForSingleLayer,
"user-clear",r.hitch(this,this._onUserClear))),this.own(b(this.featureSetChooserForSingleLayer,"loading",r.hitch(this,r.hitch(this,function(){this._clearBufferLayer();this._onLoading()})))),this.own(b(this.featureSetChooserForSingleLayer,"unloading",r.hitch(this,r.hitch(this,function(){this._onUnloading();this._updateBuffer()})))),this.featureSetChooserForSingleLayer.placeAt(this.featureSetChooserDiv),this.own(b(this.featureSetChooserForSingleLayer,"draw-activate",r.hitch(this,function(){this.uncheckSelectedFeaturesRadio()}))));
this._updateFeatureSetChooserForSingleLayerStatus();this._updateBuffer()},_onLayerInfosIsShowInMapChanged:function(){this._updateFeatureSetChooserForSingleLayerStatus()},_onSearchDistanceChange:function(){this._updateBuffer()},_updateFeatureSetChooserForSingleLayerStatus:function(){if(this.featureSetChooserForSingleLayer){var a=!1,c=this.featureSetChooserForSingleLayer.getFeatureLayer();(c=this.layerInfosObj.getLayerInfoById(c.id))&&(a=c.isShowInMap());a?(this.featureSetChooserForSingleLayer.enable(),
n.removeClass(this.featureSetChooserForSingleLayer.domNode,"not-visible")):(this.featureSetChooserForSingleLayer.disable(),this.featureSetChooserForSingleLayer.clearAllGraphics(),n.addClass(this.featureSetChooserForSingleLayer.domNode,"not-visible"),this._updateBuffer())}},_updateBuffer:function(){this._clearBufferLayer();var a=this.searchDistance.getData(),c=a.status,b=a.distance,a=a.bufferUnit;if(0>c)return null;var d=this._syncGetFeatures(),e=null,m=[];h.forEach(d,r.hitch(this,function(a){a&&a.geometry&&
m.push(a.geometry)}));0<m.length&&(e="polygon"===m[0].type?B.union(m):k.combineGeometries(m));return 0===c?e:e?(e=B.simplify(e),d=e.spatialReference,c=null,c=d.isWebMercator()||4326===d.wkid?B.geodesicBuffer(e,b,a,!0):B.buffer(e,b,a,!0),b=new z(c),this._bufferLayer.add(b),c):null},_onUserClear:function(){this.clearAllGraphics()},_clearBufferLayer:function(){this._bufferLayer&&this._bufferLayer.clear()},_updateSelectedFeaturesCount:function(){this.selectionRadio.setStatus(!0);var a=this._getSelectedLayerInfomation(),
c=0;if(a.layer&&(a=a.layer.getSelectedFeatures()))c=a.length;0===c?(this.selectionRadio.getValue()&&this.selectionRadio.uncheck(),this.selectionRadio.setStatus(!1),n.addClass(this.selectionOptionDiv,"not-visible")):n.removeClass(this.selectionOptionDiv,"not-visible");this.selectionRadio.setLabel(this.nls.selectedFeatures+(window.isRTL?"\x26rlm;":" ")+"("+c+")")},_clearSelectionHandle:function(){this._selectionHandle&&this._selectionHandle.remove();this._selectionHandle=null},destroy:function(){this._bufferLayer&&
this.map.removeLayer(this._bufferLayer);this._bufferLayer=null;this._clearSelectionHandle();this.inherited(arguments)}});e.NONE_SELECTED_FEATURES_NOT_DRAW_SHAPES="NONE_SELECTED_FEATURES_NOT_DRAW_SHAPES";return e})},"jimu/Query":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Deferred esri/tasks/query esri/tasks/QueryTask jimu/utils jimu/dijit/Message".split(" "),function(h,e,l,f,d,a,b,q){function g(){return{url:"",layerInfo:null,limit:1E4,spatialReference:null,queryType:-1,
objectIdField:"",query:{maxRecordCount:1E3,where:"",geometry:null,relationship:d.SPATIAL_REL_INTERSECTS,outFields:["*"],nextIndex:0,allCount:0,objectIds:[],features:[]}}}h=h(null,{currentAttrs:null,constructor:function(a){this.currentAttrs=g();this.currentAttrs.url=a.url;this.currentAttrs.layerInfo=a.layerInfo;this.currentAttrs.spatialReference=a.spatialReference;this.currentAttrs.query.where=a.where;this.currentAttrs.query.geometry=a.geometry;this.currentAttrs.query.maxRecordCount=a.layerInfo.maxRecordCount||
1E3;this.currentAttrs.queryType=this._getQueryType(a.layerInfo);this.currentAttrs.objectIdField=b.getObjectIdField(a.layerInfo);a.relationship&&(this.currentAttrs.query.relationship=a.relationship);a.outFields&&(this.currentAttrs.query.outFields=a.outFields);if(0<a.limit||a.limit>this.currentAttrs.query.maxRecordCount)this.currentAttrs.limit=a.limit},getFeatures:function(){var a=new f,a=this.currentAttrs.query.where,b=this.currentAttrs.query.geometry,d=this.currentAttrs.query.relationship;return a=
2===this.currentAttrs.queryType?this._getAllFeatures_SupportObjectIds(a,b,d):this._getAllFeatures_NotSupportObjectIds(a,b,d)},_getQueryType:function(a){var b=-1;return b=this._isSupportObjectIds(a)?2:3},_isSupportObjectIds:function(a){var b=0;a.currentVersion&&(b=parseFloat(a.currentVersion));return 10<=b||a.hasOwnProperty("typeIdField")},_getAllFeatures_SupportObjectIds:function(a,b,d){return this._queryIds(a,b,d).then(e.hitch(this,function(a){if(!(a&&0<a.length))return this.currentAttrs.query.allCount=
0,{status:1,count:0,features:[]};var b=a.length;this.currentAttrs.query.allCount=b;this.currentAttrs.query.objectIds=a;this.currentAttrs.query.nextIndex=0;return b>this.currentAttrs.query.maxRecordCount?this._isContinue().then(e.hitch(this,function(a){return a?this._onResultsScroll_SupportObjectIds():{status:-1,count:b,features:[]}})):this._onResultsScroll_SupportObjectIds()}))},_isContinue:function(){var a=new f,b=window.jimuNls.queryFeatures,d=new q({message:b.tooManyFeaturesTip+" "+b.askForContinue,
buttons:[{label:window.jimuNls.common.continue1,onClick:e.hitch(this,function(){a.resolve(!0);d.close()})},{label:window.jimuNls.common.cancel,onClick:e.hitch(this,function(){a.resolve(!1);d.close()})}]});return a},_onResultsScroll_SupportObjectIds:function(){var a=new f,b=this.currentAttrs.query.objectIds,d=this.currentAttrs.query.allCount,g=this.currentAttrs.query.nextIndex,h=this.currentAttrs.query.maxRecordCount,q=this.currentAttrs.query.relationship;if(g>=d)return a.resolve({status:1,count:d,
features:this.currentAttrs.query.features}),a;h=Math.min(b.length-g,h);b=b.slice(g,g+h);return 0===b.length?(a.resolve({status:1,count:d,features:this.currentAttrs.query.features}),a):this._queryByObjectIds(b,!0,q).then(e.hitch(this,function(a){a=a.features;this.currentAttrs.query.nextIndex+=a.length;this.currentAttrs.query.features=this.currentAttrs.query.features.concat(a);return this._onResultsScroll_SupportObjectIds()}))},_getAllFeatures_NotSupportObjectIds:function(a,b,d){return this._doQuery_NotSupportObjectIds(a,
b,d).then(e.hitch(this,function(a){return{status:1,count:a.length,features:a}}))},_doQuery_NotSupportObjectIds:function(a,b,d){var g=new f;this._query(a,b,!0,d).then(e.hitch(this,function(a){a=a.features;this.currentAttrs.query.allCount=a.length;g.resolve(a)}),e.hitch(this,function(a){console.error(a);g.reject(a)}));return g},_getOutputFields:function(){return["*"]},_query:function(b,e,k,f){var g=new d;g.where=b;e&&(g.geometry=e);g.outSpatialReference=this.currentAttrs.spatialReference;g.returnGeometry=
!!k;g.spatialRelationship=f;g.outFields=this._getOutputFields();return(new a(this.currentAttrs.url)).execute(g)},_queryIds:function(b,e,k){var g=new d;g.where=b;e&&(g.geometry=e);g.returnGeometry=!1;g.spatialRelationship=k;g.outSpatialReference=this.currentAttrs.spatialReference;return(new a(this.currentAttrs.url)).executeForIds(g)},_queryByObjectIds:function(b,g,k){var h=new f,q=new d;q.returnGeometry=!!g;q.outSpatialReference=this.currentAttrs.spatialReference;q.outFields=this._getOutputFields();
q.objectIds=b;q.spatialRelationship=k;(new a(this.currentAttrs.url)).execute(q).then(e.hitch(this,function(a){h.resolve(a)}),e.hitch(this,function(a){if(400===a.code){var d=this.currentAttrs.objectIdField,c="",f=b.length;l.forEach(b,e.hitch(this,function(a,b){c+=d+" \x3d "+a;b!==f-1&&(c+=" OR ")}));this._query(c,null,g,k).then(e.hitch(this,function(a){h.resolve(a)}),e.hitch(this,function(a){h.reject(a)}))}else h.reject(a)}));return h}});h.getCleanCurrentAttrsTemplate=g;return h})},"jimu/dijit/FeaturelayerChooserFromMap":function(){define(["dojo/_base/declare",
"dojo/Deferred","dojo/_base/html","dojo/_base/lang","./LayerChooserFromMap"],function(h,e,l,f,d){return h([d],{baseClass:"jimu-featurelayer-chooser-from-map",declaredClass:"jimu.dijit.FeaturelayerChooserFromMap",types:null,showLayerFromFeatureSet:!1,showTable:!1,onlyShowVisible:!1,ignoredFeaturelayerIds:null,postMixInProperties:function(){this.inherited(arguments);this.ignoredFeaturelayerIds||(this.ignoredFeaturelayerIds=[]);this.basicFilter=f.hitch(this,this.basicFilter);this.filter=d.createFeaturelayerFilter(this.types,
this.showLayerFromFeatureSet,this.showTable)},postCreate:function(){this.inherited(arguments);l.addClass(this.domNode,"jimu-basic-layer-chooser-from-map")},basicFilter:function(a){var b=new e;0<=this.ignoredFeaturelayerIds.indexOf(a.id)?b.resolve(!1):this.onlyShowVisible&&"Table"!==a.getLayerType()?b.resolve(a.isShowInMap()):b.resolve(!0);return b},getHandledItem:function(a){var b=this.inherited(arguments),d=a&&a.layerInfo,d=d&&d.layerObject;b.url=d&&d.url||"";return b}})})},"jimu/dijit/LayerChooserFromMap":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/Evented dojo/on dojo/store/Memory dojo/Deferred dojo/store/Observable dijit/tree/ObjectStoreModel dojo/promise/all dojo/_base/lang dojo/_base/html dojo/_base/array jimu/utils jimu/dijit/_Tree jimu/LayerInfos/LayerInfos jimu/dijit/LoadingIndicator".split(" "),
function(h,e,l,f,d,a,b,q,g,n,r,k,p,t,x,w,c,y){var z=h([e,l,f,d],{templateString:'\x3cdiv style\x3d"width:100%;"\x3e\x3cdiv data-dojo-attach-point\x3d"errorTipSection" class\x3d"error-tip-section"\x3e\x3cspan class\x3d"jimu-icon jimu-icon-error"\x3e\x3c/span\x3e\x3cspan class\x3d"jimu-state-error-text" data-dojo-attach-point\x3d"errTip"\x3e${nls.noLayersTip}\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e',_store:null,_id:0,_treeClass:"layer-chooser-tree",createMapResponse:null,multiple:!1,onlyShowVisible:!1,
updateWhenLayerInfosIsShowInMapChanged:!1,postMixInProperties:function(){this.nls=window.jimuNls.basicLayerChooserFromMap},postCreate:function(){this.inherited(arguments);p.addClass(this.domNode,"jimu-basic-layer-chooser-from-map");this.multiple=!!this.multiple;this.shelter=new y({hidden:!0});this.shelter.placeAt(this.domNode);this.shelter.startup();this._createTree();this.basicFilter=k.hitch(this,this.basicFilter);this.filter=z.andCombineFilters([this.basicFilter,this.filter]);this.createMapResponse&&
this.setCreateMapResponse(this.createMapResponse)},basicFilter:function(a){var c=new q;this.onlyShowVisible?c.resolve(a.isShowInMap()):c.resolve(!0);return c},filter:function(a){a=new q;a.resolve(!0);return a},getSelectedItems:function(){var a=this.tree.getSelectedItems();return t.map(a,k.hitch(this,function(a){return this.getHandledItem(a)}))},getAllItems:function(){var a=this.tree.getAllItems(),c=[];t.forEach(a,k.hitch(this,function(a){"root"!==a.id&&(a=this.getHandledItem(a),c.push(a))}));return c},
getHandledItem:function(a){return{name:a.name,layerInfo:a.layerInfo}},_isLeafItem:function(a){return a.isLeaf},setCreateMapResponse:function(b){this.createMapResponse=b;c.getInstance(this.createMapResponse.map,this.createMapResponse.itemInfo).then(k.hitch(this,function(c){this.layerInfosObj=c;this.own(a(this.layerInfosObj,"layerInfosChanged",k.hitch(this,this._onLayerInfosChanged)));this.updateWhenLayerInfosIsShowInMapChanged&&this.own(a(this.layerInfosObj,"layerInfosIsShowInMapChanged",k.hitch(this,
this._onLayerInfosIsShowInMapChanged)));this._buildTree(this.layerInfosObj)}))},_onLayerInfosChanged:function(a,c){this._buildTree(this.layerInfosObj);this.emit("update")},_onLayerInfosIsShowInMapChanged:function(a){this._buildTree(this.layerInfosObj);this.emit("update")},_buildTree:function(a){this._clear();p.setStyle(this.errorTipSection,"display","block");var c=a.getLayerInfoArray(),c=c.concat(a.getTableInfoArray());0!==c.length&&(p.setStyle(this.errorTipSection,"display","none"),t.forEach(c,k.hitch(this,
function(a){this._addDirectLayerInfo(a)})))},_addDirectLayerInfo:function(a){a&&a.getLayerObject().then(k.hitch(this,function(){this._addItem("root",a)}),k.hitch(this,function(a){console.error(a)}))},_clear:function(){var a=this._store.query({parent:"root"});t.forEach(a,k.hitch(this,function(a){a&&"root"!==a.id&&this._store.remove(a.id)}))},_addItem:function(a,c){var b=null,d=c.getLayerType(),e=this.filter(c);r({layerType:d,valid:e}).then(k.hitch(this,function(d){if(d.valid){var e=k.hitch(this,function(e,
k){this._id++;b={name:c.title||"",parent:a,layerInfo:c,type:d.layerType,layerClass:c.layerObject.declaredClass,id:this._id.toString(),isLeaf:e,hasChildren:k};this._store.add(b)}),g=c.getSubLayers(),u=0===g.length;u?e(u,!1):(g=t.map(g,k.hitch(this,function(a){return this.filter(a)})),r(g).then(k.hitch(this,function(a){(a=t.some(a,function(a){return a}))&&e(u,a)})))}}))},_getRootItem:function(){return{id:"root",name:"Map Root",type:"root",isLeaf:!1,hasChildren:!0}},_createTree:function(){var a=this._getRootItem(),
a=new b({data:[a],getChildren:function(a){return this.query({parent:a.id})}});this._store=new g(a);a=new n({store:this._store,query:{id:"root"},mayHaveChildren:k.hitch(this,this._mayHaveChildren)});this.tree=new w({multiple:this.multiple,model:a,showRoot:!1,isLeafItem:k.hitch(this,this._isLeafItem),style:{width:"100%"},onOpen:k.hitch(this,function(a,c){"root"!==a.id&&this._onTreeOpen(a,c)}),onClick:k.hitch(this,function(a,c,b){this._onTreeClick(a,c,b);this.emit("tree-click",a,c,b)}),getIconStyle:k.hitch(this,
function(a,c){var b=null;if(!a||"root"===a.id)return null;var d={width:"20px",height:"20px",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundImage:""},e=window.location.protocol+"//"+window.location.host+require.toUrl("jimu"),k=this._getIconImageName(a,c);k&&(d.backgroundImage="url("+e+"/css/images/"+k+")",b=d);return b})});p.addClass(this.tree.domNode,this._treeClass);this.tree.placeAt(this.shelter.domNode,"before")},_mayHaveChildren:function(a){return a.hasChildren},_getIconImageName:function(a,
c){var b="";if("ArcGISDynamicMapServiceLayer"===a.type||"ArcGISTiledMapServiceLayer"===a.type)b=c?"mapserver_open.png":"mapserver_close.png";else if("GroupLayer"===a.type)b=c?"group_layer2.png":"group_layer1.png";else if("FeatureLayer"===a.type){var d=x.getTypeByGeometryType(a.layerInfo.layerObject.geometryType);"point"===d?b="point_layer1.png":"polyline"===d?b="line_layer1.png":"polygon"===d&&(b="polygon_layer1.png")}else b="Table"===a.type?"table.png":"ArcGISImageServiceLayer"===a.type||"ArcGISImageServiceVectorLayer"===
a.type?"image_layer.png":c?"mapserver_open.png":"mapserver_close.png";return b},_onTreeOpen:function(a,c){if("root"!==a.id){var b=[],d=[],b=a.layerInfo.getSubLayers();a.checked||(this.shelter.show(),d=t.map(b,k.hitch(this,function(a){return a.getLayerObject()})),r(d).then(k.hitch(this,function(){this.domNode&&(t.forEach(b,k.hitch(this,function(c){this._addItem(a.id,c)})),a.checked=!0,this.shelter.hide())}),k.hitch(this,function(a){console.error(a);this.shelter.hide()})))}},_onTreeClick:function(a,
c,b){},destroy:function(){this.shelter&&this.shelter.destroy();this.tree&&this.tree.destroy();this.shelter=null;this.tree.destroy();this.inherited(arguments)}});z.createFilterByLayerType=function(a){k.isArrayLike(a)||(a=[]);return function(c){var b=new q;if(0===a.length)b.resolve(!0);else{var d=[];c.traversal(function(a){d.push(a.getLayerType())});r(d).then(function(c){for(var d=0;d<c.length;d++)for(var e=0;e<a.length;e++)if(c[d]===a[e]){b.resolve(!0);return}b.resolve(!1)},function(a){console.error(a);
b.reject(a)})}return b}};z.createFeaturelayerFilter=function(a,c,b){var d=["point","polyline","polygon"];a&&0<a.length?(a=t.filter(a,function(a){return 0<=d.indexOf(a)}),0===a.length&&(a=d)):a=d;return function(d){var e=new q,k=d.getLayerType();d=d.getLayerObject();r({layerType:k,layerObject:d}).then(function(d){var k=d.layerType;d=d.layerObject;"ArcGISDynamicMapServiceLayer"===k?e.resolve(!0):"ArcGISTiledMapServiceLayer"===k?e.resolve(!0):"GroupLayer"===k?e.resolve(!0):"FeatureCollection"===k?e.resolve(!0):
"FeatureLayer"===k?(k=x.getTypeByGeometryType(d.geometryType),k=0<=t.indexOf(a,k),d.url?(d=x.isFeaturelayerUrlSupportQuery(d.url,d.capabilities),e.resolve(k&&d)):e.resolve(c&&k)):"Table"===k?(d=x.isFeaturelayerUrlSupportQuery(d.url,d.capabilities),e.resolve(b&&d)):e.resolve(!1)},function(a){console.log(a);e.reject(a)});return e}};z.createImageServiceLayerFilter=function(a){return function(c){var b=new q,d=c.getLayerType();c=c.getLayerObject();r({layerType:d,layerObject:c}).then(function(c){var d=
c.layerType;"ArcGISImageServiceLayer"===d||"ArcGISImageServiceVectorLayer"===d?a?x.isImageServiceSupportQuery(c.layerObject.capabilities)?b.resolve(!0):b.resolve(!1):b.resolve(!0):b.resolve(!1)},function(a){console.log(a);b.reject(a)});return b}};z.createQueryableLayerFilter=function(){var a=z.createFeaturelayerFilter(["point","polyline","polygon"],!1,!0),c=z.createImageServiceLayerFilter(!0);return z.orCombineFilters([a,c])};z.andCombineFilters=function(a){return z._combineFilters(a,!0)};z.orCombineFilters=
function(a){return z._combineFilters(a,!1)};z._combineFilters=function(a,c){return function(b){var d=new q,e=t.map(a,function(a){return a(b)});r(e).then(function(a){var b=!1,b=c?t.every(a,function(a){return a}):t.some(a,function(a){return a});d.resolve(b)},function(a){console.error(a);d.reject(a)});return d}};return z})},"dojo/store/Observable":function(){define(["../_base/kernel","../_base/lang","../when","../_base/array"],function(h,e,l,f){h=function(d){function a(a,b){var e=d[a];e&&(d[a]=function(g){var f;
"put"===a&&(f=d.getIdentity(g));if(n)return e.apply(this,arguments);n=!0;try{var h=e.apply(this,arguments);l(h,function(a){b("object"==typeof a&&a||g,f)});return h}finally{n=!1}})}var b=[],h=0;d=e.delegate(d);d.notify=function(a,d){h++;for(var e=b.slice(),g=0,f=e.length;g<f;g++)e[g](a,d)};var g=d.query;d.query=function(a,k){k=k||{};var p=g.apply(this,arguments);if(p&&p.forEach){var n=e.mixin({},k);delete n.start;delete n.count;var x=d.queryEngine&&d.queryEngine(a,n),w=h,c=[],y;p.observe=function(a,
e){1==c.push(a)&&b.push(y=function(a,b){l(p,function(g){var l=g.length!=k.count,p,n;if(++w!=h)throw Error("Query is out of date, you must observe() the query prior to any data modifications");var r,t=-1,y=-1;if(void 0!==b){var z=[].concat(g);x&&!a&&(z=x(g));p=0;for(n=g.length;p<n;p++){var C=g[p];if(d.getIdentity(C)==b&&!(0>z.indexOf(C))){r=C;t=p;(x||!a)&&g.splice(p,1);break}}}if(x){if(a&&(x.matches?x.matches(a):x([a]).length))p=-1<t?t:g.length,g.splice(p,0,a),y=f.indexOf(x(g),a),g.splice(p,1),k.start&&
0==y||!l&&y==g.length?y=-1:g.splice(y,0,a)}else a&&(void 0!==b?y=t:k.start||(y=d.defaultIndex||0,g.splice(y,0,a)));if((-1<t||-1<y)&&(e||!x||t!=y)){l=c.slice();for(p=0;g=l[p];p++)g(a||r,t,y)}})});var g={};g.remove=g.cancel=function(){var d=f.indexOf(c,a);-1<d&&(c.splice(d,1),c.length||b.splice(f.indexOf(b,y),1))};return g}}return p};var n;a("put",function(a,b){d.notify(a,b)});a("add",function(a){d.notify(a)});a("remove",function(a){d.notify(void 0,a)});return d};e.setObject("dojo.store.Observable",
h);return h})},"dijit/tree/ObjectStoreModel":function(){define("dojo/_base/array dojo/aspect dojo/_base/declare dojo/Deferred dojo/_base/lang dojo/when ../Destroyable".split(" "),function(h,e,l,f,d,a,b){return l("dijit.tree.ObjectStoreModel",b,{store:null,labelAttr:"name",labelType:"text",root:null,query:null,constructor:function(a){d.mixin(this,a);this.childrenCache={}},getRoot:function(b,e){if(this.root)b(this.root);else{var f=this.store.query(this.query);f.then&&this.own(f);a(f,d.hitch(this,function(a){if(1!=
a.length)throw Error("dijit.tree.ObjectStoreModel: root query returned "+a.length+" items, but must return exactly one");this.root=a[0];b(this.root);f.observe&&f.observe(d.hitch(this,function(a){this.onChange(a)}),!0)}),e)}},mayHaveChildren:function(){return!0},getChildren:function(b,e,f){var h=this.store.getIdentity(b);if(this.childrenCache[h])a(this.childrenCache[h],e,f);else{var k=this.childrenCache[h]=this.store.getChildren(b);k.then&&this.own(k);k.observe&&this.own(k.observe(d.hitch(this,function(e,
g,f){this.onChange(e);g!=f&&a(k,d.hitch(this,"onChildrenChange",b))}),!0));a(k,e,f)}},isItem:function(){return!0},getIdentity:function(a){return this.store.getIdentity(a)},getLabel:function(a){return a[this.labelAttr]},newItem:function(a,b,d,e){return this.store.put(a,{parent:b,before:e})},pasteItem:function(a,b,e,l,k,p){var t=new f;if(b===e&&!l&&!p)return t.resolve(!0),t;b&&!l?this.getChildren(b,d.hitch(this,function(d){d=[].concat(d);var k=h.indexOf(d,a);d.splice(k,1);this.onChildrenChange(b,d);
t.resolve(this.store.put(a,{overwrite:!0,parent:e,oldParent:b,before:p}))})):t.resolve(this.store.put(a,{overwrite:!0,parent:e,oldParent:b,before:p}));return t},onChange:function(){},onChildrenChange:function(){},onDelete:function(){}})})},"jimu/dijit/_Tree":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/_TreeNode.html dojo/_base/lang dojo/_base/html dojo/_base/array dojo/_base/event dojo/query dojo/aspect dojo/on dojo/Evented dijit/registry dijit/Tree jimu/utils".split(" "),
function(h,e,l,f,d,a,b,q,g,n,r,k,p,t,x){var w=h([t._TreeNode,k],{templateString:f,declaredClass:"jimu._TreeNode",isLeaf:!1,groupId:"",postCreate:function(){this.inherited(arguments);a.addClass(this.domNode,"jimu-tree-node");this.isLeaf=!!this.isLeaf;this.groupId?(this.checkNode=a.toDom('\x3cinput type\x3d"radio" /\x3e'),this.checkNode.name=this.groupId):this.checkNode=a.toDom('\x3cinput type\x3d"checkbox" /\x3e');a.addClass(this.checkNode,"jimu-tree-check-node");a.place(this.checkNode,this.contentNode,
"first");this.own(r(this.checkNode,"click",d.hitch(this,this._onClick)));this.isLeaf?this.groupId?a.setStyle(this.checkNode,"display","none"):a.setStyle(this.checkNode,"display","inline"):a.setStyle(this.checkNode,"display","none");this.isLeaf?a.addClass(this.domNode,"jimu-tree-leaf-node"):a.addClass(this.domNode,"jimu-tree-not-leaf-node")},select:function(){this.isLeaf&&(this.checkNode.checked=!0,a.addClass(this.domNode,"jimu-tree-selected-leaf-node"))},unselect:function(){this.isLeaf&&(this.checkNode.checked=
!1,a.removeClass(this.domNode,"jimu-tree-selected-leaf-node"))},toggleSelect:function(){this.isLeaf&&(this.checkNode.checked?this.unselect():this.select())},_onClick:function(a){(a.target||a.srcElement)===this.checkNode?this.tree._onCheckNodeClick(this,this.checkNode.checked,a):this.tree._onClick(this,a)},_onChange:function(){this.isLeaf&&setTimeout(d.hitch(this,function(){this.checkNode.checked?this.emit("tn-select",this):this.emit("tn-unselect",this)}),100)},destroy:function(){delete this.tree;
this.inherited(arguments)}});return h([t,k],{declaredClass:"jimu._Tree",openOnClick:!0,multiple:!0,uniqueId:"",showRoot:!1,postMixInProperties:function(){this.inherited(arguments);this.uniqueId="tree_"+x.getRandomString()},postCreate:function(){this.inherited(arguments);a.addClass(this.domNode,"jimu-tree");this.own(n.before(this,"onClick",d.hitch(this,this._jimuBeforeClick)));this.rootLoadingIndicator&&a.setStyle(this.rootLoadingIndicator,"display","none");this.dndController.singular=!0},removeItem:function(a){this.model.store.remove(a)},
getAllItems:function(){var a=this.getAllTreeNodeWidgets();return b.map(a,d.hitch(this,function(a){var c=a.item;c.selected=a.checkNode.checked;return c}))},getSelectedItems:function(){var a=this.getAllTreeNodeWidgets(),a=b.filter(a,d.hitch(this,function(a){return a.checkNode.checked}));return b.map(a,d.hitch(this,function(a){return a.item}))},getFilteredItems:function(a){var e=this.getAllTreeNodeWidgets(),e=b.map(e,d.hitch(this,function(a){var c=a.item;c.selected=a.checkNode.checked;return c}));return b.filter(e,
d.hitch(this,function(b){return a(b)}))},getTreeNodeByItemId:function(a){for(var b=this._getAllTreeNodeDoms(),d=0;d<b.length;d++){var e=p.byNode(b[d]);if(e.item.id.toString()===a.toString())return e}return null},selectItem:function(a){(a=this.getTreeNodeByItemId(a))&&a.isLeaf&&this.selectNodeWidget(a)},unselectItem:function(a){(a=this.getTreeNodeByItemId(a))&&a.isLeaf&&a.unselect()},getAllLeafTreeNodeWidgets:function(){var a=this.getAllTreeNodeWidgets();return b.filter(a,d.hitch(this,function(a){return a.isLeaf}))},
getAllTreeNodeWidgets:function(){var a=this._getAllTreeNodeDoms();return b.map(a,d.hitch(this,function(a){return p.byNode(a)}))},isLeafItem:function(a){return a&&a.isLeaf},_getAllTreeNodeDoms:function(){return g(".dijitTreeNode",this.domNode)},_createTreeNode:function(a){a.isLeaf=this.isLeafItem(a.item);this.multiple||(a.groupId=this.uniqueId);return new w(a)},_onTreeNodeSelect:function(a){this.emit("item-select",{item:a.item,treeNode:a})},_onTreeNodeUnselect:function(a){this.emit("item-unselect",
{item:a.item,treeNode:a})},selectNodeWidget:function(a){this.multiple||this.unselectAllLeafNodeWidgets();a.select()},_jimuBeforeClick:function(c,b,d){b.isLeaf&&(a.hasClass(d.target||d.srcElement,"jimu-tree-check-node")||(this.multiple?b.toggleSelect():this.selectNodeWidget(b)));return arguments},_onCheckNodeClick:function(a,b,e){!this.multiple&&b&&this.unselectAllLeafNodeWidgets();q.stop(e);this.focusNode(a);setTimeout(d.hitch(this,function(){b?this.selectNodeWidget(a):a.unselect();this.onClick(a.item,
a,e)}),0)},unselectAllLeafNodeWidgets:function(){var a=this.getAllLeafTreeNodeWidgets();b.forEach(a,d.hitch(this,function(a){a.unselect()}))}})})},"dijit/Tree":function(){define("dojo/_base/array dojo/aspect dojo/cookie dojo/_base/declare dojo/Deferred dojo/promise/all dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/errors/create dojo/fx dojo/has dojo/_base/kernel dojo/keys dojo/_base/lang dojo/on dojo/topic dojo/touch dojo/when ./a11yclick ./focus ./registry ./_base/manager ./_Widget ./_TemplatedMixin ./_Container ./_Contained ./_CssStateMixin ./_KeyNavMixin dojo/text!./templates/TreeNode.html dojo/text!./templates/Tree.html ./tree/TreeStoreModel ./tree/ForestStoreModel ./tree/_dndSelector dojo/query!css2".split(" "),
function(h,e,l,f,d,a,b,q,g,n,r,k,p,t,x,w,c,y,z,m,C,D,B,u,v,s,E,A,J,K,L,H,O,M,N){function F(a){return w.delegate(a.promise||a,{addCallback:function(a){this.then(a)},addErrback:function(a){this.otherwise(a)}})}var I=f("dijit._TreeNode",[v,s,E,A,J],{item:null,isTreeNode:!0,label:"",_setLabelAttr:function(a){this.labelNode["html"==this.labelType?"innerHTML":"innerText"in this.labelNode?"innerText":"textContent"]=a;this._set("label",a);p("dojo-bidi")&&this.applyTextDir(this.labelNode)},labelType:"text",
isExpandable:null,isExpanded:!1,state:"NotLoaded",templateString:L,baseClass:"dijitTreeNode",cssStateNodes:{rowNode:"dijitTreeRow"},_setTooltipAttr:{node:"rowNode",type:"attribute",attribute:"title"},buildRendering:function(){this.inherited(arguments);this._setExpando();this._updateItemClasses(this.item);this.isExpandable&&this.labelNode.setAttribute("aria-expanded",this.isExpanded);this.setSelected(!1)},_setIndentAttr:function(a){var c=Math.max(a,0)*this.tree._nodePixelIndent+"px";n.set(this.domNode,
"backgroundPosition",c+" 0px");n.set(this.rowNode,this.isLeftToRight()?"paddingLeft":"paddingRight",c);h.forEach(this.getChildren(),function(c){c.set("indent",a+1)});this._set("indent",a)},markProcessing:function(){this.state="Loading";this._setExpando(!0)},unmarkProcessing:function(){this._setExpando(!1)},_updateItemClasses:function(a){var c=this.tree,b=c.model;c._v10Compat&&a===b.root&&(a=null);this._applyClassAndStyle(a,"icon","Icon");this._applyClassAndStyle(a,"label","Label");this._applyClassAndStyle(a,
"row","Row");this.tree._startPaint(!0)},_applyClassAndStyle:function(a,c,b){var d="_"+c+"Class";c+="Node";var e=this[d];this[d]=this.tree["get"+b+"Class"](a,this.isExpanded);q.replace(this[c],this[d]||"",e||"");n.set(this[c],this.tree["get"+b+"Style"](a,this.isExpanded)||{})},_updateLayout:function(){var a=this.getParent(),a=!a||!a.rowNode||"none"==a.rowNode.style.display;q.toggle(this.domNode,"dijitTreeIsRoot",a);q.toggle(this.domNode,"dijitTreeIsLast",!a&&!this.getNextSibling())},_setExpando:function(a){var c=
["dijitTreeExpandoLoading","dijitTreeExpandoOpened","dijitTreeExpandoClosed","dijitTreeExpandoLeaf"];a=a?0:this.isExpandable?this.isExpanded?1:2:3;q.replace(this.expandoNode,c[a],c);this.expandoNodeText.innerHTML=["*","-","+","*"][a]},expand:function(){if(this._expandDeferred)return F(this._expandDeferred);this._collapseDeferred&&(this._collapseDeferred.cancel(),delete this._collapseDeferred);this.isExpanded=!0;this.labelNode.setAttribute("aria-expanded","true");(this.tree.showRoot||this!==this.tree.rootNode)&&
this.containerNode.setAttribute("role","group");q.add(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);this==this.tree.rootNode&&this.tree.showRoot&&this.tree.domNode.setAttribute("aria-expanded","true");var a=k.wipeIn({node:this.containerNode,duration:u.defaultDuration}),c=this._expandDeferred=new d(function(){a.stop()});e.after(a,"onEnd",function(){c.resolve(!0)},!0);a.play();return F(c)},collapse:function(){if(this._collapseDeferred)return F(this._collapseDeferred);
this._expandDeferred&&(this._expandDeferred.cancel(),delete this._expandDeferred);this.isExpanded=!1;this.labelNode.setAttribute("aria-expanded","false");this==this.tree.rootNode&&this.tree.showRoot&&this.tree.domNode.setAttribute("aria-expanded","false");q.remove(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);var a=k.wipeOut({node:this.containerNode,duration:u.defaultDuration}),c=this._collapseDeferred=new d(function(){a.stop()});e.after(a,"onEnd",
function(){c.resolve(!0)},!0);a.play();return F(c)},indent:0,setChildItems:function(c){var d=this.tree,e=d.model,k=[],g=d.focusedChild,f=this.getChildren();h.forEach(f,function(a){E.prototype.removeChild.call(this,a)},this);this.defer(function(){h.forEach(f,function(a){if(!a._destroyed&&!a.getParent()){d.dndController.removeTreeNode(a);var c=function(a){var b=e.getIdentity(a.item),k=d._itemNodesMap[b];1==k.length?delete d._itemNodesMap[b]:(b=h.indexOf(k,a),-1!=b&&k.splice(b,1));h.forEach(a.getChildren(),
c)};c(a);if(d.persist){var k=h.map(a.getTreePath(),function(a){return d.model.getIdentity(a)}).join("/"),f;for(f in d._openedNodes)f.substr(0,k.length)==k&&delete d._openedNodes[f];d._saveExpandedNodes()}d.lastFocusedChild&&!b.isDescendant(d.lastFocusedChild,d.domNode)&&delete d.lastFocusedChild;g&&!b.isDescendant(g,d.domNode)&&d.focus();a.destroyRecursive()}})});this.state="Loaded";c&&0<c.length?(this.isExpandable=!0,h.forEach(c,function(a){var c=e.getIdentity(a),b=d._itemNodesMap[c],g;if(b)for(var f=
0;f<b.length;f++)if(b[f]&&!b[f].getParent()){g=b[f];g.set("indent",this.indent+1);break}g||(g=this.tree._createTreeNode({item:a,tree:d,isExpandable:e.mayHaveChildren(a),label:d.getLabel(a),labelType:d.model&&d.model.labelType||"text",tooltip:d.getTooltip(a),ownerDocument:d.ownerDocument,dir:d.dir,lang:d.lang,textDir:d.textDir,indent:this.indent+1}),b?b.push(g):d._itemNodesMap[c]=[g]);this.addChild(g);(this.tree.autoExpand||this.tree._state(g))&&k.push(d._expandNode(g))},this),h.forEach(this.getChildren(),
function(a){a._updateLayout()})):this.isExpandable=!1;this._setExpando&&this._setExpando(!1);this._updateItemClasses(this.item);c=a(k);this.tree._startPaint(c);return F(c)},getTreePath:function(){for(var a=this,c=[];a&&a!==this.tree.rootNode;)c.unshift(a.item),a=a.getParent();c.unshift(this.tree.rootNode.item);return c},getIdentity:function(){return this.tree.model.getIdentity(this.item)},removeChild:function(a){this.inherited(arguments);var c=this.getChildren();0==c.length&&(this.isExpandable=!1,
this.collapse());h.forEach(c,function(a){a._updateLayout()})},makeExpandable:function(){this.isExpandable=!0;this._setExpando(!1)},setSelected:function(a){this.labelNode.setAttribute("aria-selected",a?"true":"false");q.toggle(this.rowNode,"dijitTreeRowSelected",a)},focus:function(){D.focus(this.focusNode)}});p("dojo-bidi")&&I.extend({_setTextDirAttr:function(a){if(a&&(this.textDir!=a||!this._created))this._set("textDir",a),this.applyTextDir(this.labelNode),h.forEach(this.getChildren(),function(c){c.set("textDir",
a)},this)}});var G=f("dijit.Tree",[v,K,s,J],{baseClass:"dijitTree",store:null,model:null,query:null,label:"",showRoot:!0,childrenAttr:["children"],paths:[],path:[],selectedItems:null,selectedItem:null,openOnClick:!1,openOnDblClick:!1,templateString:H,persist:!1,autoExpand:!1,dndController:N,dndParams:"onDndDrop itemCreator onDndCancel checkAcceptance checkItemAcceptance dragThreshold betweenThreshold".split(" "),onDndDrop:null,itemCreator:null,onDndCancel:null,checkAcceptance:null,checkItemAcceptance:null,
dragThreshold:5,betweenThreshold:0,_nodePixelIndent:19,_publish:function(a,c){y.publish(this.id,w.mixin({tree:this,event:a},c||{}))},postMixInProperties:function(){this.tree=this;this.autoExpand&&(this.persist=!1);this._itemNodesMap={};!this.cookieName&&this.id&&(this.cookieName=this.id+"SaveStateCookie");this.expandChildrenDeferred=new d;this.pendingCommandsPromise=this.expandChildrenDeferred.promise;this.inherited(arguments)},postCreate:function(){this._initState();var a=this;this.own(c(this.containerNode,
c.selector(".dijitTreeNode",z.enter),function(c){a._onNodeMouseEnter(B.byNode(this),c)}),c(this.containerNode,c.selector(".dijitTreeNode",z.leave),function(c){a._onNodeMouseLeave(B.byNode(this),c)}),c(this.containerNode,c.selector(".dijitTreeRow",C.press),function(c){a._onNodePress(B.getEnclosingWidget(this),c)}),c(this.containerNode,c.selector(".dijitTreeRow",C),function(c){a._onClick(B.getEnclosingWidget(this),c)}),c(this.containerNode,c.selector(".dijitTreeRow","dblclick"),function(c){a._onDblClick(B.getEnclosingWidget(this),
c)}));this.model||this._store2model();this.own(e.after(this.model,"onChange",w.hitch(this,"_onItemChange"),!0),e.after(this.model,"onChildrenChange",w.hitch(this,"_onItemChildrenChange"),!0),e.after(this.model,"onDelete",w.hitch(this,"_onItemDelete"),!0));this.inherited(arguments);if(this.dndController){w.isString(this.dndController)&&(this.dndController=w.getObject(this.dndController));for(var b={},d=0;d<this.dndParams.length;d++)this[this.dndParams[d]]&&(b[this.dndParams[d]]=this[this.dndParams[d]]);
this.dndController=new this.dndController(this,b)}this._load();this.onLoadDeferred=F(this.pendingCommandsPromise);this.onLoadDeferred.then(w.hitch(this,"onLoad"))},_store2model:function(){this._v10Compat=!0;t.deprecated("Tree: from version 2.0, should specify a model object rather than a store/query");var a={id:this.id+"_ForestStoreModel",store:this.store,query:this.query,childrenAttrs:this.childrenAttr};this.params.mayHaveChildren&&(a.mayHaveChildren=w.hitch(this,"mayHaveChildren"));this.params.getItemChildren&&
(a.getChildren=w.hitch(this,function(a,c,b){this.getItemChildren(this._v10Compat&&a===this.model.root?null:a,c,b)}));this.model=new M(a);this.showRoot=Boolean(this.label)},onLoad:function(){},_load:function(){this.model.getRoot(w.hitch(this,function(a){var c=this.rootNode=this.tree._createTreeNode({item:a,tree:this,isExpandable:!0,label:this.label||this.getLabel(a),labelType:this.model.labelType||"text",textDir:this.textDir,indent:this.showRoot?0:-1});this.showRoot?(this.domNode.setAttribute("aria-multiselectable",
!this.dndController.singular),this.rootLoadingIndicator.style.display="none"):(c.rowNode.style.display="none",this.domNode.setAttribute("role","presentation"),this.domNode.removeAttribute("aria-expanded"),this.domNode.removeAttribute("aria-multiselectable"),this["aria-label"]?(c.containerNode.setAttribute("aria-label",this["aria-label"]),this.domNode.removeAttribute("aria-label")):this["aria-labelledby"]&&(c.containerNode.setAttribute("aria-labelledby",this["aria-labelledby"]),this.domNode.removeAttribute("aria-labelledby")),
c.labelNode.setAttribute("role","presentation"),c.labelNode.removeAttribute("aria-selected"),c.containerNode.setAttribute("role","tree"),c.containerNode.setAttribute("aria-expanded","true"),c.containerNode.setAttribute("aria-multiselectable",!this.dndController.singular));this.containerNode.appendChild(c.domNode);a=this.model.getIdentity(a);this._itemNodesMap[a]?this._itemNodesMap[a].push(c):this._itemNodesMap[a]=[c];c._updateLayout();this._expandNode(c).then(w.hitch(this,function(){this._destroyed||
(this.rootLoadingIndicator.style.display="none",this.expandChildrenDeferred.resolve(!0))}))}),w.hitch(this,function(a){console.error(this,": error loading root: ",a)}))},getNodesByItem:function(a){if(!a)return[];a=w.isString(a)?a:this.model.getIdentity(a);return[].concat(this._itemNodesMap[a])},_setSelectedItemAttr:function(a){this.set("selectedItems",[a])},_setSelectedItemsAttr:function(a){var c=this;return this.pendingCommandsPromise=this.pendingCommandsPromise.always(w.hitch(this,function(){var b=
h.map(a,function(a){return!a||w.isString(a)?a:c.model.getIdentity(a)}),d=[];h.forEach(b,function(a){d=d.concat(c._itemNodesMap[a]||[])});this.set("selectedNodes",d)}))},_setPathAttr:function(a){return a.length?F(this.set("paths",[a]).then(function(a){return a[0]})):F(this.set("paths",[]).then(function(a){return a[0]}))},_setPathsAttr:function(c){function b(a,c){var e=a.shift(),k=h.filter(c,function(a){return a.getIdentity()==e})[0];if(k)return a.length?d._expandNode(k).then(function(){return b(a,
k.getChildren())}):k;throw new G.PathError("Could not expand path at "+e);}var d=this;return F(this.pendingCommandsPromise=this.pendingCommandsPromise.always(function(){return a(h.map(c,function(a){a=h.map(a,function(a){return a&&w.isObject(a)?d.model.getIdentity(a):a});if(a.length)return b(a,[d.rootNode]);throw new G.PathError("Empty path");}))}).then(function(a){d.set("selectedNodes",a);return d.paths}))},_setSelectedNodeAttr:function(a){this.set("selectedNodes",[a])},_setSelectedNodesAttr:function(a){this.dndController.setSelection(a)},
expandAll:function(){function c(d){return b._expandNode(d).then(function(){var b=h.filter(d.getChildren()||[],function(a){return a.isExpandable});return a(h.map(b,c))})}var b=this;return F(c(this.rootNode))},collapseAll:function(){function c(d){var e=h.filter(d.getChildren()||[],function(a){return a.isExpandable}),e=a(h.map(e,c));return!d.isExpanded||d==b.rootNode&&!b.showRoot?e:e.then(function(){return b._collapseNode(d)})}var b=this;return F(c(this.rootNode))},mayHaveChildren:function(){},getItemChildren:function(){},
getLabel:function(a){return this.model.getLabel(a)},getIconClass:function(a,c){return!a||this.model.mayHaveChildren(a)?c?"dijitFolderOpened":"dijitFolderClosed":"dijitLeaf"},getLabelClass:function(){},getRowClass:function(){},getIconStyle:function(){},getLabelStyle:function(){},getRowStyle:function(){},getTooltip:function(){return""},_onDownArrow:function(a,c){var b=this._getNext(c);b&&b.isTreeNode&&this.focusNode(b)},_onUpArrow:function(a,c){var b=c.getPreviousSibling();if(b)for(c=b;c.isExpandable&&
c.isExpanded&&c.hasChildren();)b=c.getChildren(),c=b[b.length-1];else if(b=c.getParent(),this.showRoot||b!==this.rootNode)c=b;c&&c.isTreeNode&&this.focusNode(c)},_onRightArrow:function(a,c){c.isExpandable&&!c.isExpanded?this._expandNode(c):c.hasChildren()&&(c=c.getChildren()[0])&&c.isTreeNode&&this.focusNode(c)},_onLeftArrow:function(a,c){if(c.isExpandable&&c.isExpanded)this._collapseNode(c);else{var b=c.getParent();b&&(b.isTreeNode&&(this.showRoot||b!==this.rootNode))&&this.focusNode(b)}},focusLastChild:function(){var a=
this._getLast();a&&a.isTreeNode&&this.focusNode(a)},_getFirst:function(){return this.showRoot?this.rootNode:this.rootNode.getChildren()[0]},_getLast:function(){for(var a=this.rootNode;a.isExpanded;){var c=a.getChildren();if(!c.length)break;a=c[c.length-1]}return a},_getNext:function(a){if(a.isExpandable&&a.isExpanded&&a.hasChildren())return a.getChildren()[0];for(;a&&a.isTreeNode;){var c=a.getNextSibling();if(c)return c;a=a.getParent()}return null},childSelector:".dijitTreeRow",isExpandoNode:function(a,
c){return b.isDescendant(a,c.expandoNode)||b.isDescendant(a,c.expandoNodeText)},_onNodePress:function(a,c){this.focusNode(a)},__click:function(a,c,b,d){var e=this.isExpandoNode(c.target,a);a.isExpandable&&(b||e)?this._onExpandoClick({node:a}):(this._publish("execute",{item:a.item,node:a,evt:c}),this[d](a.item,a,c),this.focusNode(a));c.stopPropagation();c.preventDefault()},_onClick:function(a,c){this.__click(a,c,this.openOnClick,"onClick")},_onDblClick:function(a,c){this.__click(a,c,this.openOnDblClick,
"onDblClick")},_onExpandoClick:function(a){a=a.node;this.focusNode(a);a.isExpanded?this._collapseNode(a):this._expandNode(a)},onClick:function(){},onDblClick:function(){},onOpen:function(){},onClose:function(){},_getNextNode:function(a){t.deprecated(this.declaredClass+"::_getNextNode(node) is deprecated. Use _getNext(node) instead.","","2.0");return this._getNext(a)},_getRootOrFirstNode:function(){t.deprecated(this.declaredClass+"::_getRootOrFirstNode() is deprecated. Use _getFirst() instead.","",
"2.0");return this._getFirst()},_collapseNode:function(a){a._expandNodeDeferred&&delete a._expandNodeDeferred;if("Loading"!=a.state&&a.isExpanded){var c=a.collapse();this.onClose(a.item,a);this._state(a,!1);this._startPaint(c);return c}},_expandNode:function(a){if(a._expandNodeDeferred)return a._expandNodeDeferred;var c=this.model,b=a.item,e=this;a._loadDeferred||(a.markProcessing(),a._loadDeferred=new d,c.getChildren(b,function(c){a.unmarkProcessing();a.setChildItems(c).then(function(){a._loadDeferred.resolve(c)})},
function(c){console.error(e,": error loading "+a.label+" children: ",c);a._loadDeferred.reject(c)}));c=a._loadDeferred.then(w.hitch(this,function(){var c=a.expand();this.onOpen(a.item,a);this._state(a,!0);return c}));this._startPaint(c);return c},focusNode:function(a){var c=this.domNode.scrollLeft;this.focusChild(a);this.domNode.scrollLeft=c},_onNodeMouseEnter:function(){},_onNodeMouseLeave:function(){},_onItemChange:function(a){var c=this.model.getIdentity(a);if(c=this._itemNodesMap[c]){var b=this.getLabel(a),
d=this.getTooltip(a);h.forEach(c,function(c){c.set({item:a,label:b,tooltip:d});c._updateItemClasses(a)})}},_onItemChildrenChange:function(a,c){var b=this.model.getIdentity(a);(b=this._itemNodesMap[b])&&h.forEach(b,function(a){a.setChildItems(c)})},_onItemDelete:function(a){a=this.model.getIdentity(a);var c=this._itemNodesMap[a];c&&(h.forEach(c,function(a){this.dndController.removeTreeNode(a);var c=a.getParent();c&&c.removeChild(a);this.lastFocusedChild&&!b.isDescendant(this.lastFocusedChild,this.domNode)&&
delete this.lastFocusedChild;this.focusedChild&&!b.isDescendant(this.focusedChild,this.domNode)&&this.focus();a.destroyRecursive()},this),delete this._itemNodesMap[a])},_initState:function(){this._openedNodes={};if(this.persist&&this.cookieName){var a=l(this.cookieName);a&&h.forEach(a.split(","),function(a){this._openedNodes[a]=!0},this)}},_state:function(a,c){if(!this.persist)return!1;var b=h.map(a.getTreePath(),function(a){return this.model.getIdentity(a)},this).join("/");if(1===arguments.length)return this._openedNodes[b];
c?this._openedNodes[b]=!0:delete this._openedNodes[b];this._saveExpandedNodes()},_saveExpandedNodes:function(){if(this.persist&&this.cookieName){var a=[],c;for(c in this._openedNodes)a.push(c);l(this.cookieName,a.join(","),{expires:365})}},destroy:function(){this._curSearch&&(this._curSearch.timer.remove(),delete this._curSearch);this.rootNode&&this.rootNode.destroyRecursive();this.dndController&&!w.isString(this.dndController)&&this.dndController.destroy();this.rootNode=null;this.inherited(arguments)},
destroyRecursive:function(){this.destroy()},resize:function(a){a&&g.setMarginBox(this.domNode,a);this._nodePixelIndent=g.position(this.tree.indentDetector).w||this._nodePixelIndent;this.expandChildrenDeferred.then(w.hitch(this,function(){this.rootNode.set("indent",this.showRoot?0:-1);this._adjustWidths()}))},_outstandingPaintOperations:0,_startPaint:function(a){this._outstandingPaintOperations++;this._adjustWidthsTimer&&(this._adjustWidthsTimer.remove(),delete this._adjustWidthsTimer);var c=w.hitch(this,
function(){this._outstandingPaintOperations--;0>=this._outstandingPaintOperations&&(!this._adjustWidthsTimer&&this._started)&&(this._adjustWidthsTimer=this.defer("_adjustWidths"))});m(a,c,c)},_adjustWidths:function(){this._adjustWidthsTimer&&(this._adjustWidthsTimer.remove(),delete this._adjustWidthsTimer);this.containerNode.style.width="auto";this.containerNode.style.width=this.domNode.scrollWidth>this.domNode.offsetWidth?"auto":"100%"},_createTreeNode:function(a){return new I(a)},focus:function(){this.lastFocusedChild?
this.focusNode(this.lastFocusedChild):this.focusFirstChild()}});p("dojo-bidi")&&G.extend({_setTextDirAttr:function(a){a&&this.textDir!=a&&(this._set("textDir",a),this.rootNode.set("textDir",a))}});G.PathError=r("TreePathError");G._TreeNode=I;return G})},"dijit/tree/TreeStoreModel":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang"],function(h,e,l,f){return l("dijit.tree.TreeStoreModel",null,{store:null,childrenAttrs:["children"],newItemIdAttr:"id",labelAttr:"",
root:null,query:null,deferItemLoadingUntilExpand:!1,constructor:function(d){f.mixin(this,d);this.connects=[];d=this.store;if(!d.getFeatures()["dojo.data.api.Identity"])throw Error("dijit.tree.TreeStoreModel: store must support dojo.data.Identity");d.getFeatures()["dojo.data.api.Notification"]&&(this.connects=this.connects.concat([e.after(d,"onNew",f.hitch(this,"onNewItem"),!0),e.after(d,"onDelete",f.hitch(this,"onDeleteItem"),!0),e.after(d,"onSet",f.hitch(this,"onSetItem"),!0)]))},destroy:function(){for(var d;d=
this.connects.pop();)d.remove()},getRoot:function(d,a){this.root?d(this.root):this.store.fetch({query:this.query,onComplete:f.hitch(this,function(a){if(1!=a.length)throw Error("dijit.tree.TreeStoreModel: root query returned "+a.length+" items, but must return exactly one");this.root=a[0];d(this.root)}),onError:a})},mayHaveChildren:function(d){return h.some(this.childrenAttrs,function(a){return this.store.hasAttribute(d,a)},this)},getChildren:function(d,a,b){var e=this.store;if(e.isItemLoaded(d)){for(var g=
[],l=0;l<this.childrenAttrs.length;l++)var r=e.getValues(d,this.childrenAttrs[l]),g=g.concat(r);var k=0;this.deferItemLoadingUntilExpand||h.forEach(g,function(a){e.isItemLoaded(a)||k++});0==k?a(g):h.forEach(g,function(d,f){e.isItemLoaded(d)||e.loadItem({item:d,onItem:function(b){g[f]=b;0==--k&&a(g)},onError:b})})}else{var p=f.hitch(this,arguments.callee);e.loadItem({item:d,onItem:function(d){p(d,a,b)},onError:b})}},isItem:function(d){return this.store.isItem(d)},fetchItemByIdentity:function(d){this.store.fetchItemByIdentity(d)},
getIdentity:function(d){return this.store.getIdentity(d)},getLabel:function(d){return this.labelAttr?this.store.getValue(d,this.labelAttr):this.store.getLabel(d)},newItem:function(d,a,b){var e={parent:a,attribute:this.childrenAttrs[0]},g;this.newItemIdAttr&&d[this.newItemIdAttr]?this.fetchItemByIdentity({identity:d[this.newItemIdAttr],scope:this,onItem:function(f){f?this.pasteItem(f,null,a,!0,b):(g=this.store.newItem(d,e))&&void 0!=b&&this.pasteItem(g,a,a,!1,b)}}):(g=this.store.newItem(d,e))&&void 0!=
b&&this.pasteItem(g,a,a,!1,b)},pasteItem:function(d,a,b,e,g){var f=this.store,l=this.childrenAttrs[0];a&&h.forEach(this.childrenAttrs,function(b){if(f.containsValue(a,b,d)){if(!e){var k=h.filter(f.getValues(a,b),function(a){return a!=d});f.setValues(a,b,k)}l=b}});if(b)if("number"==typeof g){var k=f.getValues(b,l).slice();k.splice(g,0,d);f.setValues(b,l,k)}else f.setValues(b,l,f.getValues(b,l).concat(d))},onChange:function(){},onChildrenChange:function(){},onDelete:function(){},onNewItem:function(d,
a){a&&this.getChildren(a.item,f.hitch(this,function(b){this.onChildrenChange(a.item,b)}))},onDeleteItem:function(d){this.onDelete(d)},onSetItem:function(d,a){if(-1!=h.indexOf(this.childrenAttrs,a))this.getChildren(d,f.hitch(this,function(a){this.onChildrenChange(d,a)}));else this.onChange(d)}})})},"dijit/tree/ForestStoreModel":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","./TreeStoreModel"],function(h,e,l,f,d){return e("dijit.tree.ForestStoreModel",
d,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function(a){this.root={store:this,root:!0,id:a.rootId,label:a.rootLabel,children:a.rootChildren}},mayHaveChildren:function(a){return a===this.root||this.inherited(arguments)},getChildren:function(a,b,d){a===this.root?this.root.children?b(this.root.children):this.store.fetch({query:this.query,onComplete:f.hitch(this,function(a){this.root.children=a;b(a)}),onError:d}):this.inherited(arguments)},isItem:function(a){return a===this.root?!0:this.inherited(arguments)},
fetchItemByIdentity:function(a){if(a.identity==this.root.id){var b=a.scope||l.global;a.onItem&&a.onItem.call(b,this.root)}else this.inherited(arguments)},getIdentity:function(a){return a===this.root?this.root.id:this.inherited(arguments)},getLabel:function(a){return a===this.root?this.root.label:this.inherited(arguments)},newItem:function(a,b,d){return b===this.root?(this.onNewRootItem(a),this.store.newItem(a)):this.inherited(arguments)},onNewRootItem:function(){},pasteItem:function(a,b,d,e,f){if(b===
this.root&&!e)this.onLeaveRoot(a);this.inherited(arguments,[a,b===this.root?null:b,d===this.root?null:d,e,f]);if(d===this.root)this.onAddToRoot(a)},onAddToRoot:function(a){console.log(this,": item ",a," added to root")},onLeaveRoot:function(a){console.log(this,": item ",a," removed from root")},_requeryTop:function(){var a=this.root.children||[];this.store.fetch({query:this.query,onComplete:f.hitch(this,function(b){this.root.children=b;if(a.length!=b.length||h.some(a,function(a,d){return b[d]!=a}))this.onChildrenChange(this.root,
b)})})},onNewItem:function(a,b){this._requeryTop();this.inherited(arguments)},onDeleteItem:function(a){-1!=h.indexOf(this.root.children,a)&&this._requeryTop();this.inherited(arguments)},onSetItem:function(a,b,d,e){this._requeryTop();this.inherited(arguments)}})})},"dijit/tree/_dndSelector":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/dnd/common dojo/dom dojo/mouse dojo/on dojo/touch ../a11yclick ./_dndContainer".split(" "),function(h,e,l,f,d,a,b,q,
g,n,r){return e("dijit.tree._dndSelector",r,{constructor:function(){this.selection={};this.anchor=null;this.events.push(q(this.tree.domNode,g.press,f.hitch(this,"onMouseDown")),q(this.tree.domNode,g.release,f.hitch(this,"onMouseUp")),q(this.tree.domNode,g.move,f.hitch(this,"onMouseMove")),q(this.tree.domNode,n.press,f.hitch(this,"onClickPress")),q(this.tree.domNode,n.release,f.hitch(this,"onClickRelease")))},singular:!1,getSelectedTreeNodes:function(){var a=[],b=this.selection,d;for(d in b)a.push(b[d]);
return a},selectNone:function(){this.setSelection([]);return this},destroy:function(){this.inherited(arguments);this.selection=this.anchor=null},addTreeNode:function(a,b){this.setSelection(this.getSelectedTreeNodes().concat([a]));b&&(this.anchor=a);return a},removeTreeNode:function(b){var d=h.filter(this.getSelectedTreeNodes(),function(d){return!a.isDescendant(d.domNode,b.domNode)});this.setSelection(d);return b},isTreeNodeSelected:function(a){return a.id&&!!this.selection[a.id]},setSelection:function(a){var b=
this.getSelectedTreeNodes();h.forEach(this._setDifference(b,a),f.hitch(this,function(a){a.setSelected(!1);this.anchor==a&&delete this.anchor;delete this.selection[a.id]}));h.forEach(this._setDifference(a,b),f.hitch(this,function(a){a.setSelected(!0);this.selection[a.id]=a}));this._updateSelectionProperties()},_setDifference:function(a,b){h.forEach(b,function(a){a.__exclude__=!0});var d=h.filter(a,function(a){return!a.__exclude__});h.forEach(b,function(a){delete a.__exclude__});return d},_updateSelectionProperties:function(){var a=
this.getSelectedTreeNodes(),b=[],d=[];h.forEach(a,function(a){var e=a.getTreePath();d.push(a);b.push(e)},this);a=h.map(d,function(a){return a.item});this.tree._set("paths",b);this.tree._set("path",b[0]||[]);this.tree._set("selectedNodes",d);this.tree._set("selectedNode",d[0]||null);this.tree._set("selectedItems",a);this.tree._set("selectedItem",a[0]||null)},onClickPress:function(a){if(!this.current||!this.current.isExpandable||!this.tree.isExpandoNode(a.target,this.current)){"mousedown"==a.type&&
b.isLeft(a)&&a.preventDefault();var e="keydown"==a.type?this.tree.focusedChild:this.current;if(e){var f=d.getCopyKeyState(a),g=e.id;!this.singular&&!a.shiftKey&&this.selection[g]?this._doDeselect=!0:(this._doDeselect=!1,this.userSelect(e,f,a.shiftKey))}}},onClickRelease:function(a){this._doDeselect&&(this._doDeselect=!1,this.userSelect("keyup"==a.type?this.tree.focusedChild:this.current,d.getCopyKeyState(a),a.shiftKey))},onMouseMove:function(){this._doDeselect=!1},onMouseDown:function(){},onMouseUp:function(){},
_compareNodes:function(a,b){if(a===b)return 0;if("sourceIndex"in document.documentElement)return a.sourceIndex-b.sourceIndex;if("compareDocumentPosition"in document.documentElement)return a.compareDocumentPosition(b)&2?1:-1;if(document.createRange){var d=doc.createRange();d.setStartBefore(a);var e=doc.createRange();e.setStartBefore(b);return d.compareBoundaryPoints(d.END_TO_END,e)}throw Error("dijit.tree._compareNodes don't know how to compare two different nodes in this browser");},userSelect:function(a,
b,d){if(this.singular)this.anchor==a&&b?this.selectNone():(this.setSelection([a]),this.anchor=a);else if(d&&this.anchor){b=this._compareNodes(this.anchor.rowNode,a.rowNode);d=this.anchor;0>b?b=d:(b=a,a=d);for(d=[];b!=a;)d.push(b),b=this.tree._getNext(b);d.push(a);this.setSelection(d)}else this.selection[a.id]&&b?this.removeTreeNode(a):b?this.addTreeNode(a,!0):(this.setSelection([a]),this.anchor=a)},getItem:function(a){return{data:this.selection[a],type:["treeNode"]}},forInSelectedItems:function(a,
b){b=b||l.global;for(var d in this.selection)a.call(b,this.getItem(d),d,this)}})})},"dijit/tree/_dndContainer":function(){define("dojo/aspect dojo/_base/declare dojo/dom-class dojo/_base/lang dojo/on dojo/touch".split(" "),function(h,e,l,f,d,a){return e("dijit.tree._dndContainer",null,{constructor:function(b,e){this.tree=b;this.node=b.domNode;f.mixin(this,e);this.containerState="";l.add(this.node,"dojoDndContainer");this.events=[d(this.node,a.enter,f.hitch(this,"onOverEvent")),d(this.node,a.leave,
f.hitch(this,"onOutEvent")),h.after(this.tree,"_onNodeMouseEnter",f.hitch(this,"onMouseOver"),!0),h.after(this.tree,"_onNodeMouseLeave",f.hitch(this,"onMouseOut"),!0),d(this.node,"dragstart, selectstart",function(a){a.preventDefault()})]},destroy:function(){for(var a;a=this.events.pop();)a.remove();this.node=this.parent=null},onMouseOver:function(a){this.current=a},onMouseOut:function(){this.current=null},_changeState:function(a,d){var e="dojoDnd"+a,f=a.toLowerCase()+"State";l.replace(this.node,e+
d,e+this[f]);this[f]=d},_addItemClass:function(a,d){l.add(a,"dojoDndItem"+d)},_removeItemClass:function(a,d){l.remove(a,"dojoDndItem"+d)},onOverEvent:function(){this._changeState("Container","Over")},onOutEvent:function(){this._changeState("Container","")}})})},"jimu/dijit/LayerChooserFromMapWithDropbox":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/html dojo/on dojo/Evented dojo/Deferred dijit/popup dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/LayerChooserFromMapWithDropbox.html jimu/LayerInfos/LayerInfos".split(" "),
function(h,e,l,f,d,a,b,q,g,n,r){return h([q,g,d],{templateString:n,baseClass:"jimu-layer-chooser-from-map-withdropbox",declaredClass:"jimu.dijit.LayerChooserFromMapWithDropbox",_selectedItem:null,_isLayerChooserShow:!1,layerInfosObj:null,layerChooser:null,postCreate:function(){this.inherited(arguments);this.layerInfosObj=r.getInstanceSync();this.layerChooser.domNode.style.zIndex=1;this.layerChooser.tree.domNode.style.borderTop="0";this.layerChooser.tree.domNode.style.maxHeight="290px";this.own(f(this.layerChooser,
"tree-click",e.hitch(this,this._onTreeClick)));this.own(f(this.layerChooser,"update",e.hitch(this,this._onLayerChooserUpdate)));this.own(f(document.body,"click",e.hitch(this,this._onBodyClicked)))},destroy:function(){this.hideLayerChooser();this.layerChooser&&this.layerChooser.destroy();this.layerChooser=null;this.inherited(arguments)},getLayerChooser:function(){return this.layerChooser},setSelectedLayer:function(b){var d=new a;if(b){var f=this.layerInfosObj.getLayerInfoById(b.id);f?this.layerChooser.filter(f).then(e.hitch(this,
function(a){a?(this._onSelectNewItem({layerInfo:f,name:f.title,url:b.url}),d.resolve(!0)):d.resolve(!1)}),e.hitch(this,function(){d.resolve(!1)})):d.resolve(!1)}else this._onSelectNewItem(null),d.resolve(!0);return d},getSelectedItem:function(){return this._selectedItem},getSelectedItems:function(){return[this._selectedItem]},_onBodyClicked:function(a){a=a.target||a.srcElement;a===this.domNode||l.isDescendant(a,this.domNode)||a===this.layerChooser.domNode||l.isDescendant(a,this.layerChooser.domNode)||
this.hideLayerChooser()},_onDropDownClick:function(a){a.stopPropagation();a.preventDefault();this._isLayerChooserShow?this.hideLayerChooser():this.showLayerChooser()},_getSelectedItems:function(){return this.layerChooser.getSelectedItems()},showLayerChooser:function(){this.layerChooser.domNode.style.width=this.domNode.clientWidth+2+"px";b.open({parent:this,popup:this.layerChooser,around:this.domNode});var a=this.layerChooser.domNode.parentNode;a&&l.addClass(a,"jimu-layer-chooser-from-map-withdropbox-popup");
this._isLayerChooserShow=!0},hideLayerChooser:function(){b.close(this.layerChooser);this._isLayerChooserShow=!1},_onLayerChooserUpdate:function(){this._selectedItem&&this.layerChooser.onlyShowVisible&&!this._selectedItem.layerInfo.isShowInMap()&&(this._selectedItem=null,this.emit("selection-change",[]))},_onSelectNewItem:function(a){var b=e.getObject("layerInfo.id",!1,this._selectedItem)||-1,d=e.getObject("layerInfo.id",!1,a)||-1,b=b!==d;this._selectedItem=a;this.hideLayerChooser();a=e.getObject("layerInfo.title",
!1,this._selectedItem)||"";this.layerNameNode.innerHTML=a;a=e.getObject("layerInfo.layerObject",!1,this._selectedItem);b&&this.emit("selection-change",[a])},_onTreeClick:function(){var a=this._getSelectedItems();this._onSelectNewItem(0<a.length?a[0]:null)}})})},"jimu/dijit/SearchDistance":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/SearchDistance.html dojo/Evented dojo/_base/lang jimu/utils jimu/dijit/CheckBox esri/tasks/GeometryService dijit/form/Select dijit/form/NumberTextBox".split(" "),
function(h,e,l,f,d,a,b,q,g,n){return h([e,l,f,a],{baseClass:"jimu-dijit-searchdistance",templateString:d,lastMeters:0,tip:"",distance:0,unit:"",postMixInProperties:function(){this.inherited(arguments);this.nls=b.clone(window.jimuNls.units);this.tip||(this.tip=window.jimuNls.searchDistance.applySearchDistance)},postCreate:function(){this.inherited(arguments);this.cbx=new g({label:this.tip,onChange:b.hitch(this,this._onCbxChanged)});this.cbx.placeAt(this.cbxDiv);this.reset();this.setDistance(this.distance);
this.setUnit(this.unit);this.lastMeters=this.getMeters()},enable:function(){this.cbx.check()},disable:function(){this.cbx.uncheck()},isEnabled:function(){return this.cbx.getValue()},reset:function(){this.numberTextBox.set("value",0);this.unitSelect.set("value","MILES")},getData:function(){return{status:this.getStatus(),isEnabled:this.isEnabled(),distance:this.getDistance(),unit:this.getUnit(),bufferUnit:this.getUnitToBuffer(),meters:this.getMeters()}},getStatus:function(){var a;this.isEnabled()?(a=
this.getDistance(),a=0<a?1:0===a?0:-1):a=0;return a},getMeters:function(){var a=0,b=this.getStatus();if(0<b){var b=this.getDistance(),d=this.getUnit();"MILES"===d?a=1609.344*b:"KILOMETERS"===d?a=1E3*b:"FEET"===d?a=0.3048*b:"METERS"===d?a=b:"YARDS"===d?a=0.9144*b:"NAUTICAL_MILES"===d&&(a=1852*b);a=parseFloat(a.toFixed(3))}else 0===b?a=0:0>b&&(a=-1);return a},setDistance:function(a){"number"===typeof a&&0<=a&&this.numberTextBox.set("value",a)},setUnit:function(a){a&&"string"===typeof a&&this.unitSelect.set("value",
a)},tryShowValidationError:function(){this.numberTextBox.validate()||q.showValidationErrorTipForFormDijit(this.numberTextBox)},getDistance:function(){return!this.numberTextBox.validate()?(q.showValidationErrorTipForFormDijit(this.numberTextBox),-1):this.numberTextBox.get("value")},getUnit:function(){return this.unitSelect.get("value")},getUnitToBuffer:function(){var a="";switch(this.unitSelect.get("value")){case "MILES":a=n.UNIT_STATUTE_MILE;break;case "KILOMETERS":a=n.UNIT_KILOMETER;break;case "FEET":a=
n.UNIT_FOOT;break;case "METERS":a=n.UNIT_METER;break;case "YARDS":a=n.UNIT_INTERNATIONAL_YARD;break;case "NAUTICAL_MILES":a=n.UNIT_NAUTICAL_MILE}return a},_onCbxChanged:function(){this.cbx.getValue()?(this.numberTextBox.set("disabled",!1),this.unitSelect.set("disabled",!1)):(this.numberTextBox.set("disabled",!0),this.unitSelect.set("disabled",!0));this._emitEvent()},_onNumberTextBoxChanged:function(){this._emitEvent()},_onUnitSelectChanged:function(){this._emitEvent()},_emitEvent:function(){var a=
this.getData();a.meters!==this.lastMeters&&(this.lastMeters=a.meters,this.emit("change",a))}})})},"jimu/dijit/FeatureSetChooserForSingleLayer":function(){define("dojo/on dojo/Evented dojo/_base/lang dojo/_base/array dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin jimu/dijit/DrawBox jimu/dijit/_FeatureSetChooserCore esri/symbols/jsonUtils".split(" "),function(h,e,l,f,d,a,b,q,g,n,r){return d([a,b,q,e],{baseClass:"jimu-single-layer-featureset-chooser",templateString:"\x3cdiv\x3e\x3c/div\x3e",
drawBox:null,map:null,featureLayer:null,updateSelection:!1,postCreate:function(){this.inherited(arguments);var a=r.fromJson({style:"esriSFSSolid",color:[79,129,189,77],type:"esriSFS",outline:{style:"esriSLSSolid",color:[54,93,141,255],width:1.5,type:"esriSLS"}});this.drawBox=new g({map:this.map,showClear:!0,keepOneGraphic:!0,geoTypes:["EXTENT"]});this.drawBox.setPolygonSymbol(a);a=this.drawBox.getDrawItemIcons();f.forEach(a,l.hitch(this,function(a){a.title=""}));this.drawBox.extentIcon.title=window.jimuNls.spatialFilterByFeatures.drawShapesTip;
this.drawBox.placeAt(this.domNode);this.own(h(this.drawBox,"user-clear",l.hitch(this,this._onDrawBoxUserClear)));this.own(h(this.drawBox,"draw-activate",l.hitch(this,function(){this.emit("draw-activate")})));this.own(h(this.drawBox,"draw-deactivate",l.hitch(this,function(){this.emit("draw-deactivate")})));this.own(h(this.drawBox,"draw-end",l.hitch(this,this._onDrawEnd)));this.featureSetChooserCore=new n({map:this.map,featureLayer:this.featureLayer,drawBox:this.drawBox,updateSelection:this.updateSelection});
this.own(h(this.featureSetChooserCore,"loading",l.hitch(this,function(){this.emit("loading")})));this.own(h(this.featureSetChooserCore,"unloading",l.hitch(this,function(){this.emit("unloading")})));this.own(h(this.featureLayer,"visibility-change",l.hitch(this,function(){this.featureLayer.visible?this.drawBox.enable():this.drawBox.disable()})))},getFeatures:function(){return this.featureSetChooserCore.getFeatures()},syncGetFeatures:function(){return this.featureSetChooserCore.syncGetFeatures()},disable:function(){this.drawBox.disable()},
enable:function(){this.drawBox.enable()},deactivate:function(){this.drawBox.deactivate()},clearAllGraphics:function(){this.featureSetChooserCore.clear(!1)},isLoading:function(){return this.featureSetChooserCore.isLoading()},getFeatureLayer:function(){return this.featureLayer},destroy:function(){this.featureSetChooserCore&&this.featureSetChooserCore.destroy();this.featureSetChooserCore=null;this.inherited(arguments)},_onDrawEnd:function(){this.drawBox.clear()},_onDrawBoxUserClear:function(){this.clearAllGraphics();
this.emit("user-clear")},showMiddleFeatureLayer:function(){this.featureSetChooserCore&&this.featureSetChooserCore.showMiddleFeatureLayer()},hideMiddleFeatureLayer:function(){this.featureSetChooserCore&&this.featureSetChooserCore.hideMiddleFeatureLayer()}})})},"jimu/dijit/_FeatureSetChooserCore":function(){define("dojo/on dojo/sniff dojo/Evented dojo/Deferred dojo/_base/lang dojo/_base/array dojo/_base/declare jimu/utils jimu/symbolUtils jimu/SelectionManager jimu/LayerInfos/LayerInfos esri/graphic esri/tasks/query esri/tasks/QueryTask esri/layers/FeatureLayer esri/symbols/jsonUtils".split(" "),
function(h,e,l,f,d,a,b,q,g,n,r,k,p,t,x,w){return b([l],{baseClass:"jimu-featureset-chooser-core",_middleFeatureLayer:null,_isLoading:!1,_def:null,_isDestroyed:!1,_handles:null,selectionManager:null,layerInfosObj:null,map:null,featureLayer:null,drawBox:null,updateSelection:!1,fullyWithin:!1,constructor:function(a){d.mixin(this,a);this.layerInfosObj=r.getInstanceSync();this.selectionManager=n.getInstance();this.featureLayer.getSelectionSymbol()||this.selectionManager.setSelectionSymbol(this.featureLayer);
a=q.getFeatureLayerDefinition(this.featureLayer);delete a.id;this._middleFeatureLayer=new x({layerDefinition:a,featureSet:null},{id:"featureLayer_"+q.getRandomString()});a=null;var b=this._middleFeatureLayer.geometryType;"esriGeometryPoint"===b?a=g.getDefaultMarkerSymbol():"esriGeometryPolyline"===b?a=g.getDefaultLineSymbol():"esriGeometryPolygon"===b&&(a=w.fromJson({style:"esriSFSSolid",color:[79,129,189,77],type:"esriSFS",outline:{style:"esriSLSSolid",color:[54,93,141,255],width:1.5,type:"esriSLS"}}));
this._middleFeatureLayer.setSelectionSymbol(a);a=h(this.drawBox,"user-clear",d.hitch(this,this._onDrawBoxUserClear));b=h(this.drawBox,"draw-end",d.hitch(this,this._onDrawEnd));this._handles=[a,b]},hideMiddleFeatureLayer:function(){if(this._middleFeatureLayer){this._middleFeatureLayer.hide();var a=this.selectionManager.getDisplayLayer(this._middleFeatureLayer.id);a&&a.hide()}},showMiddleFeatureLayer:function(){if(this._middleFeatureLayer){this._middleFeatureLayer.show();var a=this.selectionManager.getDisplayLayer(this._middleFeatureLayer.id);
a&&a.show()}},clear:function(a){this.drawBox.clear();this._clearMiddleFeatureLayer();a&&this.selectionManager.clearSelection(this.featureLayer)},getFeatures:function(){var a=new f,b=d.hitch(this,function(){var b=this.syncGetFeatures();a.resolve(b)}),e=d.hitch(this,function(b){a.reject(b)});1===this._getDeferredStatus(this._def)?this._def.then(b,e):b();return a},syncGetFeatures:function(){return(this.updateSelection?this.featureLayer:this._middleFeatureLayer).getSelectedFeatures()},isLoading:function(){return 1===
this._getDeferredStatus(this._def)},_onLoading:function(){this.drawBox.deactivate();this.emit("loading")},_onUnloading:function(){this.emit("unloading")},_getDeferredStatus:function(a){var b=0;return b=a?a.isResolved()?2:a.isRejected()?-1:1:0},_onDrawEnd:function(a,b,g,k,h,l){console.log(b,g);if(this.isLoading())throw"should not draw when loading";if(this.featureLayer.visible){var q=new f;this._def=q;var u=x.SELECTION_NEW;k&&(u=x.SELECTION_ADD);e("mac")?l&&(u=x.SELECTION_SUBTRACT):h&&(u=x.SELECTION_SUBTRACT);
this._onLoading();this._getFeaturesByGeometry(a.geometry).then(d.hitch(this,function(a){this.selectionManager.updateSelectionByFeatures(this.updateSelection?this.featureLayer:this._middleFeatureLayer,a,u);this._onUnloading();q.resolve(a)}),d.hitch(this,function(a){console.error(a);this._onUnloading();q.reject(a)}))}},_getFeaturesByGeometry:function(c){var b=new f,e=[];if(this.featureLayer.getMap())c=this.selectionManager.getClientFeaturesByGeometry(this.featureLayer,c,this.fullyWithin),0<c.length&&
(e=a.map(c,d.hitch(this,function(a){return new k(a.toJson())}))),b.resolve(e);else{e=new p;e.geometry=c;e.outSpatialReference=this.map.spatialReference;e.returnGeometry=!0;e.spatialRelationship=this.fullyWithin?p.SPATIAL_REL_CONTAINS:p.SPATIAL_REL_INTERSECTS;(c=this.featureLayer.getDefinitionExpression())||(c="1\x3d1");var g=this.layerInfosObj.getLayerInfoById(this.featureLayer.id);g&&(g=g.getFilter())&&(c="("+c+") AND ("+g+")");c&&(e.where=c);e.outFields=["*"];(new t(this.featureLayer.url)).execute(e).then(d.hitch(this,
function(a){b.resolve(a.features)}),d.hitch(this,function(a){b.reject(a)}))}return b},_onDrawBoxUserClear:function(){this.clear()},_clearMiddleFeatureLayer:function(){this._middleFeatureLayer&&(this._middleFeatureLayer.clear(),this.selectionManager.clearSelection(this._middleFeatureLayer))},destroy:function(){this._isDestroyed||(a.forEach(this._handles,d.hitch(this,function(a){a.remove()})),this._handles=null,this.clear());this._isDestroyed=!0}})})},"widgets/Geoprocessing/editors/SelectFeatureSetFromFile":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/dom-style dojo/on dojo/json dojo/text!./SelectFeatureSetFromFile.html dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin esri/request esri/geometry/scaleUtils esri/InfoTemplate esri/layers/FeatureLayer esri/renderers/SimpleRenderer esri/tasks/FeatureSet jimu/dijit/Message jimu/portalUrlUtils jimu/symbolUtils ./BaseFeatureSetEditor dijit/form/Form dijit/form/Select".split(" "),
function(h,e,l,f,d,a,b,q,g,n,r,k,p,t,x,w,c,y,z){return h([z,q,g],{baseClass:"jimu-gp-editor-base jimu-gp-editor-file",templateString:b,editorName:"SelectFeatureSetFromFile",layer:void 0,constructor:function(){this.uniqueID=(new Date).getTime()},postCreate:function(){this.inherited(arguments);f.set(this.clearLink,"display","none");f.set(this.uploadStatus,"display","none");this.uploadStatus.src=require.toUrl("jimu")+"/images/loading_circle.gif"},destroy:function(){this._clear()},getValue:function(){if(0===
this.activeViewIndex){if(this.layer){var a=new x;a.features=this.layer.graphics;return a}return null}return this.getFeatureSet()},_onUpload:function(){if(l.get(this.fileInput,"value")){var c=l.get(this.fileInput,"value"),c=c.replace(/\\/g,"/"),c=c.substr(c.lastIndexOf("/")+1);this.fileInfo.innerHTML=c;f.set(this.uploadStatus,"display","");var c={name:c,targetSR:this.map.spatialReference,maxRecordCount:1E3,enforceInputFileSizeLimit:!0,enforceOutputJsonSizeLimit:!0},b=r.getExtentForScale(this.map,4E4).getWidth()/
this.map.width;c.generalize=!0;c.maxAllowableOffset=b;c.reducePrecision=!0;c.numberOfDigitsAfterDecimal=0;n({url:this._getPortalUrl()+"/sharing/rest/content/features/generate",content:{filetype:"shapefile",publishParameters:a.stringify(c),f:"json"},form:this.fileForm.domNode,handleAs:"json",load:e.hitch(this,function(a){f.set(this.uploadStatus,"display","none");a.error?new w({message:a.error.message||a.error}):this.addToMap(a.featureCollection)}),error:e.hitch(this,function(){f.set(this.uploadStatus,
"display","none");var a=this.nls.generateShapefileError+this._getPortalUrl()+"/sharing/rest/content/features/generate";new w({message:a})})})}else new w({message:this.nls.noFileSelected})},addToMap:function(a){this._clear();a=a.layers[0];var c=new k("Details","${*}");this.layer=new p(a,{infoTemplate:c});this.own(d(this.layer,"click",e.hitch(this,function(a){this.map.infoWindow.setFeatures([a.graphic])})));this.changeRenderer();a=this.layer.fullExtent;this.map.addLayer(this.layer);this.map.setExtent(a.expand(1.25),
!0);f.set(this.clearLink,"display","")},changeRenderer:function(){var a=null;switch(this.layer.geometryType){case "esriGeometryPoint":a=y.getDefaultMarkerSymbol();break;case "esriGeometryPolyline":a=y.getDefaultLineSymbol();break;case "esriGeometryPolygon":a=y.getDefaultFillSymbol()}a&&this.layer.setRenderer(new t(a))},_getPortalUrl:function(){return c.getStandardPortalUrl(this.appConfig.portalUrl)},_clear:function(){this.layer&&(this.layer.clear(),this.map.removeLayer(this.layer),this.fileInfo.innerHTML=
"",l.set(this.fileInput,"value",""),f.set(this.clearLink,"display","none"))}})})},"widgets/Geoprocessing/editors/SelectFeatureSetFromDraw":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/html dijit/_TemplatedMixin jimu/dijit/DrawBox esri/symbols/jsonUtils esri/tasks/FeatureSet esri/geometry/Polygon esri/graphic esri/graphicsUtils ./BaseFeatureSetEditor dojo/text!./SelectFeatureSetFromDraw.html ../LayerOrderUtil".split(" "),function(h,e,l,f,d,a,b,q,g,n,r,k,p,t){return h([k,
d],{editorName:"SelectFeatureSetFromDraw",templateString:p,constructor:function(a){this.inherited(arguments);this.paramName=a.param.name;this.drawLayerId=a.widgetUID+a.param.name},postCreate:function(){this.inherited(arguments);f.addClass(this.domNode,"jimu-gp-editor-draw");f.addClass(this.domNode,"jimu-gp-editor-base");var d={types:this.types,drawLayerId:this.drawLayerId,showClear:this.showClear,map:this.map};this.param.symbol&&(d[this.types[0]+"Symbol"]=b.fromJson(this.param.symbol));this.drawBox=
new a(d);f.place(this.drawBox.domNode,this.inputNode);this.drawBox.startup();try{(new t(this.config,this.map)).calculateLayerIndex(this.paramName,this.widgetUID).then(e.hitch(this,function(a){-1!==a&&this.map.reorderLayer(this.drawBox.drawLayer,a)}))}catch(g){console.error(g.message)}this.startup()},getValue:function(){return 0===this.activeViewIndex?this.drawBox.drawLayer&&0<this.drawBox.drawLayer.graphics.length?this._createFeatureSet(this.drawBox.drawLayer.graphics):null:this.getFeatureSet()},
_createFeatureSet:function(a){var b=new q,c=[];a=r.getGeometries(a);l.forEach(a,function(a){a="extent"===a.type?new n(g.fromExtent(a)):new n(a);c.push(a)});b.features=c;return b}})})},"widgets/Geoprocessing/LayerOrderUtil":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/Deferred","jimu/LayerInfos/LayerInfos"],function(h,e,l,f){return h(null,{config:null,constructor:function(d,a){this.config=d;this.map=a;if(!("layerOrder"in this.config)||0===this.config.layerOrder.length)this.config.layerOrder=
this.getCandidateParamNames(!1)},getCandidateParamNames:function(d){var a=[];if(!this.config)return a;e.forEach(this.config.outputParams,function(b){"GPFeatureRecordSetLayer"===b.dataType&&(!d||!0!==this.config.useResultMapServer)&&a.push(b.name)},this);e.forEach(this.config.inputParams,function(b){"GPFeatureRecordSetLayer"===b.dataType&&(!d||"draw"===b.featureSetMode)&&a.push(b.name)},this);return a},getOrderableInput:function(){var d=[];if(!this.config)return d;e.forEach(this.config.inputParams,
function(a){"GPFeatureRecordSetLayer"===a.dataType&&"draw"===a.featureSetMode&&d.push(a.name)},this);return e.filter(this.config.layerOrder,function(a){return-1!==e.indexOf(d,a)},this)},getOrderableOutput:function(){var d=[];if(!this.config)return d;e.forEach(this.config.outputParams,function(a){"GPFeatureRecordSetLayer"===a.dataType&&!0!==this.config.useResultMapServer&&d.push(a.name)},this);return e.filter(this.config.layerOrder,function(a){return-1!==e.indexOf(d,a)},this)},calculateLayerIndex:function(d,
a){if(!this.map)throw Error("The map cannot be null in LayerOrderUtil.calculateLayerIndex");var b,h,g,n=new l,r=this.config.layerOrder;h=e.indexOf(r,d);if(-1===h)throw Error(d+"cannot be found in the orderable params");for(b=h-1;0<=b;b--)if(g=e.indexOf(this.map.graphicsLayerIds,a+r[b]),-1!==g)return n.resolve(g),n;b=h+1;for(h=r.length;b<h;b++)if(g=e.indexOf(this.map.graphicsLayerIds,a+r[b]),-1!==g)return n.resolve(g+1),n;n.isResolved()||f.getInstance(this.map,this.map.itemInfo).then(function(a){var b;
a=a.getMapNotesLayerInfoArray();0===a.length?n.resolve(-1):(a=a[a.length-1],b=a.getSubLayers(),a=0===b.length?a.layerObject.id:b[b.length-1].layerObject.id,g=e.indexOf(this.map.graphicsLayerIds,a),n.resolve(g))});return n}})})},"widgets/Geoprocessing/editors/DataFileEditor":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/dom-attr dojo/on dojo/Deferred dojo/text!./DataFileEditor.html dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin esri/tasks/DataFile esri/request jimu/dijit/ViewStack jimu/dijit/Message ../BaseEditor dijit/form/Form jimu/dijit/URLInput".split(" "),
function(h,e,l,f,d,a,b,q,g,n,r,k,p,t){return h([t,q,g],{baseClass:"jimu-gp-editor-base jimu-gp-editor-datafile",templateString:b,editorName:"DataFileEditor",mode:"url",_url:"",_itemID:null,uniqueID:null,constructor:function(){this.inherited(arguments);this.uniqueID=(new Date).getTime()},postCreate:function(){this.inherited(arguments);this.value&&this.parseDefaultValue();f.set(this.urlEditor,"tooltip",this.param.tooltip);"setting"===this.context?(this.viewStack=null,l.set(this.fileNode,"display","none")):
(this.viewStack=new k({viewType:"dom",views:[this.urlNode,this.fileNode]}),this.viewStack.placeAt(this.settingNode),this.viewStack.startup());!0===this.config.serverInfo.supportsUpload&&l.set(this.modeSelection,"display","");"item"===this.mode&&this.config.serverInfo.supportsUpload?(f.set(this.itemMode,"checked",!0),d.emit(this.itemMode,"click",{cancelable:!0,bubble:!0})):(f.set(this.urlMode,"checked",!0),d.emit(this.urlMode,"click",{cancelable:!0,bubble:!0}),this.urlEditor.set("value",this._url))},
parseDefaultValue:function(){0===this.value.indexOf("itemID:")?this.mode="item":(0===this.value.indexOf("url:")&&(this._url=this.value.substring(4)),this.mode="url")},hasValidValue:function(){if("item"===this.mode)return!0;if("url"===this.mode)return this.urlEditor.isValid()},getValue:function(){return"url"===this.mode?"url:"+this._getUrl():"item"===this.mode?"itemID:":""},getGPValue:function(){var b=new a,d=new n;"url"===this.mode?d.url=this._getUrl():d.itemID=this.itemIDInput;d.url||d.itemID?b.resolve(d):
b.resolve(null);return b},_getUrl:function(){return this.urlEditor.isValid()?this.urlEditor.get("value"):""},_onUrlModeSelect:function(){this.mode="url";this.viewStack?this.viewStack.switchView(0):l.set(this.urlNode,"display","block")},_onItemModeSelect:function(){this.mode="item";this.viewStack?this.viewStack.switchView(1):l.set(this.urlNode,"display","none")},_onUpload:function(){f.get(this.fileInput,"value")&&this._doUpload().then(e.hitch(this,function(a){a&&new p({message:this.nls.uploadSuccess})}),
function(a){new p({message:a.message||a})})},_doUpload:function(){var b=new a,d=f.get(this.fileInput,"value"),d=d.replace(/\\/g,"/"),d=d.substr(d.lastIndexOf("/")+1);r({url:this.config.serverInfo.url+"uploads/upload",form:this.fileForm.domNode,handleAs:"json"}).then(e.hitch(this,function(a){a.success&&(this.itemIDInput=a.item.itemID,f.set(this.fileInput,"value",""),f.set(this.uploadFileName,"innerHTML",d));b.resolve(a.success)}),function(a){b.reject(a)});return b}})})},"esri/tasks/DataFile":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/has","../kernel"],function(h,e,l,f){return h(null,{declaredClass:"esri.tasks.DataFile",constructor:function(d){d&&e.mixin(this,d)},url:null,itemID:null,toJson:function(){var d={};this.url&&(d.url=this.url);this.itemID&&(d.itemID=this.itemID);return d}})})},"widgets/Geoprocessing/editors/RasterLayerEditor":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-style dojo/dom-attr dojo/on dojo/Deferred dojo/text!./RasterLayerEditor.html dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin esri/tasks/RasterData esri/request jimu/dijit/ViewStack jimu/dijit/Message ../BaseEditor dijit/form/TextBox dijit/form/ValidationTextBox".split(" "),
function(h,e,l,f,d,a,b,q,g,n,r,k,p,t,x){var w=/^(ht|f)tps?:\/\/[^\s\.]+(\.[^\s\.]+)*((\/|\.)[^\s\.]+)+\/?$/;return h([x,g,n],{baseClass:"jimu-gp-editor-base jimu-gp-editor-wrapper",templateString:q,editorName:"RasterLayerEditor",mode:"url",_url:"",_format:"",_itemID:null,uniqueID:null,constructor:function(){this.inherited(arguments);this.uniqueID=(new Date).getTime()},postCreate:function(){this.inherited(arguments);this.value&&this.parseDefaultValue();d.set(this.urlEditor,"regExp",w.toString());d.set(this.urlEditor,
"tooltip",this.param.tooltip);"setting"===this.context?(this.viewStack=null,f.set(this.fileNode,"display","none")):(this.viewStack=new p({viewType:"dom",views:[this.urlNode,this.fileNode]}),this.viewStack.placeAt(this.settingNode),this.viewStack.startup());this.config.serverInfo.supportsUpload&&f.set(this.modeSelection,"display","");"item"===this.mode&&this.config.serverInfo.supportsUpload?(d.set(this.itemMode,"checked",!0),a.emit(this.itemMode,"click",{cancelable:!0,bubble:!0})):(d.set(this.urlMode,
"checked",!0),a.emit(this.urlMode,"click",{cancelable:!0,bubble:!0}),this.rasterFormatInput.set("value",this._format),this.urlEditor.set("value",this._url))},parseDefaultValue:function(){var a;if(0===this.value.indexOf("itemID:"))this.mode="item";else{if(0===this.value.indexOf("url:")||0===this.value.indexOf("format:"))a=this.value.split(","),l.forEach(a,function(a){0===a.indexOf("url:")?this._url=a.substring(4):a.indexOf("format:"===0)&&(this._format=a.substring(7))},this);this.mode="url"}},hasValidValue:function(){if("item"===
this.mode)return!0;if("url"===this.mode)return this.urlEditor.isValid()},getValue:function(){return"url"===this.mode?"url:"+this._getUrl()+",format:"+this.rasterFormatInput.get("value"):"item"===this.mode?"itemID:":""},getGPValue:function(){var a=new b,d=new r;"url"===this.mode?(d.url=this._getUrl(),d.format=this.rasterFormatInput.get("value")):d.itemID=this.itemIDInput;d.url||d.itemID?a.resolve(d):a.resolve(null);return a},_getUrl:function(){return this.urlEditor.isValid()?this.urlEditor.get("value"):
""},_onUrlModeSelect:function(){this.mode="url";this.viewStack?this.viewStack.switchView(0):f.set(this.urlNode,"display","block")},_onItemModeSelect:function(){this.mode="item";this.viewStack?this.viewStack.switchView(1):f.set(this.urlNode,"display","none")},_onUpload:function(){if(d.get(this.fileInput,"value")){var a=d.get(this.fileInput,"value"),a=a.replace(/\\/g,"/"),a=a.substr(a.lastIndexOf("/")+1);k({url:this.config.serverInfo.url+"uploads/upload",form:this.fileForm.domNode,handleAs:"json"}).then(e.hitch(this,
function(b){b.success&&(this.itemIDInput=b.item.itemID,d.set(this.fileInput,"value",""),d.set(this.uploadFileName,"innerHTML",a),new t({message:this.nls.uploadSuccess}))}),e.hitch(this,function(a){new t({message:a.message||a})}))}}})})},"esri/tasks/RasterData":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(h,e,l,f){return h(null,{declaredClass:"esri.tasks.RasterData",constructor:function(d){d&&e.mixin(this,d)},url:null,format:null,itemID:null,toJson:function(){var d=
{};this.url&&(d.url=this.url);this.format&&(d.format=this.format);this.itemID&&(d.itemID=this.itemID);return d}})})},"widgets/Geoprocessing/editors/RecordSetEditor":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","../BaseEditor","jimu/dijit/PopupConfig"],function(h,e,l,f,d){return h([f],{baseClass:"jimu-gp-editor-base jimu-gp-editor-rse",editorName:"RecordSetEditor",popupConfig:null,args:null,constructor:function(a){this.args=e.mixin({},a)},postCreate:function(){this.inherited(arguments);
this.value={};var a={showTitle:!1};if(this.args&&this.args.param&&this.args.param.defaultValue){this.value=e.clone(this.args.param.defaultValue);var b=this.value.fields;if(this.value.output&&this.value.output.fields){var f=l.map(this.value.output.fields,function(a){return a.name});l.forEach(b,function(a){0<=f.indexOf(a.name)?a.visible=!0:a.visible=!1})}a.fields=b;this.popupConfig=new d(a);this.popupConfig.placeAt(this.domNode);this.popupConfig.startup()}else this.domNode.innerHTML="table"},destroy:function(){this.popupConfig&&
(this.popupConfig.destroy(),this.popupConfig=null);this.inherited(arguments)},getValue:function(){if(this.popupConfig){var a=this.popupConfig.getConfig();this.value.output={title:a.title,fields:a.fields};this.value.fields=this.args.param.defaultValue.fields}return this.value}})})},"widgets/Geoprocessing/resultRendererManager":function(){define(["jimu/utils","./resultrenderers/simpleResultRenderers"],function(h,e){var l={},f,d;l.createResultRenderer=function(a,b,l){var g="ArcGISDynamicMapServiceLayer"===
b._wab_type?"AddResultImageLayer":"GPFeatureRecordSetLayer"===a.dataType?"DrawResultFeatureSet":"GPRecordSet"===a.dataType?"RecordSetTable":"error"===a?"Error":"SimpleResultRenderer";l={param:a,widgetUID:l.uid,map:f,nls:d,config:l.config};if("DrawResultFeatureSet"===g)l.value=b.value,a=new e.DrawResultFeatureSet(l);else if("RecordSetTable"===g)l.value=b.value,a=new e.RecordSetTable(l);else if("SimpleResultRenderer"===g){var n;if(-1<["GPLong","GPDouble","GPString","GPBoolean","GPMultiValue"].indexOf(a.dataType))n=
h.sanitizeHTML(b.value);else if("GPLinearUnit"===a.dataType)n=b.value.distance+"\x26nbsp;"+b.value.units;else if("GPDate"===a.dataType)n=(new Date(b.value)).toLocaleTimeString();else if("GPRecordSet"===a.dataType)n="table";else if("GPDataFile"===a.dataType||"GPRasterDataLayer"===a.dataType)n=b.value.url?'\x3ca target\x3d"_blank" href\x3d"'+b.value.url+'"\x3e'+b.value.url+"\x3c/a\x3e":a.paramName+": null";l.message=n;a=new e.SimpleResultRenderer(l)}else"AddResultImageLayer"===g?(l.layer=b,a=new e.AddResultImageLayer(l)):
"UnsupportRenderer"===g?(l.message="type "+a.dataType+" is not supported for now.",a=new e.UnsupportRenderer(l)):"Error"===g?(l.message=d.error,a=new e.ErrorResultRenderer(l)):(l.message="unknown renderer name: "+g,a=new e.UnsupportRenderer(l));return a};l.setMap=function(a){f=a};l.setNls=function(a){d=a};return l})},"widgets/Geoprocessing/resultrenderers/simpleResultRenderers":function(){define("dojo/_base/declare dojo/_base/html ../BaseResultRenderer ./FeatureSetRenderer ./RecordSetRenderer ./ResultImageLayerRenderer".split(" "),
function(h,e,l,f,d,a){var b={};b.UnsupportRenderer=h(l,{baseClass:"jimu-gp-resultrenderer-base jimu-gp-renderer-unsupport",postCreate:function(){this.inherited(arguments);e.setAttr(this.domNode,"innerHTML",this.message)}});b.SimpleResultRenderer=h(l,{baseClass:"jimu-gp-resultrenderer-base jimu-gp-renderer-simple",postCreate:function(){this.inherited(arguments);e.setAttr(this.domNode,"innerHTML",this.message)}});b.ErrorResultRenderer=h(l,{baseClass:"jimu-gp-resultrenderer-base jimu-gp-renderer-error",
postCreate:function(){this.inherited(arguments);e.setAttr(this.domNode,"innerHTML",this.message)}});b.RecordSetTable=d;b.DrawResultFeatureSet=f;b.AddResultImageLayer=a;return b})},"widgets/Geoprocessing/BaseResultRenderer":function(){define(["dojo/_base/declare","dijit/_WidgetBase"],function(h,e){return h([e],{baseClass:"jimu-gp-resultrenderer-base",postCreate:function(){this.inherited(arguments)}})})},"widgets/Geoprocessing/resultrenderers/FeatureSetRenderer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/html dojo/dom-style dojo/dom-attr dojo/on dijit/_TemplatedMixin esri/layers/GraphicsLayer esri/layers/FeatureLayer esri/graphicsUtils esri/renderers/SimpleRenderer esri/renderers/jsonUtils esri/InfoTemplate jimu/exportUtils jimu/dijit/ExportChooser dojo/text!./FeatureSetRenderer.html ../BaseResultRenderer ../LayerOrderUtil ./defaultSymbol".split(" "),
function(h,e,l,f,d,a,b,q,g,n,r,k,p,t,x,w,c,y,z,m){return h([y,q],{baseClass:"jimu-gp-resultrenderer-base jimu-gp-renderer-draw-feature",templateString:c,postCreate:function(){this.inherited(arguments);this.value.features&&0<this.value.features.length?(this._displayText(),this._drawResultFeature(this.param,this.value)):(d.set(this.clearNode,"display","none"),d.set(this.exportNode,"display","none"),this.labelContent.innerHTML=this.nls.emptyResult)},destroy:function(){this.resultLayer&&this.map.removeLayer(this.resultLayer);
this.inherited(arguments)},_displayText:function(){d.set(this.clearNode,"display","");a.set(this.clearNode,"title",this.nls.clear);this.own(b(this.clearNode,"click",e.hitch(this,function(){this.resultLayer&&(this.map.infoWindow.isShowing&&this.map.infoWindow.hide(),this.resultLayer.clear(),this.map.removeLayer(this.resultLayer));d.set(this.exportNode,"display","none");d.set(this.clearNode,"display","none");this.labelContent.innerHTML=this.nls.cleared})));if(this.config.showExportButton){d.set(this.exportNode,
"display","");a.set(this.exportNode,"title",this.nls.exportOutput);var c=x.createDataSource({type:x.TYPE_FEATURESET,data:this.value,filename:this.param.name});this.exportChooser=new w({dataSource:c});this.exportChooser.hide();f.place(this.exportChooser.domNode,this.domNode);this.own(b(this.exportNode,"click",e.hitch(this,function(a){a.preventDefault();a.stopPropagation();this.exportChooser.show(a.clientX,a.clientY)})))}},_drawResultFeature:function(a,b){var c;a.popup||(a.popup={enablePopup:!0,title:"",
fields:[]});a.popup.enablePopup&&(c=new t(a.popup.title||"${Non-Exist-Field}",this._generatePopupContent(b)));if(this.config.shareResults&&!this.config.useDynamicSchema){if(!a.defaultValue||!a.defaultValue.geometryType)throw Error("Output parameter default value does not provide enough information to draw feature layer.");a.defaultValue.name=a.name;this.resultLayer=new n({layerDefinition:a.defaultValue,featureSet:null},{id:this.widgetUID+a.name,infoTemplate:c})}else this.resultLayer=new g({id:this.widgetUID+
a.name,infoTemplate:c});l.forEach(b.features,function(a){this.resultLayer.add(a)},this);this.resultLayer.title=a.label||a.name;this._addResultLayer(a.name);c=a.renderer;this.config.useDynamicSchema||!c?"esriGeometryPoint"===b.geometryType||"esriGeometryMultipoint"===b.geometryType?c=new k(m.pointSymbol):"esriGeometryPolyline"===b.geometryType?c=new k(m.lineSymbol):"esriGeometryPolygon"===b.geometryType&&(c=new k(m.polygonSymbol)):c=p.fromJson(c);this.resultLayer.setRenderer(c);try{var d=r.graphicsExtent(b.features);
d&&(this.resultLayer.fullExtent=d.expand(1.4),this.map.setExtent(this.resultLayer.fullExtent))}catch(e){console.error(e)}},_addResultLayer:function(a){var b=new z(this.config,this.map);try{b.calculateLayerIndex(a,this.widgetUID).then(e.hitch(this,function(a){-1!==a?this.map.addLayer(this.resultLayer,a):this.map.addLayer(this.resultLayer)}))}catch(c){console.error(c.message),console.warn("Draw result feature set on the top of map"),this.map.addLayer(this.resultLayer)}},_generatePopupContent:function(a){var b=
"";l.forEach(!this.config.useDynamicSchema&&this.param.popup.fields&&0<this.param.popup.fields.length?this.param.popup.fields:a.fields,function(a){b+='\x3ctr valign\x3d"top"\x3e\x3ctd class\x3d"attr-name"\x3e'+a.alias+'\x3c/td\x3e\x3ctd class\x3d"attr-value"\x3e${'+a.name+"}\x3c/td\x3e\x3c/tr\x3e"});return'\x3cdiv class\x3d"geoprocessing-popup"\x3e\x3ctable class\x3d"geoprocessing-popup-table" cellpadding\x3d"0" cellspacing\x3d"0"\x3e\x3ctbody\x3e'+b+"\x3c/tbody\x3e\x3c/table\x3e\x3c/div\x3e"}})})},
"jimu/dijit/ExportChooser":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/ExportChooser.html dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/dom-class dojo/dom-style dojo/dom-geometry dojo/on dojo/Evented".split(" "),function(h,e,l,f,d,a,b,q,g,n,r,k,p){return h([e,l,f,p],{templateString:d,baseClass:"jimu-export-chooser",declaredClass:"jimu.dijit.ExportChooser",dataSource:null,nls:null,postMixInProperties:function(){this.nls=
window.jimuNls.exportTo},postCreate:function(){this.inherited(arguments);if(this.dataSource){var b=this.dataSource.getSupportExportFormats();0<b.length&&(this.initFormats(b),this.own(k(this.exportFormats,"click",a.hitch(this,this._onFormatClick))),this.own(k(this.exportMask,"click",a.hitch(this,this.hide))))}},initFormats:function(a){b.forEach(a,function(a){a=q.create("div",{"class":"export-item jimu-ellipsis","data-value":a.value,innerHTML:a.label});q.place(a,this.exportFormats)},this)},_onFormatClick:function(a){a.preventDefault();
a.stopPropagation();a=a.target||a.srcElement;g.contains(a,"export-item")&&(this.hide(),a=a.getAttribute("data-value"),this.dataSource.setFormat(a),this.dataSource.download(),this.emit("start-downloading",a))},show:function(a,b){var d;n.set(this.domNode,{left:"-1000px",top:"0px",display:"block"});d=r.getMarginSize(this.domNode);n.set(this.domNode,{left:(window.isRTL?a+d.w>window.innerWidth?window.innerWidth-d.w:0>a?0:a:0>a-d.w?0:a>window.innerWidth?window.innerWidth-d.w:a-d.w)+"px",top:(d.h>window.innerHeight?
0:b+d.h>window.innerHeight?window.innerHeight-d.h:b+d.h+5<window.innerHeight?b+5:b)+"px"})},hide:function(){n.set(this.domNode,"display","none")}})})},"widgets/Geoprocessing/resultrenderers/defaultSymbol":function(){define("dojo/json dojo/text!./symbol.json esri/symbols/SimpleLineSymbol esri/symbols/SimpleFillSymbol esri/symbols/jsonUtils esri/Color".split(" "),function(h,e,l,f,d,a){h=h.parse(e);e={};e.pointSymbol=d.fromJson(h.pointSymbol);e.lineSymbol=new l(l.STYLE_SOLID,new a([0,69,117]),2);e.polygonSymbol=
new f(f.STYLE_SOLID,new l(l.STYLE_SOLID,new a([110,110,110]),1),new a([0,100,255,0.6]));return e})},"widgets/Geoprocessing/resultrenderers/RecordSetRenderer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/dom-style dojo/dom-attr dojo/on dijit/_TemplatedMixin dojo/store/Memory dgrid/OnDemandGrid dgrid/extensions/ColumnResizer jimu/exportUtils jimu/dijit/ExportChooser jimu/LayerInfos/LayerInfos jimu/dijit/Popup dojo/text!./RecordSetRenderer.html ../BaseResultRenderer".split(" "),
function(h,e,l,f,d,a,b,q,g,n,r,k,p,t,x,w,c){return h([c,q],{baseClass:"jimu-gp-resultrenderer-base jimu-gp-renderer-table",templateString:w,postCreate:function(){this.inherited(arguments);var c=[];if(!this.value.features||0===this.value.features.length)d.set(this.clearNode,"display","none"),d.set(this.exportNode,"display","none"),d.set(this.magnifyNode,"display","none"),this.tableNode.innerHTML=this.nls.emptyResult;else{d.set(this.magnifyNode,"display","");if(!this.config.useDynamicSchema&&this.param.defaultValue&&
this.param.defaultValue.output&&this.param.defaultValue.output.fields)c=this.param.defaultValue.output.fields;else if(this.value.fields)c=this.value.fields;else if(this.value.features&&0<this.value.features.length)for(var q in this.value.features[0].attributes)c.push({name:q});if(this.config.shareResults){var m,x=t.getInstanceSync();m=x.addTable({featureCollectionData:{layerDefinition:{fields:c},featureSet:this.value},title:this.param.label||this.param.name});d.set(this.clearNode,"display","");a.set(this.clearNode,
"title",this.nls.clear);this.own(b(this.clearNode,"click",e.hitch(this,function(){x.removeTable(m);d.set(this.exportNode,"display","none");d.set(this.clearNode,"display","none");d.set(this.magnifyNode,"display","none");this.labelContent.innerHTML=this.nls.cleared;f.empty(this.tableNode);this.table&&this.table.destroy()})))}q=l.map(this.value.features,function(a){return a.attributes});a.set(this.magnifyNode,"title",this.nls.enlargeView);this.own(b(this.magnifyNode,"click",e.hitch(this,this.magnifyTable)));
if(this.config.showExportButton){a.set(this.exportNode,"title",this.nls.exportOutput);d.set(this.exportNode,"display","");var w=k.createDataSource({type:k.TYPE_TABLE,data:{fields:c,datas:q},filename:this.param.name});this.exportChooser=new p({dataSource:w});this.exportChooser.hide();f.place(this.exportChooser.domNode,this.domNode);this.own(b(this.exportNode,"click",e.hitch(this,function(a){a.preventDefault();a.stopPropagation();this.exportChooser.show(a.clientX,a.clientY)})))}var c=l.map(c,function(a){return{label:a.alias||
a.name,field:a.name}}),B;l.some(this.value.fields,function(a){if("esriFieldTypeOID"===a.type)return B=a.name,!0});q=new g({data:q,idProperty:B});this.table=new (h([n,r]))({columns:c,store:q});f.place(this.table.domNode,this.tableNode)}},startup:function(){this.inherited(arguments);this.table.startup()},magnifyTable:function(){var a=f.create("div",{"class":"gp-table-magnified"});f.place(this.table.domNode,a);a=new x({content:a,titleLabel:this.param.tooltip||this.param.label||"",container:"main-page",
onClose:e.hitch(this,function(){f.place(this.table.domNode,this.tableNode);this.table.resize()})});d.set(a.domNode,{top:"5%",left:"5%",width:"90%",height:"90%"});a.startup();this.table.resize()}})})},"dgrid/extensions/ColumnResizer":function(){define("dojo/_base/declare dojo/on dojo/query dojo/_base/lang dojo/dom dojo/dom-geometry dojo/has ../util/misc put-selector/put dojo/_base/html xstyle/css!../css/extensions/ColumnResizer.css".split(" "),function(h,e,l,f,d,a,b,q,g){function n(a){for(var b=a.length,
c=b,d=a[0].length,e=Array(b);b--;)e[b]=Array(d);for(var f={},b=0;b<c;b++)for(var g=e[b],h=a[b],k=0,l=0;k<d;k++){var v=h[l],s;if("undefined"==typeof g[k]){g[k]=v.id;if(v.rowSpan&&1<v.rowSpan){s=e;for(var n=v.rowSpan,q=b,p=k,r=v.id,t=1;t<n;t++)s[q+t][p]=r}if(0<b&&v.colSpan&&1<v.colSpan)for(s=1;s<v.colSpan;s++)if(g[++k]=v.id,v.rowSpan&&1<v.rowSpan)for(var n=e,q=v.rowSpan,p=b,r=k,t=v.id,H=1;H<q;H++)n[p+H][r]=t;f[v.id]=a[0][k].id;l++}}return f}function r(a,b,c,d,f){if(!(0>=c)){var g=a.columns[b],k;if(g&&
(k={grid:a,columnId:b,width:c,bubbles:!0,cancelable:!0},d&&(k.parentType=d),!a._resizedColumns||e.emit(a.headerNode,"dgrid-columnresize",k)))return"auto"===c?delete g.width:(g.width=c,c+="px"),(d=a._columnSizes[b])?d.set("width",c):d=q.addCssRule("#"+q.escapeCssIdentifier(a.domNode.id)+" .dgrid-column-"+q.escapeCssIdentifier(b,"-"),"width: "+c+";"),a._columnSizes[b]=d,!1!==f&&a.resize(),!0}}var k,p=0,t={create:function(){k=g("div.dgrid-column-resizer")},destroy:function(){g(k,"!");k=null},show:function(b){b=
a.position(b.domNode,!0);k.style.top=b.y+"px";k.style.height=b.h+"px";g(document.body,k)},move:function(a){k.style.left=a+"px"},hide:function(){k.parentNode.removeChild(k)}};return h("dgrid.extensions.ColumnResizer",null,{resizeNode:null,minWidth:40,adjustLastColumn:!0,_resizedColumns:!1,buildRendering:function(){this.inherited(arguments);p++||t.create()},destroy:function(){this.inherited(arguments);for(var a in this._columnSizes)this._columnSizes[a].remove();--p||t.destroy()},resizeColumnWidth:function(a,
b){return r(this,a,b)},configStructure:function(){var a=this._oldColumnSizes=f.mixin({},this._columnSizes),b;this._resizedColumns=!1;this._columnSizes={};this.inherited(arguments);for(b in a)b in this._columnSizes||a[b].remove();delete this._oldColumnSizes},_configColumn:function(a){this.inherited(arguments);var b=a.id,c;"width"in a&&((c=this._oldColumnSizes[b])?c.set("width",a.width+"px"):c=q.addCssRule("#"+q.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-"+q.escapeCssIdentifier(b,"-"),"width: "+
a.width+"px;"),this._columnSizes[b]=c)},renderHeader:function(){this.inherited(arguments);var a=this,d;if(this.columnSets&&this.columnSets.length)for(var c=this.columnSets.length;c--;)d=f.mixin(d||{},n(this.columnSets[c]));else this.subRows&&1<this.subRows.length&&(d=n(this.subRows));for(var c=l(".dgrid-cell",a.headerNode),k=c.length;k--;){var h=c[k],m=h.columnId,p=a.columns[m],r=h.childNodes;if(p&&!1!==p.resizable){p=g("div.dgrid-resize-header-container");for(h.contents=p;0<r.length;)g(p,r[0]);h=
g(h,p,"div.dgrid-resize-handle.resizeNode-"+q.escapeCssIdentifier(m,"-"));h.columnId=d&&d[m]||m}}a.mouseMoveListen||(e(a.headerNode,".dgrid-resize-handle:mousedown"+(b("touch")?",.dgrid-resize-handle:touchstart":""),function(b){a._resizeMouseDown(b,this);a.mouseMoveListen.resume();a.mouseUpListen.resume()}),a._listeners.push(a.mouseMoveListen=e.pausable(document,"mousemove"+(b("touch")?",touchmove":""),q.throttleDelayed(function(b){a._updateResizerPosition(b)}))),a._listeners.push(a.mouseUpListen=
e.pausable(document,"mouseup"+(b("touch")?",touchend":""),function(b){a._resizeMouseUp(b);a.mouseMoveListen.pause();a.mouseUpListen.pause()})),a.mouseMoveListen.pause(),a.mouseUpListen.pause())},_resizeMouseDown:function(a,b){a.preventDefault();d.setSelectable(this.domNode,!1);this._startX=this._getResizeMouseLocation(a);this._targetCell=l(".dgrid-column-"+q.escapeCssIdentifier(b.columnId,"-"),this.headerNode)[0];this._updateResizerPosition(a);t.show(this)},_resizeMouseUp:function(a){var b=this._columnSizes,
c,e,f;this.adjustLastColumn&&(f=this.headerNode.clientWidth-1);this._resizedColumns||(c=l(".dgrid-cell",this.headerNode),this.columnSets&&this.columnSets.length?c=c.filter(function(a){return"0"==a.columnId.split("-")[0]&&!(a.columnId in b)}):this.subRows&&1<this.subRows.length&&(c=c.filter(function(a){return"0"==a.columnId.charAt(0)&&!(a.columnId in b)})),e=c.map(function(a){return a.offsetWidth}),c.forEach(function(a,b){r(this,a.columnId,e[b],null,!1)},this),this._resizedColumns=!0);d.setSelectable(this.domNode,
!0);c=this._targetCell;var g=this._getResizeMouseLocation(a)-this._startX,k=c.offsetWidth+g,h=this._getResizedColumnWidths(),n=h.totalWidth,h=h.lastColId,u=l(".dgrid-column-"+q.escapeCssIdentifier(h,"-"),this.headerNode)[0].offsetWidth;k<this.minWidth&&(k=this.minWidth);r(this,c.columnId,k,a.type)&&c.columnId!=h&&this.adjustLastColumn&&(n+g<f?r(this,h,"auto",a.type):u-g<=this.minWidth&&r(this,h,this.minWidth,a.type));t.hide();delete this._startX;delete this._targetCell},_updateResizerPosition:function(a){if(this._targetCell){a=
this._getResizeMouseLocation(a);var b=this._targetCell.offsetWidth,c=a;b+(a-this._startX)<this.minWidth&&(c=this._startX-(b-this.minWidth));t.move(c)}},_getResizeMouseLocation:function(a){var b=0;a.pageX?b=a.pageX:a.clientX&&(b=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft);return b},_getResizedColumnWidths:function(){var a=0,b=l((this.columnSets?".dgrid-column-set-cell ":"")+"tr:first-child .dgrid-cell",this.headerNode),c=b.length;if(!c)return{};for(var d=b[c-1].columnId;c--;)a+=
b[c].offsetWidth;return{totalWidth:a,lastColId:d}}})})},"widgets/Geoprocessing/resultrenderers/ResultImageLayerRenderer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-style dojo/on dijit/_TemplatedMixin dojo/text!./ResultImageLayerRenderer.html ../BaseResultRenderer".split(" "),function(h,e,l,f,d,a,b,q){return h([q,a],{baseClass:"jimu-gp-resultrenderer-base jimu-gp-renderer-draw-feature",templateString:b,postCreate:function(){this.inherited(arguments);this.layer&&
(this._displayText(),this._addResultLayer(this.param,this.layer))},destroy:function(){this.layer&&(this.map.removeLayer(this.layer),this.layer=null);this.inherited(arguments)},_displayText:function(){f.set(this.clearNode,"display","");this.own(d(this.clearNode,"click",e.hitch(this,function(){this.layer&&(this.map.infoWindow.isShowing&&this.map.infoWindow.hide(),this.map.removeLayer(this.layer),this.layer=null);f.set(this.clearNode,"display","none")})))},_addResultLayer:function(a,b){var d=this.map.layerIds,
e,f=-1;l.some(this.config.outputParams,function(a){if("GPFeatureRecordSetLayer"===a.dataType||"GPRasterDataLayer"===a.dataType)if(f=d.indexOf(this.widgetUID+a.name),0<=f)return e=a,!0},this);if(e){var h=this.config.outputParams.indexOf(a),q=this.config.outputParams.indexOf(e);h>q?this.map.addLayer(b,f):this.map.addLayer(b)}else this.map.addLayer(b)}})})},"esri/tasks/GPMessage":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(h,e,l,f){h=h(null,{declaredClass:"esri.tasks.GPMessage",
constructor:function(d){e.mixin(this,d)}});e.mixin(h,{TYPE_INFORMATIVE:"esriJobMessageTypeInformative",TYPE_PROCESS_DEFINITION:"esriJobMessageTypeProcessDefinition",TYPE_PROCESS_START:"esriJobMessageTypeProcessStart",TYPE_PROCESS_STOP:"esriJobMessageTypeProcessStop",TYPE_WARNING:"esriJobMessageTypeWarning",TYPE_ERROR:"esriJobMessageTypeError",TYPE_EMPTY:"esriJobMessageTypeEmpty",TYPE_ABORT:"esriJobMessageTypeAbort"});return h})},"esri/tasks/Geoprocessor":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/Deferred dojo/_base/json dojo/has dojo/io-query ../kernel ../request ../deferredUtils ../geometry/normalizeUtils ./Task ./FeatureSet ./JobInfo ./GPMessage ./LinearUnit ./DataFile ./RasterData ./Date ./ParameterValue ./GPResultImageLayer ../layers/ArcGISDynamicMapServiceLayer ../layers/MapImage".split(" "),
function(h,e,l,f,d,a,b,q,g,n,r,k,p,t,x,w,c,y,z,m,C,D,B){h=h(k,{declaredClass:"esri.tasks.Geoprocessor",_eventMap:{"execute-complete":["results","messages"],"get-result-data-complete":["result"],"get-result-image-complete":["mapImage"],"get-result-image-layer-complete":["layer"],"job-cancel":["jobInfo"],"job-complete":["jobInfo"],"status-update":["jobInfo"]},constructor:function(a){this._jobUpdateHandler=e.hitch(this,this._jobUpdateHandler);this._getJobStatus=e.hitch(this,this._getJobStatus);this._getResultDataHandler=
e.hitch(this,this._getResultDataHandler);this._getResultImageHandler=e.hitch(this,this._getResultImageHandler);this._executeHandler=e.hitch(this,this._executeHandler);this._updateTimers=[];this.registerConnectEvents()},updateDelay:1E3,processSpatialReference:null,outputSpatialReference:null,outSpatialReference:null,setUpdateDelay:function(a){this.updateDelay=a},setProcessSpatialReference:function(a){this.processSpatialReference=a},setOutputSpatialReference:function(a){this._setOutSR(a)},setOutSpatialReference:function(a){this._setOutSR(a)},
__msigns:[{n:"execute",c:3,a:[{i:0,p:["*"]}],e:2,f:1},{n:"submitJob",c:4,a:[{i:0,p:["*"]}],e:3}],_setOutSR:function(a){this.outSpatialReference=this.outputSpatialReference=a},_getOutSR:function(){return this.outSpatialReference||this.outputSpatialReference},_gpEncode:function(a,b,c){for(var f in a){var g=a[f];e.isArray(g)?a[f]=d.toJson(l.map(g,function(a){return this._gpEncode({item:a},!0).item},this)):g instanceof Date&&(a[f]=g.getTime())}return this._encode(a,b,c)},_decode:function(a){var b=a.dataType,
d=new m(a);if(-1!==l.indexOf(["GPBoolean","GPDouble","GPLong","GPString"],b))return d;if("GPLinearUnit"===b)d.value=new w(d.value);else if("GPFeatureRecordSetLayer"===b||"GPRecordSet"===b)d.value=new p(d.value);else if("GPDataFile"===b)d.value=new c(d.value);else if("GPDate"===b)a=d.value,e.isString(a)?d.value=new z({date:a}):d.value=new Date(a);else if("GPRasterData"===b||"GPRasterDataLayer"===b)a=a.value.mapImage,d.value=a?new B(a):new y(d.value);else if(-1!==b.indexOf("GPMultiValue:")){var f=b.split(":")[1];
a=d.value;d.value=l.map(a,function(a){return this._decode({paramName:"_name",dataType:f,value:a}).value},this)}else console.log(this.declaredClass+" : GP Data type not handled. : "+d.dataType),d=null;return d},submitJob:function(a,b,c,f,h){var k=this._getOutSR(),l=h.assembly;a=this._gpEncode(e.mixin({},this._url.query,{f:"json","env:outSR":k?k.wkid||d.toJson(k.toJson()):null,"env:processSR":this.processSpatialReference?this.processSpatialReference.wkid||d.toJson(this.processSpatialReference.toJson()):
null},a),null,l&&l[0]);var m=this._jobUpdateHandler,q=this._errorHandler;return g({url:this._url.path+"/submitJob",content:a,callbackParamName:"callback",load:function(a,d){m(a,d,!1,b,c,h.dfd)},error:function(a){q(a,f,h.dfd)}})},_jobUpdateHandler:function(a,b,c,d,e,f){var g=a.jobId;b=new t(a);this._successHandler([b],"onStatusUpdate",e,c&&f);if(!c)switch(clearTimeout(this._updateTimers[g]),this._updateTimers[g]=null,f&&f.progress(b),a.jobStatus){case t.STATUS_SUBMITTED:case t.STATUS_EXECUTING:case t.STATUS_WAITING:case t.STATUS_NEW:var h=
this._getJobStatus;this._updateTimers[g]=setTimeout(function(){h(g,c,d,e,f)},this.updateDelay);break;default:this._successHandler([b],"onJobComplete",d,f)}},_getJobStatus:function(a,b,c,d,f){var h=this._jobUpdateHandler;g({url:this._url.path+"/jobs/"+a,content:e.mixin({},this._url.query,{f:"json"}),callbackParamName:"callback",load:function(a,e){h(a,e,b,c,d,f)},error:this._errorHandler})},_getResultDataHandler:function(a,b,c,d,e){try{var f=this._decode(a);this._successHandler([f],"onGetResultDataComplete",
c,e)}catch(g){this._errorHandler(g,d,e)}},getResultData:function(a,b,c,d){var h=this._getResultDataHandler,k=this._errorHandler,l=new f(n._dfdCanceller);l._pendingDfd=g({url:this._url.path+"/jobs/"+a+"/results/"+b,content:e.mixin({},this._url.query,{f:"json",returnType:"data"}),callbackParamName:"callback",load:function(a,b){h(a,b,c,d,l)},error:function(a){k(a,d,l)}});return l},checkJobStatus:function(a,b,c){var d=this._jobUpdateHandler,h=this._errorHandler,k=new f(n._dfdCanceller);k._pendingDfd=
g({url:this._url.path+"/jobs/"+a,content:e.mixin({},this._url.query,{f:"json"}),callbackParamName:"callback",load:function(a,c){d(a,c,!0,null,b,k)},error:function(a){h(a,c,k)}});return k},cancelJob:function(a,b,c){var d=this._errorHandler,h=new f(n._dfdCanceller);h._pendingDfd=g({url:this._url.path+"/jobs/"+a+"/cancel",content:e.mixin({},this._url.query,{f:"json"}),callbackParamName:"callback",load:e.hitch(this,function(a,c){this._successHandler([a],"onJobCancel",b,h)}),error:function(a){d(a,c,h)}});
return h},execute:function(a,b,c,f){var h=this._getOutSR(),k=f.assembly;a=this._gpEncode(e.mixin({},this._url.query,{f:"json","env:outSR":h?h.wkid||d.toJson(h.toJson()):null,"env:processSR":this.processSpatialReference?this.processSpatialReference.wkid||d.toJson(this.processSpatialReference.toJson()):null},a),null,k&&k[0]);var l=this._executeHandler,m=this._errorHandler;return g({url:this._url.path+"/execute",content:a,callbackParamName:"callback",load:function(a,d){l(a,d,b,c,f.dfd)},error:function(a){m(a,
c,f.dfd)}})},_executeHandler:function(a,b,c,d,e){try{var f=a.results,g,h,k=a.messages;g=0;for(h=f.length;g<h;g++)f[g]=this._decode(f[g]);g=0;for(h=k.length;g<h;g++)k[g]=new x(k[g]);this._successHandler([f,k],"onExecuteComplete",c,e)}catch(l){this._errorHandler(l,d,e)}},_getResultImageHandler:function(a,b,c,d,e){try{var f=this._decode(a);this._successHandler([f],"onGetResultImageComplete",c,e)}catch(g){this._errorHandler(g,d,e)}},getResultImage:function(a,b,c,d,h){var k=this._getResultImageHandler,
l=this._errorHandler;c=this._gpEncode(e.mixin({},this._url.query,{f:"json"},c.toJson()));var m=new f(n._dfdCanceller);m._pendingDfd=g({url:this._url.path+"/jobs/"+a+"/results/"+b,content:c,callbackParamName:"callback",load:function(a,b){k(a,b,d,h,m)},error:function(a){l(a,h,m)}});return m},cancelJobStatusUpdates:function(a){clearTimeout(this._updateTimers[a]);this._updateTimers[a]=null},getResultImageLayer:function(a,c,d,e){if(null==c){var f=this._url.path.indexOf("/GPServer/");a=this._url.path.substring(0,
f)+"/MapServer/jobs/"+a}else a=this._url.path+"/jobs/"+a+"/results/"+c;this._url.query&&(a+="?"+b.objectToQuery(this._url.query));c=null==c?new D(a,{imageParameters:d}):new C(a,{imageParameters:d},!0);this.onGetResultImageLayerComplete(c);e&&e(c);return c},onStatusUpdate:function(){},onJobComplete:function(){},onExecuteComplete:function(){},onGetResultDataComplete:function(){},onGetResultImageComplete:function(){},onGetResultImageLayerComplete:function(){},onJobCancel:function(){}});r._createWrappers(h);
return h})},"esri/tasks/JobInfo":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","./GPMessage"],function(h,e,l,f,d){h=h(null,{declaredClass:"esri.tasks.JobInfo",constructor:function(a){this.messages=[];e.mixin(this,a);a=this.messages;var b,f=a.length;for(b=0;b<f;b++)a[b]=new d(a[b])},jobId:"",jobStatus:""});e.mixin(h,{STATUS_CANCELLED:"esriJobCancelled",STATUS_CANCELLING:"esriJobCancelling",STATUS_DELETED:"esriJobDeleted",STATUS_DELETING:"esriJobDeleting",STATUS_EXECUTING:"esriJobExecuting",
STATUS_FAILED:"esriJobFailed",STATUS_NEW:"esriJobNew",STATUS_SUBMITTED:"esriJobSubmitted",STATUS_SUCCEEDED:"esriJobSucceeded",STATUS_TIMED_OUT:"esriJobTimedOut",STATUS_WAITING:"esriJobWaiting"});return h})},"esri/tasks/Date":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/date/locale","dojo/has","../kernel"],function(h,e,l,f,d){return h(null,{declaredClass:"esri.tasks.Date",constructor:function(a){a&&(a.format&&(this.format=a.format),this.date=l.parse(a.date,{selector:"date",datePattern:this.format}))},
date:new Date,format:"EEE MMM dd HH:mm:ss zzz yyyy",toJson:function(){return{date:l.format(this.date,{selector:"date",datePattern:this.format}),format:this.format}}})})},"esri/tasks/ParameterValue":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(h,e,l,f){return h(null,{declaredClass:"esri.tasks.ParameterValue",constructor:function(d){e.mixin(this,d)}})})},"esri/tasks/GPResultImageLayer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/json dojo/has dojo/io-query ../kernel ../layers/ArcGISDynamicMapServiceLayer".split(" "),
function(h,e,l,f,d,a,b){return h(b,{declaredClass:"esri.tasks._GPResultImageLayer",constructor:function(a,b){b&&(b.imageParameters&&b.imageParameters.extent)&&(this.initialExtent=this.fullExtent=b.imageParameters.extent,this.spatialReference=this.initialExtent.spatialReference);this.getImageUrl=e.hitch(this,this.getImageUrl);this.loaded=!0;this.onLoad(this)},getImageUrl:function(a,b,f,h){var k=a.spatialReference.wkid;h(this._url.path+"?"+d.objectToQuery(e.mixin(this._params,{f:"image",bbox:l.toJson(a.toJson()),
bboxSR:k,imageSR:k,size:b+","+f})))}})})},"widgets/Geoprocessing/utils":function(){define(["dojo/_base/array","dojo/Deferred","esri/request"],function(h,e,l){var f={promisifyGetValue:function(d){var a=d.getValue;d.getValue=function(){var b=a.apply(d);if(null!==b&&b.then)return b;var f=new e;f.resolve(b);return f}},allowShareResult:function(d){return h.some(d.outputParams,function(a){return"GPRecordSet"===a.dataType||"GPFeatureRecordSetLayer"===a.dataType&&a.defaultValue&&a.defaultValue.geometryType})},
getServiceDescription:function(d){var a;return l({url:d,content:{f:"json"},handleAs:"json",callbackParamName:"callback"}).then(function(b){a=b;return f.getGPServerDescription(d).then(function(b){a.serverInfo=b;a.useResultMapServer=b.hasResultMapServer;return f.uploadSupported(b).then(function(b){a.serverInfo.supportsUpload=b.supportsUpload;"maxUploadFileSize"in b&&(a.serverInfo.maxUploadFileSize=b.maxUploadFileSize);return a})})})},getGPServerDescription:function(d){var a={url:f.getGPServerUrl(d),
content:{f:"json"},handleAs:"json",callbackParamName:"callback"};return l(a,{useProxy:!1}).then(function(b){var d={};d.currentVersion=b.currentVersion||0;d.url=a.url;d.hasResultMapServer="esriExecutionTypeAsynchronous"===b.executionType&&"resultMapServerName"in b&&""!==b.resultMapServerName;return d})},getGPServerUrl:function(d){if(!/\/GPServer\/.+$/.test(d))return"";var a=d.search(/[\w]+[^\/]*$/g);return d.substr(0,a)},uploadSupported:function(d){if(10.1<=d.currentVersion)return l({url:d.url+"uploads/info",
content:{f:"json"},handleAs:"json"}).then(function(a){return{supportsUpload:!0,maxUploadFileSize:a.maxUploadFileSize}},function(){return{supportsUpload:!1}});d=new e;d.resolve({supportsUpload:!1});return d}};return f})},"widgets/Geoprocessing/_build-generate_module":function(){define(["dojo/text!./Widget.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},"url:dijit/templates/Calendar.html":'\x3cdiv class\x3d"dijitCalendarContainer dijitInline" role\x3d"presentation" aria-labelledby\x3d"${id}_mddb ${id}_year"\x3e\r\n\t\x3cdiv class\x3d"dijitReset dijitCalendarMonthContainer" role\x3d"presentation"\x3e\r\n\t\t\x3cdiv class\x3d\'dijitReset dijitCalendarArrow dijitCalendarDecrementArrow\' data-dojo-attach-point\x3d"decrementMonth"\x3e\r\n\t\t\t\x3cimg src\x3d"${_blankGif}" alt\x3d"" class\x3d"dijitCalendarIncrementControl dijitCalendarDecrease" role\x3d"presentation"/\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"decreaseArrowNode" class\x3d"dijitA11ySideArrow"\x3e-\x3c/span\x3e\r\n\t\t\x3c/div\x3e\r\n\t\t\x3cdiv class\x3d\'dijitReset dijitCalendarArrow dijitCalendarIncrementArrow\' data-dojo-attach-point\x3d"incrementMonth"\x3e\r\n\t\t\t\x3cimg src\x3d"${_blankGif}" alt\x3d"" class\x3d"dijitCalendarIncrementControl dijitCalendarIncrease" role\x3d"presentation"/\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"increaseArrowNode" class\x3d"dijitA11ySideArrow"\x3e+\x3c/span\x3e\r\n\t\t\x3c/div\x3e\r\n\t\t\x3cdiv data-dojo-attach-point\x3d"monthNode" class\x3d"dijitInline"\x3e\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\t\x3ctable cellspacing\x3d"0" cellpadding\x3d"0" role\x3d"grid" data-dojo-attach-point\x3d"gridNode"\x3e\r\n\t\t\x3cthead\x3e\r\n\t\t\t\x3ctr role\x3d"row"\x3e\r\n\t\t\t\t${!dayCellsHtml}\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\x3c/thead\x3e\r\n\t\t\x3ctbody data-dojo-attach-point\x3d"dateRowsNode" data-dojo-attach-event\x3d"ondijitclick: _onDayClick" class\x3d"dijitReset dijitCalendarBodyContainer"\x3e\r\n\t\t\t\t${!dateRowsHtml}\r\n\t\t\x3c/tbody\x3e\r\n\t\x3c/table\x3e\r\n\t\x3cdiv class\x3d"dijitReset dijitCalendarYearContainer" role\x3d"presentation"\x3e\r\n\t\t\x3cdiv class\x3d"dijitCalendarYearLabel"\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"previousYearLabelNode" class\x3d"dijitInline dijitCalendarPreviousYear" role\x3d"button"\x3e\x3c/span\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"currentYearLabelNode" class\x3d"dijitInline dijitCalendarSelectedYear" role\x3d"button" id\x3d"${id}_year"\x3e\x3c/span\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"nextYearLabelNode" class\x3d"dijitInline dijitCalendarNextYear" role\x3d"button"\x3e\x3c/span\x3e\r\n\t\t\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/Geoprocessing/editors/FeatureSetEditorChooser.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"field"\x3e\r\n    \x3cinput name\x3d"mode" type\x3d"radio" data-dojo-attach-point\x3d"drawMode" data-dojo-props\x3d"" data-dojo-attach-event\x3d"onclick: _onDrawModeSelect" style\x3d"font-size: 10px;" class\x3d"jimu-leading-margin10"\x3e\x3clabel style\x3d"width: auto;" class\x3d"jimu-leading-margin025"\x3e${nls.drawOnMap}\x3c/label\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"field"\x3e\r\n    \x3cinput name\x3d"mode" type\x3d"radio" data-dojo-attach-point\x3d"fileMode" style\x3d"font-size: 10px;" data-dojo-attach-event\x3d"onclick: _onFileModeSelect" class\x3d"jimu-leading-margin10"\x3e\x3clabel style\x3d" width: auto;" class\x3d"jimu-leading-margin025"\x3e${nls.useShapefile}\x3c/label\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"field"\x3e\r\n    \x3cinput name\x3d"mode" type\x3d"radio" data-dojo-attach-point\x3d"layersMode" style\x3d"font-size: 10px;" data-dojo-attach-event\x3d"onclick: _onLayersModeSelect" class\x3d"jimu-leading-margin10"\x3e\x3clabel style\x3d" width: auto;" class\x3d"jimu-leading-margin025"\x3e${nls.selectLayer}\x3c/label\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"field" style\x3d"height: 60px;"\x3e\r\n    \x3cinput name\x3d"mode" type\x3d"radio" data-dojo-attach-point\x3d"urlMode" style\x3d"font-size: 10px;" data-dojo-attach-event\x3d"onclick: _onUrlModeSelect" class\x3d"jimu-leading-margin10"\x3e\x3clabel style\x3d"width: auto" class\x3d"jimu-leading-margin025"\x3e${nls.url}\x3c/label\x3e\r\n    \x3cdiv style\x3d"margin-top:5px;display:none;" data-dojo-attach-point\x3d"urlOptionsDiv"\x3e\r\n      \x3cinput name\x3d"mode" data-dojo-type\x3d"jimu/dijit/URLInput" data-dojo-attach-point\x3d"featureSetUrl" class\x3d"jimu-leading-margin10" style\x3d"display: inline-block;"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"visibleCheckboxDiv" style\x3d"display: inline-block;"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"symbolChooserSection"\x3e\r\n    \x3clabel\x3e${nls.symbol}:\x3c/label\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"symbolChooserNode"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/Geoprocessing/editors/FeatureSetResultEditor.html":'\x3cdiv\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"rendererTab"\x3e\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"popupConfigTab"\x3e\r\n    \x3cdiv style\x3d"margin: 10px"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"enablePopupNode"\x3e\x3c/div\x3e \x3clabel\x3e${nls.enablePopup}\x3c/label\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',"url:jimu/dijit/templates/RendererChooser.html":'\x3cdiv\x3e\r\n\t\x3ctable\x3e\r\n\t\t\x3ctbody\x3e\r\n\t\t\t\x3ctr\x3e\r\n\t\t\t\t\x3ctd class\x3d"leading-td"\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"setting-section" style\x3d"display:inline-block;width:263px;"\x3e\r\n\t\t\t\t\t\t\x3ctable class\x3d"renderer-setting-table" cellpadding\x3d"0" cellspacing\x3d"0"\x3e\r\n\t\t\t\t\t\t\t\x3ccolgroup\x3e\r\n\t\t\t\t\t\t\t\t\x3ccol width\x3d"auto"\x3e\x3c/col\x3e\r\n\t\t\t\t\t\t\t\t\x3ccol width\x3d"180px"\x3e\x3c/col\x3e\r\n\t\t\t\t\t\t    \x3c/colgroup\x3e\r\n\t\t\t\t\t\t\t\x3ctbody\x3e\r\n\t\t\t\t\t\t\t\t\x3ctr data-dojo-attach-point\x3d"rendererSelectTr"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd class\x3d"first-td"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e${nls.use}:\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cselect data-dojo-attach-point\x3d"rendererSelect" data-dojo-type\x3d"dijit/form/Select" style\x3d"width:100%;height:30px;"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3coption value\x3d"simple" selected\x3dtrue\x3e${nls.singleSymbol}\x3c/option\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3coption value\x3d"unique"\x3e${nls.uniqueSymbol}\x3c/option\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3coption value\x3d"color"\x3e${nls.color}\x3c/option\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3coption value\x3d"size"\x3e${nls.size}\x3c/option\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3c/select\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\x3c/tr\x3e\r\n\t\t\t\t\t\t\t\t\x3ctr data-dojo-attach-point\x3d"fieldSelectTr" style\x3d"display:none;"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd class\x3d"first-td"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e${nls.toShow}:\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd class\x3d"field-combobox-td"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"fieldComboBox" data-dojo-type\x3d"dijit/form/ComboBox" class\x3d"dijit-form-CombBox" style\x3d"width:100%;"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\x3c/tr\x3e\r\n\t\t\t\t\t\t\t\t\x3ctr data-dojo-attach-point\x3d"colorBlockTr" style\x3d"display:none;"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd class\x3d"first-td"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e${nls.colors}:\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"uniqueColorSelect" data-dojo-type\x3d"dijit/form/Select" style\x3d"width:100%;height:30px;"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d\'color1\'\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg  style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/c1.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d\'color2\'\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg  style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/c2.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d\'color3\'\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg  style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/c3.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d\'color4\'\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg  style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/c4.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d\'color5\'\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg  style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/c5.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d\'color6\'\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg  style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/c6.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\x3c/tr\x3e\r\n\t\t\t\t\t\t\t\t\x3ctr data-dojo-attach-point\x3d"domainTr" style\x3d"display:none;"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd class\x3d"first-td"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e${nls.domain}:\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"minDomain" type\x3d"text" data-dojo-type\x3d"dijit/form/NumberTextBox" required\x3d"true" value\x3d"0"\r\n\t\t\t\t\t\t\t\t\t\t style\x3d"width:60px;" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e  \u2014  \x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"maxDomain" type\x3d"text" data-dojo-type\x3d"dijit/form/NumberTextBox" required\x3d"true" value\x3d"0"\r\n\t\t\t\t\t\t\t\t\t\t style\x3d"width:60px;" /\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\x3c/tr\x3e\r\n\t\t\t\t\t\t\t\t\x3ctr data-dojo-attach-point\x3d"classCountTr" style\x3d"display:none;"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd class\x3d"first-td"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e${nls.classes}:\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"classCount" data-dojo-type\x3d"dijit/form/NumberSpinner" style\x3d"display:inline-block;width:100px;"\r\n\t\t\t\t\t\t\t\t\t\tdata-dojo-props\x3d\'value:5,smallDelta:1,constraints:{min:2,max:20},intermediateChanges:true\' /\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\x3c/tr\x3e\r\n\t\t\t\t\t\t\t\t\x3ctr data-dojo-attach-point\x3d"colorBarTr" style\x3d"display:none;"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd class\x3d"first-td"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e${nls.colors}:\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"classBreaksColorSelect" data-dojo-type\x3d"dijit/form/Select" style\x3d"width:100%;height:30px;"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color1"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb1.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color2"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb2.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color3"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb3.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color4"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb4.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color5"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb5.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color6"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb6.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color7"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb7.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color8"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb8.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color9"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb9.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color10"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb10.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color11"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb11.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color12"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb12.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color13"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb13.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color14"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb14.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color15"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb15.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color16"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb16.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color17"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb17.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color18"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb18.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color19"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb19.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color20"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb20.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color21"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb21.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color22"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb22.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color23"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb23.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color24"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb24.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color25"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb25.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color26"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb26.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color27"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb27.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\x3c/tr\x3e\r\n\t\t\t\t\t\t\t\t\x3ctr data-dojo-attach-point\x3d"symbolSizeDomainTr" style\x3d"display:none;"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd class\x3d"first-td"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e${nls.symbolSize}:\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"minSymbolSize" type\x3d"text" data-dojo-type\x3d"dijit/form/NumberTextBox" required\x3d"true" value\x3d"5" data-dojo-props\x3d"constraints:{min:1,max:50,places:0}" style\x3d"width:60px;" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e  \u2014  \x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"maxSymbolSize" type\x3d"text" data-dojo-type\x3d"dijit/form/NumberTextBox" required\x3d"true" value\x3d"30" data-dojo-props\x3d"constraints:{min:1,max:50,places:0}"  style\x3d"width:60px;" /\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\x3c/tr\x3e\r\n\t\t\t\t\t\t\t\x3c/tbody\x3e\r\n\t\t\t\t\t\t\x3c/table\x3e\r\n\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"uniqueSetting" style\x3d"display:none;"\x3e\r\n\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"uniqueValueDiv" class\x3d"unique-value-div"\x3e\r\n\t\t\t\t\t\t\t\t\x3ctable class\x3d"unique-symbol-table" style\x3d"width:100%;"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctbody data-dojo-attach-point\x3d"uniqueSysTbody"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/tbody\x3e\r\n\t\t\t\t\t\t\t\t\x3c/table\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv style\x3d"padding-top:20px; margin-bottom:5px;"\x3e${nls.addValue}:\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv\x3e\r\n\t\t\t\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"uniqueEditValue" type\x3d"text" /\x3e\r\n\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"btnAddUniqueValue" class\x3d"jimu-icon jimu-icon-add"\r\n\t\t\t\t\t\t\t\t\t style\x3d\'cursor:pointer;position:relative;top:3px;\'\x3e\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\x3cdiv class\x3d"class-breaks-div" data-dojo-attach-point\x3d"classBreaksSetting" style\x3d"display:none;"\x3e\r\n\t\t\t\t\t\t\t\x3ctable class\x3d"class-breaks-table" style\x3d"width:100%;"\x3e\r\n\t\t\t\t\t\t\t\t\x3ctbody data-dojo-attach-point\x3d"classBreaksTbody"\x3e\r\n\t\t\t\t\t\t\t\t\x3c/tbody\x3e\r\n\t\t\t\t\t\t\t\x3c/table\x3e\r\n\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"defaultSymPreview" class\x3d"default-sym-preview"\x3e\r\n\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"btnDefaultSym" class\x3d"default-sym-btn jimu-btn  jimu-float-leading"\x3e${nls.setDefaultSymbol}\x3c/div\x3e\r\n\t\t\t\t\t\t    \x3cdiv data-dojo-attach-point\x3d"defaultSymPreviewDiv" class\x3d"default-symbol-node  jimu-float-leading"\x3e\x3c/div\x3e\r\n\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd class\x3d"trailing-td"\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"symbol-section" style\x3d"display:inline-block;"\x3e\r\n\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"defaultSymSection"\x3e\r\n\t\t\t\t\t\t\t\x3cdiv\x3e${nls.defaultSymbol}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"defaultSymbolChooser" data-dojo-type\x3d"jimu/dijit/SymbolChooser"\x3e\x3c/div\x3e\r\n\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"selectedSymSection" style\x3d"display:none;"\x3e\r\n\t\t\t\t\t\t\t\x3cdiv\x3e${nls.selectedSymbol}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"uniqueSelectedSymInfoSet" style\x3d"display:none;"\x3e\r\n\t\t\t\t\t\t\t\t\x3ctable style\x3d"width:100%;"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctbody\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3ctr\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e${nls.value}:\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"uniqueSelectedValue" type\x3d"text" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3c/tr\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3ctr\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e${nls.label}:\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"uniqueSelectedLabel" type\x3d"text" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3c/tr\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/tbody\x3e\r\n\t\t\t\t\t\t\t\t\x3c/table\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"classBreaksSelectedInfoSet" style\x3d"display:none;"\x3e\r\n\t\t\t\t\t\t\t\t\x3ctable style\x3d"width:100%;margin-top:10px;"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctbody\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3ctr\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e${nls.range}:\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"selectedFrom" type\x3d"text" data-dojo-type\x3d"dijit/form/NumberTextBox" required\x3d"true" value\x3d"0" style\x3d"width:60px;" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e  \u2014  \x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"selectedTo" type\x3d"text" data-dojo-type\x3d"dijit/form/NumberTextBox" required\x3d"true" value\x3d"0"  style\x3d"width:60px;" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3c/tr\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3ctr\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e${nls.label}:\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"classBreakSelectedLabel" type\x3d"text" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3c/tr\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/tbody\x3e\r\n\t\t\t\t\t\t\t\t\x3c/table\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"selectedSymbolChooser" data-dojo-type\x3d"jimu/dijit/SymbolChooser"\x3e\x3c/div\x3e\r\n\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\x3c/tbody\x3e\r\n\t\x3c/table\x3e\r\n\x3c/div\x3e',
"url:jimu/dijit/templates/PopupConfig.html":'\x3cdiv style\x3d"width:560px;"\x3e\r\n\t\x3ctable class\x3d"popup-config-layout" style\x3d"width:100%;table-layout:fixed;"\x3e\r\n\t\t\x3ccolgroup\x3e\r\n\t\t\t\x3ccol width\x3d"auto"\x3e\x3c/col\x3e\r\n\t\t\t\x3ccol width\x3d"370px"\x3e\x3c/col\x3e\r\n\t\t\t\x3ccol width\x3d"70px"\x3e\x3c/col\x3e\r\n\t\t\x3c/colgroup\x3e\r\n\t\t\x3ctbody\x3e\r\n\t\t\t\x3ctr data-dojo-attach-point\x3d"titleTR"\x3e\r\n\t\t\t\t\x3ctd nowrap\x3e\r\n\t\t\t\t\t\x3cspan\x3e${nls.title}\x3c/span\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"titleTextBox" data-dojo-type\x3d"dijit/form/TextBox" style\x3d"width:100%;" /\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"btnAdd" data-dojo-type\x3d"dijit/form/DropDownButton"\x3e\r\n\t\t\t\t\t\t\x3cspan\x3e${nls.add}\x3c/span\x3e\r\n\t\t\t\t\t\t\x3cdiv data-dojo-type\x3d"dijit/TooltipDialog"\x3e\r\n\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"menu" data-dojo-type\x3d"dijit/Menu"\x3e\x3c/div\x3e\r\n\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\t\x3ctr data-dojo-attach-point\x3d"fieldsTR"\x3e\r\n\t\t\t\t\x3ctd nowrap\x3e\r\n\t\t\t\t\t\x3cspan\x3e${nls.fields}\x3c/span\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd colspan\x3d"2" data-dojo-attach-point\x3d"fieldsTableTd"\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\x3c/tbody\x3e\r\n\t\x3c/table\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/Geoprocessing/editors/SelectFeatureSetFromUrl.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"inputNode"\x3e\r\n    \x3cinput name\x3d"url" data-dojo-type\x3d"jimu/dijit/URLInput" data-dojo-attach-point\x3d"featureSetUrl" data-dojo-props\x3d"placeholder: \'feature set URL\'"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"loadingNode" class\x3d"loading"\x3e\x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"visibleCheckboxDiv"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"featuresetNode"\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:jimu/dijit/templates/SpatialFilterByFeatures.html":'\x3cdiv\x3e\r\n\t\x3cdiv class\x3d"layer-tip second-stress" data-dojo-attach-point\x3d"tipNode"\x3e${nls.relatedLayer}\x3c/div\x3e\r\n\t\x3ctable\x3e\r\n\t\t\x3ccolgroup\x3e\r\n\t\t\t\x3ccol width\x3d"auto"\x3e\x3c/col\x3e\r\n\t\t\t\x3ccol width\x3d"100"\x3e\x3c/col\x3e\r\n\t\t\x3c/colgroup\x3e\r\n\t\t\x3ctbody\x3e\r\n\t\t\t\x3ctr\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"layers-select-div" data-dojo-attach-point\x3d"layerSelectDiv"\x3e\x3c/div\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"jimu-float-trailing" data-dojo-attach-point\x3d"featureSetChooserDiv"\x3e\x3c/div\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\x3c/tbody\x3e\r\n\t\x3c/table\x3e\r\n\r\n\t\x3cdiv class\x3d"selection-option not-visible" data-dojo-attach-point\x3d"selectionOptionDiv"\x3e\x3c/div\x3e\r\n\r\n\t\x3cdiv class\x3d"search-distance-div" data-dojo-attach-point\x3d"searchDistanceDiv"\x3e\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"loading" data-dojo-type\x3d"jimu/dijit/LoadingShelter" data-dojo-props\x3d\'hidden:true\'\x3e\x3c/div\x3e\r\n\x3c/div\x3e',
"url:jimu/dijit/templates/_TreeNode.html":'\x3cdiv class\x3d"dijitTreeNode" role\x3d"presentation"\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"rowNode" class\x3d"dijitTreeRow" role\x3d"presentation"\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"expandoNode" class\x3d"dijitInline dijitTreeExpando" role\x3d"presentation"\x3e\x3c/span\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"expandoNodeText" class\x3d"dijitExpandoText" role\x3d"presentation"\x3e\x3c/span\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"contentNode" class\x3d"dijitTreeContent" role\x3d"presentation"\x3e\r\n\t\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitTreeIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"labelNode,focusNode" class\x3d"dijitTreeLabel" role\x3d"treeitem" tabindex\x3d"-1" aria-selected\x3d"false"\x3e\x3c/span\x3e\r\n\t\t\x3c/span\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitTreeNodeContainer" role\x3d"presentation" style\x3d"display: none;"\x3e\x3c/div\x3e\r\n\x3c/div\x3e',
"url:dijit/templates/TreeNode.html":'\x3cdiv class\x3d"dijitTreeNode" role\x3d"presentation"\r\n\t\x3e\x3cdiv data-dojo-attach-point\x3d"rowNode" class\x3d"dijitTreeRow" role\x3d"presentation"\r\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"expandoNode" class\x3d"dijitInline dijitTreeExpando" role\x3d"presentation"\x3e\x3c/span\r\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"expandoNodeText" class\x3d"dijitExpandoText" role\x3d"presentation"\x3e\x3c/span\r\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"contentNode"\r\n\t\t\tclass\x3d"dijitTreeContent" role\x3d"presentation"\x3e\r\n\t\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitTreeIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan data-dojo-attach-point\x3d"labelNode,focusNode" class\x3d"dijitTreeLabel" role\x3d"treeitem"\r\n\t\t\t\t   tabindex\x3d"-1" aria-selected\x3d"false" id\x3d"${id}_label"\x3e\x3c/span\x3e\r\n\t\t\x3c/span\r\n\t\x3e\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitTreeNodeContainer" role\x3d"presentation"\r\n\t\t style\x3d"display: none;" aria-labelledby\x3d"${id}_label"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dijit/templates/Tree.html":'\x3cdiv role\x3d"tree"\x3e\r\n\t\x3cdiv class\x3d"dijitInline dijitTreeIndent" style\x3d"position: absolute; top: -9999px" data-dojo-attach-point\x3d"indentDetector"\x3e\x3c/div\x3e\r\n\t\x3cdiv class\x3d"dijitTreeExpando dijitTreeExpandoLoading" data-dojo-attach-point\x3d"rootLoadingIndicator"\x3e\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitTreeContainer" role\x3d"presentation"\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:jimu/dijit/templates/LayerChooserFromMapWithDropbox.html":'\x3cdiv\x3e\r\n  \x3ctable data-dojo-attach-event\x3d"onclick: _onDropDownClick"\x3e\r\n    \x3ccolgroup\x3e\r\n      \x3ccol width\x3d"10px"\x3e\x3c/col\x3e\r\n      \x3ccol width\x3d"auto"\x3e\x3c/col\x3e\r\n      \x3ccol width\x3d"30px"\x3e\x3c/col\x3e\r\n    \x3c/colgroup\x3e\r\n    \x3ctbody\x3e\r\n      \x3ctr\x3e\r\n        \x3ctd\x3e\x3c/td\x3e\r\n        \x3ctd\x3e\r\n          \x3cdiv class\x3d"layer-name jimu-ellipsis" data-dojo-attach-point\x3d"layerNameNode"\x3e\x3c/div\x3e\r\n        \x3c/td\x3e\r\n        \x3ctd\x3e\r\n          \x3cdiv class\x3d"drop-select jimu-float-trailing" data-dojo-attach-point\x3d"dropArrowNode"\x3e\r\n            \x3cdiv class\x3d"jimu-icon jimu-icon-down-arrow-8"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3c/td\x3e\r\n      \x3c/tr\x3e\r\n    \x3c/tbody\x3e\r\n  \x3c/table\x3e\r\n\x3c/div\x3e\r\n',
"url:jimu/dijit/templates/SearchDistance.html":'\x3cdiv\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"cbxDiv"\x3e\x3c/div\x3e\r\n\t\x3ctable style\x3d"table-layout:fixed;width:100%;"\x3e\r\n\t\t\x3ccolgroup\x3e\r\n\t\t\t\x3ccol width\x3d"auto"\x3e\x3c/col\x3e\r\n\t\t\t\x3ccol width\x3d"15px"\x3e\x3c/col\x3e\r\n\t\t\t\x3ccol width\x3d"auto"\x3e\x3c/col\x3e\r\n\t\t\x3c/colgroup\x3e\r\n\t\t\x3ctbody\x3e\r\n\t\t\t\x3ctr\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"numberTextBox" data-dojo-type\x3d"dijit/form/NumberTextBox"\r\n\t\t\t\t\t data-dojo-props\x3d\'"required":true,intermediateChanges:false,constraints:{min:0,pattern:"#####0.##########"}\'\r\n\t\t\t\t\t style\x3d"width:100%;" data-dojo-attach-event\x3d"change:_onNumberTextBoxChanged" /\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cselect data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"unitSelect"\r\n\t\t\t\t\tdata-dojo-attach-event\x3d"change:_onUnitSelectChanged" style\x3d"width:100%;"\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"MILES" selected\x3e${nls.miles}\x3c/option\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"KILOMETERS"\x3e${nls.kilometers}\x3c/option\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"FEET"\x3e${nls.feet}\x3c/option\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"METERS"\x3e${nls.meters}\x3c/option\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"YARDS"\x3e${nls.yards}\x3c/option\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"NAUTICAL_MILES"\x3e${nls.nauticalMiles}\x3c/option\x3e\r\n\t\t\t\t\t\x3c/select\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\x3c/tbody\x3e\r\n\t\x3c/table\x3e\r\n\x3c/div\x3e',
"url:widgets/Geoprocessing/editors/SelectFeatureSetFromLayer.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"inputNode"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"layerChooseNode"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"featuresetNode"\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',"url:widgets/Geoprocessing/editors/SelectFeatureSetFromFile.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"inputNode"\x3e\r\n    \x3cdiv class\x3d"jimu-r-row" style\x3d"margin-top: 10px;"\x3e\r\n      \x3cdiv class\x3d"col-1-2"\x3e\r\n        \x3cform data-dojo-attach-point\x3d"fileForm"\r\n            enctype\x3d"multipart/form-data"\r\n            method\x3d"POST" data-dojo-type\x3d"dijit/form/Form"\x3e\r\n          \x3cinput id\x3d"${uniqueID}_fs_file" type\x3d"file" multiple\x3d"false" name\x3d"file"\r\n            data-dojo-attach-point\x3d"fileInput" accept\x3d"application/zip"\r\n            data-dojo-attach-event\x3d"onChange: _onUpload" style\x3d"display:none"/\x3e\r\n          \x3cdiv class\x3d"jimu-btn jimu-leading-margin10 jimu-float-leading"\x3e\r\n            \x3clabel class\x3d"file-input-label" for\x3d"${uniqueID}_fs_file"\x3e\r\n              ${nls.addShapefile}\r\n            \x3c/label\x3e\r\n          \x3c/div\x3e\r\n          \x3cinput type\x3d"hidden" name\x3d"f" value\x3d"json"/\x3e\r\n        \x3c/form\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"col-1-2"\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"clearLink"\r\n          data-dojo-attach-event\x3d"onClick: _clear"\r\n          class\x3d"jimu-float-trailing shp-clear" style\x3d""\x3e${nls.clear}\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"jimu-r-row shp-info"\x3e\r\n      \x3cimg data-dojo-attach-point\x3d"uploadStatus" class\x3d"upload-status" src\x3d""/\x3e\r\n      \x3cspan data-dojo-attach-point\x3d"fileInfo"\x3e\x3c/span\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"featuresetNode"\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/Geoprocessing/editors/SelectFeatureSetFromDraw.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"inputNode"\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"featuresetNode"\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:widgets/Geoprocessing/editors/DataFileEditor.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"modeSelection" style\x3d"display:none"\x3e\r\n    \x3cdiv class\x3d"field"\x3e\r\n      \x3cinput name\x3d"dataFileMode" type\x3d"radio" data-dojo-attach-point\x3d"urlMode"\r\n        data-dojo-attach-event\x3d"onclick: _onUrlModeSelect" style\x3d"font-size: 12px;"\x3e\r\n        \x3clabel style\x3d"width: auto;" class\x3d"jimu-leading-margin05"\x3e${nls.useUrlForGPInput}\x3c/label\x3e\r\n      \x3cinput name\x3d"dataFileMode" type\x3d"radio" data-dojo-attach-point\x3d"itemMode"\r\n        style\x3d"font-size: 12px;" data-dojo-attach-event\x3d"onclick: _onItemModeSelect"\r\n        class\x3d"jimu-leading-margin35"\x3e\x3clabel style\x3d" width: auto;"\r\n        class\x3d"jimu-leading-margin05"\x3e${nls.useUploadForGPInput}\x3c/label\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"settingNode"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"urlNode" data-dojo-props\x3d"label:urlNode"\x3e\r\n        \x3cdiv\x3e\r\n          \x3cinput type\x3d"text" data-dojo-attach-point\x3d"urlEditor" style\x3d"width:100%"\r\n            data-dojo-type\x3d"jimu/dijit/URLInput" data-dojo-props\x3d"rest:false" class\x3d"common-input"/\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"fileNode" data-dojo-props\x3d"label:fileNode"\x3e\r\n        \x3cdiv\x3e\r\n          \x3cform data-dojo-attach-point\x3d"fileForm"\r\n                enctype\x3d"multipart/form-data"\r\n                method\x3d"POST" data-dojo-type\x3d"dijit/form/Form"\x3e\r\n            \x3cinput id\x3d"${uniqueID}_file" type\x3d"file" multiple\x3d"false" name\x3d"file"\r\n              data-dojo-attach-point\x3d"fileInput"\r\n              data-dojo-attach-event\x3d"onChange: _onUpload" style\x3d"display:none"/\x3e\r\n            \x3cdiv class\x3d"jimu-btn jimu-leading-margin10 jimu-float-leading"\x3e\r\n              \x3clabel class\x3d"file-input-label" for\x3d"${uniqueID}_file"\x3e\r\n                ${nls.selectFileToUpload}\r\n              \x3c/label\x3e\r\n            \x3c/div\x3e\r\n            \x3cinput type\x3d"hidden" name\x3d"f" value\x3d"json"/\x3e\r\n          \x3c/form\x3e\r\n          \x3cspan data-dojo-attach-point\x3d"uploadFileName" class\x3d"jimu-leading-margin2"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/Geoprocessing/editors/RasterLayerEditor.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"modeSelection" style\x3d"display:none"\x3e\r\n    \x3cdiv class\x3d"field"\x3e\r\n      \x3cinput name\x3d"rasterDataMode" type\x3d"radio" data-dojo-attach-point\x3d"urlMode"\r\n        data-dojo-attach-event\x3d"onclick: _onUrlModeSelect" style\x3d"font-size: 10px;"\r\n        class\x3d"jimu-leading-margin10"\x3e\x3clabel style\x3d"width: auto;" class\x3d"jimu-leading-margin025"\x3e${nls.useUrlForGPInput}\x3c/label\x3e\r\n      \x3cinput name\x3d"rasterDataMode" type\x3d"radio" data-dojo-attach-point\x3d"itemMode"\r\n        style\x3d"font-size: 10px;" data-dojo-attach-event\x3d"onclick: _onItemModeSelect"\r\n        class\x3d"jimu-leading-margin2"\x3e\x3clabel style\x3d" width: auto;" class\x3d"jimu-leading-margin025"\x3e${nls.useUploadForGPInput}\x3c/label\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"settingNode"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"urlNode" data-dojo-props\x3d"label:urlNode"\x3e\r\n        \x3ctable\x3e\r\n          \x3ctr\x3e\r\n            \x3ctd\x3e\x3clabel title\x3d"${nls.rasterFormat}"\x3e${nls.rasterFormat}\x3c/label\x3e\x3c/td\x3e\r\n            \x3ctd\x3e\x3cinput type\x3d"text" data-dojo-attach-point\x3d"rasterFormatInput"\r\n                data-dojo-type\x3d"dijit/form/TextBox" class\x3d"common-input"/\x3e\x3c/td\x3e\r\n          \x3c/tr\x3e\r\n          \x3ctr\x3e\r\n            \x3ctd\x3e\x3clabel title\x3d"${nls.url}"\x3e${nls.url}\x3c/label\x3e\x3c/td\x3e\r\n            \x3ctd\x3e\x3cinput type\x3d"text" data-dojo-attach-point\x3d"urlEditor"\r\n            data-dojo-type\x3d"dijit/form/ValidationTextBox" class\x3d"common-input"/\x3e\x3c/td\x3e\r\n          \x3c/tr\x3e\r\n        \x3c/table\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"fileNode" data-dojo-props\x3d"label:fileNode"\x3e\r\n        \x3cdiv\x3e\r\n          \x3cform data-dojo-attach-point\x3d"fileForm"\r\n                enctype\x3d"multipart/form-data"\r\n                method\x3d"POST" data-dojo-type\x3d"dijit/form/Form"\x3e\r\n            \x3cinput id\x3d"${uniqueID}_raster" type\x3d"file" multiple\x3d"false" name\x3d"file"\r\n              data-dojo-attach-point\x3d"fileInput" style\x3d"display:none"\r\n              data-dojo-attach-event\x3d"onChange: _onUpload"/\x3e\r\n            \x3cdiv class\x3d"jimu-btn jimu-leading-margin10 jimu-float-leading"\x3e\r\n              \x3clabel class\x3d"file-input-label" for\x3d"${uniqueID}_raster"\x3e\r\n                ${nls.selectFileToUpload}\r\n              \x3c/label\x3e\r\n            \x3c/div\x3e\r\n            \x3cinput type\x3d"hidden" name\x3d"f" value\x3d"json"/\x3e\r\n          \x3c/form\x3e\r\n          \x3cspan data-dojo-attach-point\x3d"uploadFileName" class\x3d"jimu-leading-margin2"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:jimu/dijit/templates/ExportChooser.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"export-mask" data-dojo-attach-point\x3d"exportMask"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"export-format jimu-corner-all" data-dojo-attach-point\x3d"exportFormats"\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',"url:widgets/Geoprocessing/resultrenderers/FeatureSetRenderer.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"output-label" data-dojo-attach-point\x3d"labelNode"\x3e\r\n    \x3cspan data-dojo-attach-point\x3d"labelContent"\x3e${nls.drawnOnMap}\x3c/span\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"clear-node" data-dojo-attach-point\x3d"clearNode" style\x3d"display:none"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"export-node" data-dojo-attach-point\x3d"exportNode" style\x3d"display:none"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/Geoprocessing/resultrenderers/symbol.json":'{\r\n  "pointSymbol": {\r\n    "angle": 0,\r\n    "xoffset": 0,\r\n    "yoffset": 0,\r\n    "type": "esriPMS",\r\n    "url": "http://static.arcgis.com/images/Symbols/Shapes/BlueCircleLargeB.png",\r\n    "imageData": "iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAADImlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4wLWMwNjAgNjEuMTM0Nzc3LCAyMDEwLzAyLzEyLTE3OjMyOjAwICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1NkRDMzYxRUQzMjIxMUUwQUU5NUVFMEYwMTY0NzUwNSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo3ODNFRUI4QUQzMjIxMUUwQUU5NUVFMEYwMTY0NzUwNSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjU2REMzNjFDRDMyMjExRTBBRTk1RUUwRjAxNjQ3NTA1IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU2REMzNjFERDMyMjExRTBBRTk1RUUwRjAxNjQ3NTA1Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+ZAI1gwAACexJREFUeF7tWntMlfcZ/ongEpNZXVfstHGoiQZvidcsTbak/mPSVpOFGZctbllntsSkCcnipWJbcFiw0oLUaqudypitLWy2slq3VafOy+Eu5SYUKbSgQJ0HUO7I2+f5ne93+Pg8ICXpOSjnJE84l+/7fud53+d93vf7HZSIqLGMMU2eiQ8GYCzLP6iAYAkEPSBogsEuEOwCwUkwOAqPaR8Y0+RHPAmqB+AxXHMfkQIeAP7D5jXsA+0RtQdgypQpaurUqWr69Olq5syZas6cOWrevHlq4cKFavHixWrp0qVq2bJlavny5RodHR0ze3t7f3737t24np6eHQbt7e1RTU1Ns3HtUCAEGEdMmjRJTZw4UU2YMEGFhYWp0NBQFRISojFuHA/x/fCbAsLDwweQnz9/vlq0aJFasmSJJrxixQpNGl8oua+vrwZ/h3wgMLW3b9/e53K5IkHte1ZAdDBIfvz48aMrANOmTVMRERHezNvJkzgIHSHj1u4+OVTdK7/M6RF1slvUR10efAj8AzjRLT+72C2plb3SgmP5aGlpOZaVlbUI5CcCYUYZ98s+NeE3BcyYMUPNnj1bRUZGDsg8ZY4v4Sbx56/0isoC6SwQJezkj+P134FMIAP4oFPUsU55xtUjbpyL67QWFhb+Hpx+YAWCJTK49q2K8FsAWPdz585VCxYs0DXPL8f6Zgb/09An6hRJW+RP2LJO4sy8k/z7CMB7wLvAB12S8dVdrYbq6uq9uPaPgO8DE2w+4dME/BYAZp+mR+nbyW8vHSTrQxFH5r3kj+L5X4G0TolC2fBRWlp6AGv8GJhs+YMxy3uC4LcA0PWN8Vmyl5gSkrfk7sy6r4w7iaf3k1dHOkQd6pDV2Z4gZGRkbAVbdosptiAELgCUPwNgOb37Xzcge5IeTO6mzil1O3FKnlkneWRd47CHvPoLcLBd0qu75c6dO23r169fawWBSmA53OMJflMAA8AvgOyn0fDUx5bD092dcqfBOYkb0s6sG/LvkHybqAO3EYxWud7SLrm5ueew5pNWOdAT7jFGvwWAJdDc3DyL8nyuAC3OEB/E3QfUuJ00M065W5LXmbeTf6tZ1P5bMu3fbmltbZVVq1ZtBPFlljGyTdIPvA+/BYDZxzS3h73bm3G7u5usG2c3GbcMTkvdELdL3pB/u1UUye/7v6g3b4p6o0lqmtyC+eAs1n4a4MDEFsk5wVsKfg0AJ7w3P4fx0eB89HSddSdxO2lD3NQ7yR+4I8pOfu/XolIbRO25IX+60CiVlZXNIPw7qxSewF+qwP8B4PxO+XOKGzDMmFp3mpsz2yRtiNPsfGXekE+5Liq5DgNTnTQ0NAjuMV4B6WctFdAQ6QX64S8FjEP9r2UAdO37MrnBzM0XcWfNG9kz85r8V6Jeq4USvpD6+nrZuHFjBrj+BlgOPA7w3kGrwG8BaGtr26kDYDLO1sasE0ORZ7ZNxkncSx7Sf6tFG56n5hu17D3ka0Ttvibq1c+ltrZWUlJSssH1eeApIMJeBv4KQAgcOUEHwJicr35O2fuqc0PcTt5e9zA8lUrykD0zT/K7KkUlXpX/llyT3bt354M0ByOWAfvxI4DuBv4KQKjb7d6lA3C/fu6sc2/W2/WQ4+319uxr6dcPJJ9QLuqVMqmqqpLExMQr4BoL/AJYCDxqfMBvAbh169arOgD3a2v3yN1GXA86luvvd/dLn3X/+peikqo9mdfkS0XFF0tFRYXEx8d/BsI7gV8BvBN7zN8BCLt69epvvSUwlNR1lq1Mk7AhTeKc8nxKH3Wf9IWu+X7yn+F5kZSVlcm6devOg3AisB7gUBQOcB7wWwmEpaWlLdUBOI0uYO/juq6NtEnSIkqyhjBJG+LMPF1ftzxT9zA9kkfNezIP8jsKcd1CKSkpEdyKfxToALDvPtbZ2Vn/Iu8A7WbmzSocnXXNac4Jkqbb26a8geSr+sn/uchDPi5f/nC8UM6cOdOOtf8W6BJgAB6tqalJ/7od9wF2KRtyhiBJGqJsb3Zot/dMeR7HZ+Yd5OMKRMXmiXo5R/6XWygJCQnVWPtIoE2QLeeRmJiYlV1dXfLEacjbnlHKmeQ00M/tIGENkDYTnjY8W83vLBHFzJP8y7miXsqW8HdyBFtkgq24T7H2QSCgbZBTF2fwiPLy8k+uu+nmnhsWLzlmlQS9QFtja2OmNazpjsRNn6fbk/yOK1ryzLp6yYXXLjnrypPk5OR6rJkJpAIBHYQYAI6fj2/YsGHNzZs32w4Wo6btWSVBZpaDjBeQOAkb0pS7t82V9ZsdJY+sa/LbL0l8Vq6cP3++B9k/a6v/gI7C7Dj0gclAZGpqajzmAll5yurfJKyJoo/rERZE6eoECe+q8Jicrb97st4vefXiZU3+J4dd3AiR1atXX8Fax4H9wCYgoDdDDIApA96SPpmZmflhY2OjrPwn5G1IO8la05xubZS6bm8WcUfW1faLsuLQZcnJyZHNmzfT+D4G0gHeCQb+dtgKAIcPbkpwc+JpzAan6urqJOUypP66meAgbTth3dZA2mpt2uRMrSPjJK5iL0pcVrYmv2nTJpL/BHgf2ANEcy1rzYBuiFAF7AY0Q+7bcyJbGx0dnY4psbOw4pqEH4PM7Zk2pHVb87i7rnMtdxCPuSA/fPuSfHrBJefOneuB7Iss8rz93Qe8wDWstbhmQLfETBnQC7hByX17blj+Gr8VJB09erQcuzeSXVwufzxRrKc4tZPO7iAeB/J7L8tzx1xy+qIn60lJSTfwo+sFS/bMPMnH8NrWGlwrsJuiZG896AXcop4McN/+p9YXfQE7x4dx714OB28rLi6WoqIi3csLCgokPz9f8vLytMGR9MmTJztiY2O/tIhT8jQ81jxlz8yTPK/NNbhWYLfFbQHgU5YC2yJ/tOAXpBIo1WiAprV/1qxZx6Oioi5heKrYtm1b5datW6u2bNlStWbNmgKQ5nY3Te4EwD7PUZduz3N5DV6L1xw9P4w4AkAVmCAwO5QoPYFmRcdm2+LtKwcYTnFHLJLv4i9BwnyPn/EYHstzeC6vwWuNrp/GHAHgSxMESpP1SZNid2Dm2LM5uHB64wgba5HkLS1BwnyPn/EYHstzeC6vMfp+HPURAPMWA0FjpEOzTXFOIAluYHIPj8S4k8PNDN7PE3zO9/gZj+GxPIfnjs6fx4cIAD8yauCcwEBMBrh7GwFwD4/bWNzJobQJPud7/IzH8FieM+AfJO6zpv7YX1tiw/kuJhBGETRJEuIGJvfwuI3FnRyCz/keP+MxA/5FZriLjcYA2L87A2GUwRIhqBDCvPb+k9S3IW0/drQpYKQ8RnzedxqA4V78QThu2GbxIJAZyXcMBmAkUXuYzgkq4GHK5ki4BBUwkqg9TOeMeQV8A+PZBskD6qdKAAAAAElFTkSuQmCC",\r\n    "contentType": "image/png",\r\n    "width": 15,\r\n    "height": 15\r\n  }\r\n}',
"url:widgets/Geoprocessing/resultrenderers/RecordSetRenderer.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"output-label" data-dojo-attach-point\x3d"labelNode"\x3e\r\n    \x3cspan data-dojo-attach-point\x3d"labelContent"\x3e\x3c/span\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"control-section"\x3e\r\n    \x3cdiv class\x3d"clear-node jimu-float-trailing" data-dojo-attach-point\x3d"clearNode" style\x3d"display:none"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"export-node jimu-float-trailing" data-dojo-attach-point\x3d"exportNode" style\x3d"display:none"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"magnify-node jimu-float-trailing" data-dojo-attach-point\x3d"magnifyNode"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"table-node" data-dojo-attach-point\x3d"tableNode"\x3e\x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/Geoprocessing/resultrenderers/ResultImageLayerRenderer.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"output-label" data-dojo-attach-point\x3d"labelNode"\x3e\r\n    \x3cspan\x3e${nls.drawnOnMap}\x3c/span\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"clear-node" data-dojo-attach-point\x3d"clearNode" style\x3d"display:none"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:widgets/Geoprocessing/Widget.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"jimu-widget error-message" data-dojo-attach-point\x3d"errorNode"\r\n      style\x3d"display:none;"\x3e${nls.noToolConfig}\x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"toolNode"\x3e\r\n    \x3cdiv class\x3d"input-pane" data-dojo-attach-point\x3d"inputPaneNode"\x3e\r\n      \x3cdiv class\x3d"section" data-dojo-attach-point\x3d"inputSectionNode"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"section jimu-r-row opts" data-dojo-attach-point\x3d"optsSectionNode"\x3e\r\n        \x3cdiv class\x3d"col-1-2"\x3e\r\n          \x3ca class\x3d"help" data-dojo-attach-point\x3d"helpLinkNode" target\x3d"_blank"\x3e${nls.help}\x3c/a\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"col-1-2"\x3e\r\n          \x3cdiv class\x3d"jimu-btn" data-dojo-attach-point\x3d"exeNode" data-dojo-attach-event\x3d"onclick: _onExecuteClick"\x3e${nls.execute}\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"output-pane" data-dojo-attach-point\x3d"outputPaneNode"\x3e\r\n      \x3cdiv class\x3d"section info" data-dojo-attach-point\x3d"infoNode"\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"loadingNode" class\x3d"loading"\x3e\x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"infoTextNode" class\x3d"text"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"section" data-dojo-attach-point\x3d"outputSectionNode"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/Geoprocessing/css/style.css":".jimu-gp-editor-base{display: inline-block;}.jimu-gp-editor-multivalue{}.jimu-gp-editor-multivalue .single-input{margin-top: 5px;}.jimu-gp-editor-multivalue .remove{background-color: #24B9F0; width: 20px; height: 20px; border-radius: 10px; color: white; font-size: 20px; font-weight: bold; line-height: 19px; margin-left: 10px; display: inline-block; cursor: pointer; text-align: center;}.jimu-gp-editor-multivalue .add-input{text-align: right;}.jimu-gp-editor-multivalue .add-input .add-btn{background-color: #24B9F0; width: 20px; height: 20px; border-radius: 10px; color: white; font-size: 20px; font-weight: bold; line-height: 19px; margin-left: 10px; display: inline-block; cursor: pointer; text-align: center;}.jimu-gp-editor-sffl{height: 30px; position: relative;}.jimu-widget-geoprocessing{height: 100%; margin: -14px; font-size: 14px;}.jimu-widget-geoprocessing .jimu-viewstack{padding: 14px;}.jimu-widget-geoprocessing .input-node .jimu-viewstack{padding: 0 !important; margin-top: 10px;}.jimu-widget-geoprocessing .section{overflow: visible;}.jimu-widget-geoprocessing .opts [class*\x3d\"col\"]{height: 45px;}.jimu-widget-geoprocessing .opts a.help{line-height: 45px;}.jimu-widget-geoprocessing .section.opts{margin-top: 20px;}.jimu-widget-geoprocessing .section .jimu-btn{float: none; margin: auto; width: 150px;}.jimu-widget-geoprocessing .info{display: none; height: 80px; position: relative;}.jimu-widget-geoprocessing .info .text{text-align: center; width: 100%; bottom: 0; position: absolute;}.jimu-widget-geoprocessing .input-node, .jimu-widget-geoprocessing .output-node{overflow: visible; margin-top: 20px;}.jimu-widget-geoprocessing .input-node\x3e.input-label, .jimu-widget-geoprocessing .output-node\x3e.output-label{overflow: hidden; font-size: 14px; color: #686868; font-weight: bold;}.jimu-widget-geoprocessing .input-node\x3e.editor-container, .jimu-widget-geoprocessing .output-node\x3e.renderer-container{margin-top: 5px; width: 100%;}.TabTheme .jimu-widget-geoprocessing .jimu-tab\x3e.control\x3e.tab.jimu-state-selected{border-top: 0;}.jimu-widget-geoprocessing li{list-style: none;}.jimu-widget-geoprocessing .error-message{width: 100%; margin: 14px;}.jimu-widget-geoprocessing .jimu-basic-layer-chooser-from-map .jimu-tree{border: 1px solid #aaaaaa;}.jimu-widget-geoprocessing .jimu-gp-editor-url .jimu-url-input{width: 100%;}.jimu-widget-geoprocessing .file-input-label{display: inline-block; width: 100%; height: 100%; cursor: pointer;}.jimu-widget-geoprocessing .jimu-gp-editor-datafile form \x3e .jimu-btn{padding: 0;}.geoprocessing-popup-title{height: 20px;}.geoprocessing-popup .header{font-weight: bold;}.geoprocessing-popup .hzLine{border-top: 1px solid #333333; margin-top: 6px; margin-bottom: 6px;}.geoprocessing-popup .geoprocessing-popup-table{border-collapse: collapse;}.geoprocessing-popup .geoprocessing-popup-table td{padding:2px 2px 5px 2px;}.geoprocessing-popup .geoprocessing-popup-table .attr-name{color: #888888;}.jimu-widget-geoprocessing .output-node .dgrid .dgrid-cell {width: 80px;}.jimu-widget-geoprocessing .shp-info{margin-top: 20px; height: 24px;}.jimu-widget-geoprocessing .shp-clear{cursor: pointer; line-height: 32px;}.jimu-widget-geoprocessing .upload-status{width: 24px; height: 24px;}.jimu-widget-geoprocessing .jimu-gp-renderer-draw-feature{position: relative; height: 40px; width: 100%;}.jimu-widget-geoprocessing .export-node {width: 16px; height: 16px; background-image: url(images/download.png); cursor: pointer;}.jimu-widget-geoprocessing .export-node:hover {background-image: url(images/download_hover.png);}.jimu-widget-geoprocessing .clear-node {width: 16px; height: 16px; background-image: url(images/del.png); cursor: pointer;}.jimu-widget-geoprocessing .clear-node:hover {background-image: url(images/del_hover.png);}.jimu-widget-geoprocessing .magnify-node {width: 16px; height: 16px; background-image: url(images/zoom_normal.png); cursor: pointer;}.jimu-widget-geoprocessing .magnify-node:hover {background-image: url(images/zoom_hover.png);}.jimu-widget-geoprocessing .jimu-gp-renderer-draw-feature .output-label{position: absolute; font-size: 12px; line-height: 30px; left: 0; right: 75px;}.jimu-rtl .jimu-widget-geoprocessing .jimu-gp-renderer-draw-feature .output-label{left: 75px; right: 0;}.jimu-widget-geoprocessing .jimu-gp-renderer-draw-feature .clear-node {position: absolute; top: 50%; margin-top: -8px; right: 20px;}.jimu-rtl .jimu-widget-geoprocessing .jimu-gp-renderer-draw-feature .clear-node{left: 20px; right: auto;}.jimu-widget-geoprocessing .jimu-gp-renderer-draw-feature .export-node {position: absolute; top: 50%; margin-top: -8px; right: 47px;}.jimu-rtl .jimu-widget-geoprocessing .jimu-gp-renderer-draw-feature .export-node{left: 47px; right: auto;}.jimu-widget-geoprocessing .jimu-gp-renderer-table{position: relative; margin-top:30px;}.jimu-widget-geoprocessing .jimu-gp-renderer-table \x3e .control-section{position: absolute; height: 30px; width: 100%; top: -30px; left: 0;}.jimu-widget-geoprocessing .jimu-gp-renderer-table \x3e .control-section \x3e .export-node,.jimu-widget-geoprocessing .jimu-gp-renderer-table \x3e .control-section \x3e .magnify-node,.jimu-widget-geoprocessing .jimu-gp-renderer-table \x3e .control-section \x3e .clear-node {margin: 5px;}.jimu-widget-geoprocessing .jimu-gp-renderer-table .table-node{width: 100%;}.jimu-widget-geoprocessing .jimu-export-chooser{z-index: 1;}.gp-table-magnified{width: 100%; height: 100%;}.gp-table-magnified \x3e .dgrid{height: 100%;}.jimu-widget-geoprocessing .jimu-gp-editor-selection{position: relative; width: 100%; height: 40px; background: #EEEEEE;}.jimu-widget-geoprocessing .jimu-gp-editor-selection .label{position: absolute; left: 0; right: 36px; margin: 0 10px; height: 40px; line-height: 40px; font-family: 'Avenir-Light'; font-size: 12px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;}.jimu-rtl .jimu-widget-geoprocessing .jimu-gp-editor-selection .label{left: 36px; right: 0;}.jimu-widget-geoprocessing .jimu-gp-editor-selection .icon{width: 40px; height: 40px; cursor: pointer; position: absolute; right: 0;}.jimu-rtl .jimu-widget-geoprocessing .jimu-gp-editor-selection .icon{right: auto; left: 0;}.jimu-widget-geoprocessing .jimu-gp-editor-selection .icon-close{margin: 14px; font-size: 12px;}",
"*now":function(h){h(['dojo/i18n!*preload*widgets/Geoprocessing/nls/Widget*["ar","bs","cs","da","de","en","el","es","et","fi","fr","he","hr","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sr","sv","th","tr","zh-cn","vi","zh-hk","zh-tw","ROOT"]'])}}});
define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/html dojo/on dojo/Deferred dojo/promise/all jimu/BaseWidget jimu/dijit/TabContainer jimu/dijit/LoadingIndicator jimu/dijit/Message jimu/utils ./editorManager ./resultRendererManager esri/tasks/GPMessage esri/tasks/Geoprocessor esri/tasks/JobInfo esri/layers/ImageParameters esri/request esri/geometry/Extent esri/graphicsUtils ./utils".split(" "),function(h,e,l,f,d,a,b,q,g,n,r,k,p,t,x,w,c,y,z,m,C,D){return h([q],{baseClass:"jimu-widget-geoprocessing",
name:"Geoprocessing",postMixInProperties:function(){this.inherited(arguments);e.mixin(this.nls,window.jimuNls.common);e.mixin(this.nls,window.jimuNls.units)},startup:function(){this.inherited(arguments);this.config.taskUrl?(this.inputNodes=[],this.drawTools=[],this.resultNodes=[],this.resultLayers=[],p.setMap(this.map),p.setNls(this.nls),t.setMap(this.map),t.setNls(this.nls),this.gp=new w(this.config.taskUrl),this.gp.setOutSpatialReference(this.map.spatialReference),this.config.updateDelay&&this.gp.setUpdateDelay(this.config.updateDelay),
this.tab=new g({tabs:[{title:this.nls.input,content:this.inputPaneNode},{title:this.nls.output,content:this.outputPaneNode}],selected:this.nls.input}),this.tab.placeAt(this.domNode),this.tab.startup(),this.loading=new n({hidden:!0},this.loadingNode),this.loading.startup(),this.own(d(this.gp,"execute-complete",e.hitch(this,this.onExecuteComplete))),this.own(d(this.gp,"job-complete",e.hitch(this,this.onJobComplete))),this.own(d(this.gp,"job-cancel",e.hitch(this,this.onJonCancel))),this.own(d(this.gp,
"status-update",e.hitch(this,this.onStatusUpdate))),this.own(d(this.gp,"get-result-data-complete",e.hitch(this,this.onGetResultDataComplate))),this.own(d(this.gp,"get-result-image-layer-complete",e.hitch(this,this.onGetResultImageLayerComplate))),this.own(d(this.gp,"error",e.hitch(this,this.onError))),f.setAttr(this.helpLinkNode,"href",this.config.helpUrl),this._generateUniqueID(),"serverInfo"in this.config?this._createInputNodes():D.getServiceDescription(this.config.taskUrl).then(e.hitch(this,function(a){this.config.serverInfo=
a.serverInfo;this._createInputNodes()}))):(f.setStyle(this.toolNode,"display","none"),f.setStyle(this.errorNode,"display",""))},executeGP:function(){this._clearLastResult();f.addClass(this.exeNode,"jimu-state-disabled");this._getInputParamValues().then(e.hitch(this,function(a){this._showLoading();z({url:this.config.taskUrl,content:{f:"json"},handleAs:"json",callbackParamName:"callback"}).then(e.hitch(this,function(){this.config.isSynchronous?this.gp.execute(a):this.gp.submitJob(a);this.tab.selectTab(this.nls.output)}),
e.hitch(this,function(){f.removeClass(this.exeNode,"jimu-state-disabled")}))}),e.hitch(this,function(){f.removeClass(this.exeNode,"jimu-state-disabled")}))},onDeActive:function(){l.forEach(this.drawTools,function(a){a.deactivate()})},onExecuteComplete:function(a){this._hideLoading();var b;a.messages&&0<a.messages.length&&(b=l.filter(a.messages,function(a){return a.type===x.TYPE_WARNING||a.type===x.TYPE_ERROR}),0<b.length&&this._createErrorMessages(b));this._createOutputNodes(a.results);f.removeClass(this.exeNode,
"jimu-state-disabled")},onJobComplete:function(a){this._hideLoading();this.jobId="";f.removeClass(this.exeNode,"jimu-state-disabled");if(a.jobInfo.jobStatus!==c.STATUS_SUCCEEDED)this._createErrorMessages(a.jobInfo.messages);else if(this.config.useResultMapServer){var b=new y({imageSpatialReference:this.map.spatialReference});l.forEach(this.config.outputParams,function(c){c.visible&&(-1<["GPFeatureRecordSetLayer","GPRasterDataLayer"].indexOf(c.dataType)?this.gp.getResultImageLayer(a.jobInfo.jobId,
c.name,b):this.gp.getResultData(a.jobInfo.jobId,c.name))},this)}else l.forEach(this.config.outputParams,function(b){b.visible&&this.gp.getResultData(a.jobInfo.jobId,b.name)},this)},onJonCancel:function(){this.loading.hide();this.infoTextNode.innerHTML="Canceled";f.removeClass(this.exeNode,"jimu-state-disabled");this.jobId=""},onStatusUpdate:function(a){this.jobId=a.jobInfo.jobId;a.jobInfo.jobStatus===c.STATUS_SUCCEEDED?this._hideLoading():this._showLoading(a.jobInfo.jobStatus)},onGetResultDataComplate:function(a){this._createOutputNode(this._getOutputParamByName(a.result.paramName),
a.result)},onGetResultImageLayerComplate:function(a){var b=a.layer;(a=this._getResultImageLayerParam(b.url))?(b._wab_type="ArcGISDynamicMapServiceLayer",b.title=a.label,b.id=this.uniqueID+a.name,a=this._createOutputNode(a,b)):(a=b.url.substring(b.url.lastIndexOf("/")+1),b.title=a,this.map.addLayer(b),a=1);null!==a&&(this.resultLayers.push(b),b.fullExtent?this.map.setExtent(b.fullExtent):z({url:b.url,content:{f:"json",imageSR:this.map.spatialReference.wkid},handleAs:"json",callbackParamName:"callback"}).then(e.hitch(this,
function(a){a.value.mapImage.extent&&(a=new m(a.value.mapImage.extent),b.fullExtent=a,this.map.setExtent(a))})))},_getResultImageLayerParam:function(a){var b=a.substring(a.lastIndexOf("/")+1),c;l.some(this.config.outputParams,function(a){if(a.name===b)return c=a,!0},this);return c},onError:function(a){this.loading.hide();this.infoTextNode.innerHTML=k.sanitizeHTML(a.error.message);f.removeClass(this.exeNode,"jimu-state-disabled");this.jobId=""},destroy:function(){this._clearLastInput();this._clearLastResult();
this.inherited(arguments)},_generateUniqueID:function(){this.uniqueID=this.id.replace(/[\/\.]/g,"_")},_showLoading:function(a){this.loading.show();f.setStyle(this.infoNode,"display","block");this.infoTextNode.innerHTML=k.sanitizeHTML(a?a:this.nls.executing)},_hideLoading:function(){f.setStyle(this.infoNode,"display","none");this.loading.hide()},_getOutputParamByName:function(a){for(var b=0;b<this.config.outputParams.length;b++)if(this.config.outputParams[b].name===a)return this.config.outputParams[b]},
_getInputParamValues:function(){var c=new a,d={},f=[],g,h="";l.forEach(this.inputNodes,function(a){g=a.inputEditor.getGPValue();g.param=a.param;f.push(g)},this);b(f).then(e.hitch(this,function(a){for(var b=0;b<a.length;b++){if(f[b].param.required&&(null===a[b]||void 0===a[b])){h=f[b].param.label+" "+this.nls.requiredInfo;new r({message:h});c.reject(h);return}d[f[b].param.name]=a[b]}c.resolve(d)}),function(a){c.reject(a)});return c},_createInputNodes:function(){l.forEach(this.config.inputParams,function(a){this._createInputNode(a)},
this)},_clearLastInput:function(){l.forEach(this.inputNodes,function(a){a.inputEditor.clear&&e.isFunction(a.inputEditor.clear)&&a.inputEditor.clear()},this)},_clearLastResult:function(){l.forEach(this.resultNodes,function(a){f.destroy(a.labelNode);a.resultRenderer&&a.resultRenderer.destroy();f.destroy(a)});l.forEach(this.resultLayers,function(a){null!==a&&this.map.removeLayer(a)},this);this.resultNodes=[];this.resultLayers=[]},_createErrorMessages:function(a){this.infoTextNode.innerHTML="";var b=
f.create("ul",{"class":"output-node"},this.outputSectionNode);this.resultNodes.push(b);l.forEach(a,e.hitch(this,function(a){f.create("li",{"class":"error-message",innerHTML:k.sanitizeHTML(a.description)},b)}))},_createOutputNodes:function(a){var b=[];l.forEach(this.config.outputParams,function(c,d){b.push(this._createOutputNode(c,a[d]))},this);if(l.some(b,function(a){return null!==a})){var c=[];l.forEach(a,e.hitch(this,function(a){"GPFeatureRecordSetLayer"===a.dataType&&(a=a.value&&a.value.features)&&
0<a.length&&(c=c.concat(a))}));if(0<c.length)try{var d=C.graphicsExtent(c);d&&this.map.setExtent(d.expand(1.4))}catch(f){console.error(f)}}},_onExecuteClick:function(){f.hasClass(this.exeNode,"jimu-state-disabled")||this.executeGP()},_createInputNode:function(a){var b=f.create("div",{"class":"input-node"},this.inputSectionNode),c=f.create("div",{"class":"input-label",title:a.tooltip||a.label||""},b);f.create("span",{"class":"label-text",innerHTML:k.sanitizeHTML(a.label)},c);a.required&&f.create("span",
{"class":"label-star",innerHTML:"*"},c);var c=f.create("div",{"class":"editor-container"},b),d=p.createEditor(a,"input","widget",{uid:this.uniqueID,config:this.config,appConfig:this.appConfig});d.placeAt(c);"SelectFeatureSetFromDraw"===d.editorName&&this.drawTools.push(d.drawBox);b.param=a;b.inputEditor=d;this.inputNodes.push(b);!1===a.visible&&f.setStyle(b,"display","none");return b},_createOutputNode:function(a,b){var c;if(a.visible){try{c=t.createResultRenderer(a,b,{uid:this.uniqueID,config:this.config})}catch(d){console.error(d),
c=t.createResultRenderer("error",b,{uid:this.uniqueID,config:this.config})}var e=f.create("div",{"class":"output-node"},this.outputSectionNode);this.resultNodes.push(e);var g=f.create("div",{"class":"output-label",title:a.tooltip||a.label||"",innerHTML:k.sanitizeHTML(a.label)},e);e.param=a;e.labelNode=g;g=f.create("div",{"class":"renderer-container"},e);c.placeAt(g);c.startup();e.resultRenderer=c;return e}return null},useSelectionAsInput:function(a,b){l.forEach(this.inputNodes,function(c){"GPFeatureRecordSetLayer"===
c.param.dataType&&(c.param.defaultValue&&k.getTypeByGeometryType(c.param.defaultValue.geometryType)===a.geometryType)&&c.inputEditor.setFeatureSet(a,b)},this);this.tab.selectTab(this.nls.input)}})});